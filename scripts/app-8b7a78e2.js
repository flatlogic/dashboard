!function(){"use strict";function e(e){e.state("app.configurations.services.state.packages.editor",{url:"/:instances",templateUrl:"app/modules/configurations/services/state/packages/editor/editor.html",controller:"PackagesEditorController"})}var t=angular.module("qorDash.configurations.services.state.packages.editor",["ui.router","ui-notification","ui.bootstrap","mwl.confirm"]);t.config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(e){if(null==e)return!0;if(e.length>0)return!1;if(0===e.length)return!0;for(var t in e)if(s.call(e,t))return!1;return!0}e.selectedVersion={},e.itemsForSave={},e.newItemsCount=0,e.values={},e.requestsCounter=0,e.versions={},e.liveVersion={},e.$watch("domains",function(){e.domains&&(e.domain=e.domains.filter(function(e){return e.id==t.domain})[0])}),Object.filter=function(e,t){var n;for(n in e)if(e.hasOwnProperty(n)&&t(n))return e[n]},e.$watch("service",function(){e.service&&(e.editorService=e.service,e.editorService.instances=t.instances.split(","),e.editorService.instances.forEach(function(t){e.selectedVersion[t]=e.editorService.versions[0]}),e.deletedVersions={},e.isVersionDeleted=function(t,n){if(!e.deletedVersions[t])return!1;for(var o in e.deletedVersions[t])if(e.deletedVersions[t][o]==n)return!0;return!1},e.changeSelected=function(t){if(e.isVersionDeleted(t,e.selectedVersion[t]))for(var n in e.editorService.versions)e.isVersionDeleted(t,e.editorService.versions[n])||(e.selectedVersion[t]=e.editorService.versions[n]);return!0},e.loadData=function(){e.values={},e.val1={},e.versions={},e.liveVersion={};var a=function(a){for(var r in e.versions[a]){var i=e.versions[a][r],s={method:"GET",url:n+"/v1/pkg/"+t.domain+"/"+a+"/"+e.editorService.service+"/"+i,headers:{"Content-Type":"application/json"}};e.requestsCounter++,o(s).then(function(t){e.requestsCounter--,e.loaded=!0;var n=t.config.url.split("/"),o=n[n.length-1],a=n[n.length-3];e.selectedVersion[a]=o;for(var r in t.data)e.values[r]||(e.values[r]={}),e.values[r][a]||(e.values[r][a]={}),e.values[r][a][o]=t.data[r]},function(){e.requestsCounter--,e.loaded=!0})}};e.editorService.instances.forEach(function(r){var i={method:"GET",url:n+"/v1/pkg/"+t.domain+"/"+r+"/"+e.editorService.service+"/",headers:{"Content-Type":"application/json"}};e.requestsCounter++,o(i).then(function(t){e.requestsCounter--;for(var n in t.data)e.versions[r]||(e.versions[r]=[]),e.versions[r].push(n),t[n]&&(e.liveVersion[r]=n,e.selectedVersion[r]=n);a(r)},function(){})})},e.loadData())});e.changeSelectedVersion=function(t,n){e.selectedVersion[t]=n},e.isLive=function(t,n){return e.liveVersion[t]==n},e.makeLive=function(a,i){$("span[instance="+a+"].set-live-button").addClass("loading").text("Loading...");var s={method:"POST",url:n+"/v1/pkg/"+t.domain+"/"+a+"/"+e.editorService.service+"/"+i+"/live",headers:{"Content-Type":"application/json"}};o(s).then(function(){r.success("Live version for "+a+" has been changed."),$("span[instance="+a+"].set-live-button").removeClass("loading").text("Set live"),e.editorService.live[a]=i},function(){$("span[instance="+a+"].set-live-button").removeClass("loading").text("Set live")})};var s=Object.prototype.hasOwnProperty;e.isSavable=function(){return!i(e.itemsForSave)||!i(e.itemsForDelete)},e.makeCopy=function(i,s){var l=(a.open({animation:!0,templateUrl:"newVersionModal.html",controller:["$scope","$modalInstance","version","instance","instances",function(e,t,n,o,a){e.newVersionName="",e.version=n,e.instance=o,e.instances=a,e.targetInstance="",e.ok=function(){e.newVersionName&&e.targetInstance&&l(e.newVersionName,e.targetInstance,t)},e.cancel=function(){t.dismiss("cancel")}}],resolve:{version:function(){return s},instance:function(){return i},instances:function(){return e.service.instances}}}),function(a,l,c){if(a&&l){var d={};for(var u in e.values)e.values[u][i]&&e.values[u][i][s]&&(d[u]=e.values[u][i][s]);$("#config-modal-ok-button").button("loading");var m={method:"POST",url:n+"/v1/pkg/"+t.domain+"/"+l+"/"+e.editorService.service+"/"+a,headers:{"Content-Type":"application/json"},data:d};o(m).then(function(){e.editorService.versions.push(a);for(var t in e.deletedVersions)t!=l&&e.deletedVersions[t].push(a);for(t in d)e.values[t][l][a]=e.values[t][i][s];e.changeSelectedVersion(l,a),r.success("Copy created"),c.close()},function(){$("#config-modal-ok-button").button("reset")})}})},e.save=function(){$("#env-save-button").button("loading");for(var t in e.itemsForSave){var a=e.itemsForSave[t];for(var i in a){var s=e.itemsForSave[t][i],l={method:"PUT",url:n+"/v1/pkg/"+e.domain.id+"/"+t+"/"+e.editorService.service+"/"+i,headers:{"Content-Type":"application/json"},data:s};o(l).then(function(){r.success("Saved successfully"),$("#env-save-button").button("reset")},function(){r.error("Saving error: "+error.error),$("#env-save-button").button("reset")})}}e.itemsForSave={}},e.updateValues=function(t,n,o,a){e.itemsForSave[o]||(e.itemsForSave[o]=[]),e.itemsForSave[o][a]||(e.itemsForSave[o][a]={}),e.itemsForSave[o][a][t]=n}}angular.module("qorDash.configurations.services.state.packages.editor").config(["NotificationProvider",function(e){e.setOptions({delay:5e3,positionX:"right",positionY:"bottom"})}]),e.$inject=["$scope","$stateParams","API_URL","$http","$modal","Notification"],angular.module("qorDash.configurations.services.state.packages.editor").controller("PackagesEditorController",e)}(),function(){"use strict";function e(e){e.state("app.configurations.services.state.instances.editor",{url:"/:instances",templateUrl:"app/modules/configurations/services/state/instances/editor/editor.html",controller:"EditorController",authenticate:!0})}var t=angular.module("qorDash.configurations.services.state.instances.editor",["ui.router","ui-notification","ui.bootstrap","mwl.confirm"]);t.config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,s){function l(e){if(null==e)return!0;if(e.length>0)return!1;if(0===e.length)return!0;for(var t in e)if(u.call(e,t))return!1;return!0}function c(){for(var t in e.val1)e.val1[t].name=t,e.values.push(e.val1[t])}e.selectedVersion={},e.itemsForSave={},e.newItemsCount=0,e.dashVersions={},e.values=[],e.val1={},e.requestsCounter=0,e.versions={},e.liveVersion={},e.createVersion=function(a,i){var l={method:"POST",url:n+"/v1/env/"+t.domain+"/"+a+"/"+e.service.service+"/"+i};return o(l).then(function(){r.success("Successfully created")},function(e){s.showError(e.data,e.status)})},e.clickAddNewVersion=function(t){a.open({animation:!0,templateUrl:"app/modules/configurations/services/state/instances/editor/new-version-modal.html",controller:"EditorNewVersionController",size:"sm",resolve:{createVersion:function(){return e.createVersion},instance:function(){return t}}})},e.$watch("domains",function(){e.domains&&(e.domain=e.domains.filter(function(e){return e.id==t.domain})[0])}),Object.filter=function(e,t){var n;for(n in e)if(e.hasOwnProperty(n)&&t(n))return e[n]},e.$watch("service",function(){e.service&&(e.editorService=e.service,e.editorService.instances=t.instances.split(","),e.loadData=function(){e.values=[],e.val1={},e.deledVersions={},e.versions={},e.liveVersion={};var a=function(a){for(var r in e.versions[a]){var i=e.versions[a][r],s={method:"GET",url:n+"/v1/env/"+t.domain+"/"+a+"/"+e.editorService.service+"/"+i,headers:{"Content-Type":"application/json"},version:i};e.requestsCounter++,o(s).then(function(t){e.requestsCounter--,e.loaded=!0;var n=t.config.version;for(var o in t.data)e.val1[o]||(e.val1[o]={}),e.val1[o][a]||(e.val1[o][a]={}),e.val1[o][a][n]||(e.val1[o][a][n]={}),e.val1[o][a][n].value=t.data[o]?t.data[o]:"-",e.dashVersions[a]||(e.dashVersions[a]={}),e.dashVersions[a][n]=t.headers("X-Dash-Version");e.requestsCounter<=0&&c()},function(){e.requestsCounter--,e.loaded=!0,e.requestsCounter<=0&&c()})}};e.editorService.instances.forEach(function(r){var i={method:"GET",url:n+"/v1/env/"+t.domain+"/"+r+"/"+e.editorService.service+"/",headers:{"Content-Type":"application/json"}};e.requestsCounter++,o(i).then(function(t){e.requestsCounter--;for(var n in t.data)e.versions[r]||(e.versions[r]=[]),e.versions[r].push(n),t.data[n]&&(e.liveVersion[r]=n,e.selectedVersion[r]=n);a(r)},function(){})})},e.loadData())});var d=function(t){for(var n in e.editorService.instances)if(e.editorService.instances[n]==t)return!0;return!1};e.changeSelectedVersion=function(t,n){e.selectedVersion[t]=n},e.isLive=function(t,n){return e.editorService.live[t]==n},e.makeLive=function(a,i){$("span[instance="+a+"].set-live-button").addClass("loading").text("Loading...");var s={method:"POST",url:n+"/v1/env/"+t.domain+"/"+a+"/"+e.editorService.service+"/"+i+"/live",headers:{"Content-Type":"application/json"}};o(s).then(function(){r.success("Live version for "+a+" has been changed."),$("span[instance="+a+"].set-live-button").removeClass("loading").text("Set live"),e.editorService.live[a]=i},function(){$("span[instance="+a+"].set-live-button").removeClass("loading").text("Set live")})};var u=Object.prototype.hasOwnProperty;e.isSavable=function(){return!l(e.itemsForSave)||!l(e.itemsForDelete)},e.makeCopy=function(i,s){var l=(a.open({animation:!0,templateUrl:"newVersionModal.html",controller:["$scope","$modalInstance","version","instance","instances",function(e,t,n,o,a){e.newVersionName="",e.version=n,e.instance=o,e.instances=a,e.targetInstance="",e.ok=function(){e.newVersionName&&e.targetInstance&&l(e.newVersionName,e.targetInstance,t)},e.cancel=function(){t.dismiss("cancel")}}],resolve:{version:function(){return s},instance:function(){return i},instances:function(){return e.service.instances}}}),function(a,l,c){if($("#config-modal-ok-button").button("loading"),a&&l){var d={method:"GET",url:n+"/v1/env/"+t.domain+"/"+i+"/"+e.editorService.service+"/"+s,headers:{"Content-Type":"application/json"},version:s},u={};o(d).then(function(i){u=i.data;var s={method:"POST",url:n+"/v1/env/"+t.domain+"/"+l+"/"+e.editorService.service+"/"+a,headers:{"Content-Type":"application/json"},data:data};o(s).then(function(){e.versions[l].push(a);for(var t in e.values)e.values[t][l]&&(e.values[t][l][a]={value:u[e.values[t].name]});r.success("Copy created"),c.close()},function(){$("#config-modal-ok-button").button("reset")})},function(){$("#config-modal-ok-button").button("reset")})}})},e.save=function(){if($("#env-save-button").button("loading"),0!=e.newItemsCount)for(var t=e.values.length-1;e.newItemsCount;e.newItemsCount--){var a=e.values[t];for(var i in a)if(d(i)){var s=a[i];for(var l in s)e.itemsForSave[i]||(e.itemsForSave[i]={}),e.itemsForSave[i][l]||(e.itemsForSave[i][l]={}),e.itemsForSave[i][l].update||(e.itemsForSave[i][l].update={}),e.itemsForSave[i][l].update[a.name]=s[l].value}}for(var c in e.itemsForSave){var u=e.itemsForSave[c];for(var m in u){var p=e.itemsForSave[c][m],h={method:"PATCH",url:n+"/v1/env/"+e.domain.id+"/"+c+"/"+e.editorService.service+"/"+m,headers:{"Content-Type":"application/json","X-Dash-Version":e.dashVersions[c]?e.dashVersions[c][m]||"":""},data:p};h.data["delete"]&&o(h).then(function(){r.success("Saved successfully"),$("#env-save-button").button("reset"),e.loadData()},function(){$("#env-save-button").button("reset")})}}e.itemsForSave={},e.itemsForDelete=[]},e.addValue=function(){$(".editor-content").parent().scrollTop($(".editor-content").height()+80);var t={};t.name="",e.editorService.instances.forEach(function(n){t[n]={},e.versions[n].forEach(function(e){t[n][e]=""})}),e.values.push(t),e.newItemsCount++},e.updateValues=function(t,n,o,a){e.itemsForSave[o]||(e.itemsForSave[o]=[]),e.itemsForSave[o][a]||(e.itemsForSave[o][a]={update:{},"delete":[]}),e.itemsForSave[o][a].update[t]=n;for(var r in e.values)if(e.values[r].name==t)return void(e.values[r].value=n)},e.deleteValue=function(t,n,o){return e.itemsForSave[n]||(e.itemsForSave[n]=[]),e.itemsForSave[n][o]?void e.itemsForSave[n][o]["delete"].push(t):void(e.itemsForSave[n][o]={update:{},"delete":[t]})},e.deleteInAllVersions=function(t){for(var n in e.values)e.values[n].name==t&&e.values.splice(n,1);if(t)for(var n in e.editorService.instances)e.values[n][e.editorService.instances[n]][e.selectedVersion[e.editorService.instances[n]]]&&0!=e.values[n][e.editorService.instances[n]][e.selectedVersion[e.editorService.instances[n]]].value.length&&e.deleteValue(t,e.editorService.instances[n],e.selectedVersion[e.editorService.instances[n]])}}function t(){return function(e,t,n){t.bind("keypress",function(t){13===t.keyCode&&e.$apply(n.onEnter)})}}function n(){return function(e,t,n){t.bind("keydown",function(t){27===t.keyCode&&e.$apply(n.onEsc)})}}function o(e){return{scope:{model:"=inlineEdit",key:"=key",handleSave:"&onSave",handleCancel:"&onCancel",handleDelete:"&onDelete",isName:"=isName",parent:"=",version:"=",instance:"=",changeSelected:"=",versions:"="},link:function(t,n){var o;t.edit=function(){t.showEdit=!1,t.oldValue=t.model,t.isName&&t.model||(t.editMode=!0,t.previousValue=t.model,e(function(){var e=n.find("textarea")[0];e.style.height=e.scrollHeight+"px",e.focus()},0,!1))},t.save=function(){t.editMode=!1,t.model||(t.showEdit=!0),t.model!=t.oldValue&&t.handleSave({name:t.key,newValue:t.model,instance:t.instance,version:t.version})},t.isSaveAvailable=function(){return!0},t.isDeleteUnavailable=function(){return t.isName||t.editMode||!t.model},t.isLeftVersionAvailable=function(){var e=0;for(var n in t.versions)if(++e,t.versions[n]==t.version&&e>1)return!0;return!1},t.isRightVersionAvailable=function(){var e=0,n=0;for(var o in t.versions)++e,t.versions[o]==t.version&&(n=e);return e-n>0},t.changeVersionToTheRight=function(){if(t.isRightVersionAvailable()){var e=!1;for(var n in t.versions){if(e)return void t.changeSelected(t.instance,t.versions[n]);t.versions[n]==t.version&&e++}}},t.changeVersionToTheLeft=function(){if(t.isLeftVersionAvailable()){var e=null;for(var n in t.versions){if(t.versions[n]==t.version){if(!e)continue;t.changeSelected(t.instance,e)}e=t.versions[n]}}},t["delete"]=function(){console.log(t),t.model="",t.showEdit=!0,t.handleDelete({name:t.key,instance:t.instance,version:t.version})},t.isEditAvailable=function(){return(t.model?!1:!0)&&!t.editMode},t.cancel=function(){t.editMode=!1,t.model=o,t.handleCancel({value:t.model})},t.remove=function(e){t.handleDelete({name:e})},t.model||(t.showEdit=!0)},templateUrl:"inlineEdit.html"}}function a(){return{link:function(){},templateUrl:"addNewValue.html"}}function r(){return{link:function(){[].slice.call(document.querySelectorAll("select.cs-select")).forEach(function(e){new SelectFx(e)})}}}function i(e,t,n,o){e.instance=o,e.ok=function(a){e.versionName&&(e.event=a,$(a.target).button("loading"),t(o,e.versionName).then(function(){n.close()},function(){$(e.event.target).button("reset")}))},e.cancel=function(){n.dismiss("cancel")}}angular.module("qorDash.configurations.services.state.instances.editor").config(["NotificationProvider",function(e){e.setOptions({delay:5e3,positionX:"right",positionY:"bottom"})}]),e.$inject=["$scope","$stateParams","API_URL","$http","$modal","Notification","$timeout","errorHandler"],o.$inject=["$timeout"],i.$inject=["$scope","createVersion","$modalInstance","instance"],angular.module("qorDash.configurations.services.state.instances.editor").controller("EditorController",e).directive("inlineEdit",o).directive("onEnter",t).directive("onEsc",n).directive("addValue",a).directive("customSelect",r).controller("EditorNewVersionController",i)}(),function(){"use strict";function e(e){e.state("app.configurations.services.state.files.files-view.diff",{url:"/diff/:diffToInstance/:diffToVersion",params:{file:{},instance:{},version:{},diffToInstance:{value:null,squash:!0},diffToVersion:{value:null,squash:!0},_preventAnimation:{value:null,squash:!0}},templateUrl:"app/modules/configurations/services/state/files/files-diff/files-diff.html",controller:"FilesEditorController",authenticate:!0})}var t=angular.module("qorDash.configurations.services.state.files.files-view.diff",["ui.router","ui.codemirror","ui-notification","diff-match-patch"]);t.config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,o,a){e.$watch("domains",function(){e.domains&&(e.domain=e.domains.filter(function(e){return e.id==n.domain})[0])}),e.$watch("service",function(){e.service&&e.showDiff()}),e.options={attrs:{insert:{"data-attr":"insert","class":"insertion"},"delete":{"data-attr":"delete"},equal:{"data-attr":"equal"}}},e.fileName=n.file,e.selectedFirstInstance=n.instance,e.selectedSecondInstance=n.diffToInstance,e.selectedFirstVersion=n.version,e.selectedSecondVersion=n.diffToVersion,e.syncState=function(){t.go(".",{instance:e.selectedFirstInstance,version:e.selectedFirstVersion,diffToInstance:e.selectedSecondInstance,diffToVersion:e.selectedSecondVersion,_preventAnimation:!0})},e.selectFirstInstance=function(t){e.selectedFirstInstance=t,e.syncState(),e.showDiff()},e.selectSecondInstance=function(t){e.selectedSecondInstance=t,e.syncState(),e.showDiff()},e.selectFirstVersion=function(t){e.selectedFirstVersion=t,e.syncState(),e.showDiff()},e.selectSecondVersion=function(t){e.selectedSecondVersion=t,e.syncState(),e.showDiff()},e.isFirstInstanceActive=function(t){return t==e.selectedFirstInstance},e.isSecondInstanceActive=function(t){return t==e.selectedSecondInstance},e.isFirstVersionActive=function(t){return t==e.selectedFirstVersion},e.isSecondVersionActive=function(t){return t==e.selectedSecondVersion},e.isFirstVersionLive=function(t){return e.selectedFirstInstance&&e.instance?t==e.instance.live[e.selectedFirstInstance][e.fileName]:!1},e.isSecondVersionLive=function(t){return e.selectedSecondInstance&&e.instance?t==e.instance.live[e.selectedSecondInstance][e.fileName]:!1},e.showDiff=function(){e.selectedFirstInstance&&e.selectedSecondInstance&&e.selectedFirstVersion&&e.selectedSecondVersion&&(e.loading=!0,o.files.getFileContent(n.domain,e.selectedFirstInstance,e.service,e.selectedFirstVersion,n.file).then(function(t){e.firstFileData=t.data,o.files.getFileContent(n.domain,e.selectedSecondInstance,e.service,e.selectedSecondVersion,n.file).then(function(t){e.secondFileData=t.data},function(t){e.error=a.showError(t)})},function(t){e.error=a.showError(t)}))}}e.$inject=["$scope","$state","$stateParams","configurationService","errorHandler"],angular.module("qorDash.configurations.services.state.files.files-view.diff").controller("FilesEditorController",e)}(),function(){"use strict";function e(e){e.state("app.configurations.services.state.files.files-view",{url:"/:file/:instance/:version",params:{file:{},instance:{value:null,squash:!0},version:{value:null,squash:!0}},templateUrl:"app/modules/configurations/services/state/files/files-view/files-view.html",controller:"FilesViewController",authenticate:!0})}var t=angular.module("qorDash.configurations.services.state.files.files-view",["ui.router","ui.codemirror","ui-notification","diff-match-patch"]);t.config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,s){e.addNewVersionClicked=!1,e.selectInstance=function(n){e.selectedInstance!=n&&(e.selectedVersion=""),e.selectedInstance=n,t.go(".",{instance:e.selectedInstance,version:e.selectedVersion}),e.showFile()},e.$watch("instance",function(){e.instance&&e._loadVersions()}),e.versions={},e.liveVersion={},e.instances=[],e._loadVersions=function(){e.instance.instances.forEach(function(t){o.files.getVersions(n.domain,t,e.service,n.file).then(function(n){n=n.data,e.versions[t]||(e.versions[t]=[]),0!=n.length&&e.instances.push(t);for(var o in n)e.versions[t].push(o),n[o]&&(e.liveVersion[t]=o)},function(t){e.error=i.showError(t)})})},e.selectVersion=function(n){e.selectedVersion=n,e.addNewVersionClicked&&(e.addNewVersionClicked=!1),t.go(".",{instance:e.selectedInstance,version:e.selectedVersion}),e.showFile()},e.clickAddNewVersion=function(){e.addNewVersionClicked=!0,e.showBaseFile()},e.showFile=function(){e.selectedInstance&&e.selectedVersion&&o.files.getFileContent(n.domain,e.selectedInstance,e.service,e.selectedVersion,n.file).then(function(t){e.fileContents=t.data,e.fileVersion=t.headers("X-Dash-Version")},function(t){e.error=i.showError(t)})},e.showBaseFile=function(){e.selectedInstance&&o.files.getBaseFile(n.domain,e.service,n.file).then(function(t){e.fileContents=t.data,e.fileVersion=t.headers("X-Dash-Version")},function(t){e.error=i.showError(t)})},e.createVersion=function(t){return e.contentsChanged&&(request.data=e.fileContents),o.files.createVersion(n.domain,e.selectedInstance,e.service,t,n.file,e.fileVersion).success(function(){e.instance.versions.push(t),e.selectVersion(t),e.contentsChanged=!1,s.success("Successfully created")}).error(function(e){i.showError(e)})},e.saveFile=function(){return e.fileContents?e.addNewVersionClicked?void a.open({animation:!0,templateUrl:"app/modules/configurations/services/state/files/new-version-modal.html",controller:"NewVersionController",size:"sm",resolve:{createVersion:function(){return e.createVersion}}}):void o.files.saveFile(n.domain,e.selectedInstance,e.service,e.selectedVersion,n.file,e.fileVersion,e.fileContents).then(function(t){e.fileVersion=t.headers("X-Dash-Version"),e.contentsChanged=!1,s.success("Saved successfully")},function(){e.loading=!1}):void 0},e.cloneFile=function(){a.open({animation:!0,templateUrl:"app/modules/configurations/services/state/files/files-view/files-clone-modal.html",controller:"FilesCloneController",resolve:{instance:function(){return e.selectedInstance},version:function(){return e.selectedVersion},instances:function(){return e.instance.instances},clone:function(){return e._cloneFile}}})},e._cloneFile=function(a,i){var l=r.defer();return o.files.cloneFile(n.domain,e.selectedInstance,e.service,e.selectedVersion,n.file,e.fileContents).then(function(){l.resolve(),s.success("Cloned successfully"),e.loadInstance().then(function(){t.go(".",{instance:i,version:a})})},function(t){l.reject();var n=t?t.error:"unknown server error";s.error("Can't load data: "+n),e.loading=!1}),l.promise},e.deleteFile=function(){a.open({animation:!0,templateUrl:"app/modules/configurations/services/state/files/files-view/files-delete-modal.html",controller:"FilesDeleteController",resolve:{instance:function(){return e.selectedInstance},version:function(){return e.selectedVersion},fileName:function(){return e.fileName},_delete:function(){return e._deleteFile}}})},e._deleteFile=function(){var a=r.defer();return o.files.deleteFile(n.domain,e.selectedInstance,e.service,e.selectedVersion,n.file,e.fileVersion).then(function(){a.resolve(),s.success("Deleted successfully"),e.loadInstance().then(function(){t.go(".")})},function(t){a.reject();var n=t.data?t.data.error:"unknown server error";s.error("Can't load data: "+n),e.loading=!1}),a.promise},e.isInstanceActive=function(t){return t==e.selectedInstance},e.isVersionActive=function(t){return e.addNewVersionClicked?!1:t==e.selectedVersion},e.isVersionLive=function(t){return t?t==e.liveVersion[e.selectedInstance]:!1},e.isLive=function(t,n){return e.instance&&n&&t&&e.instance.live[t]&&e.instance.live[t][e.fileName]?n!=e.instance.live[t][e.fileName]:!1},e.makeLive=function(t,a){o.files.makeVersionLive(n.domain,t,e.service,a,n.file).then(function(){s.success("Live version for "+t+" has been changed."),e.liveVersion[e.selectedInstance]=a},function(e){var t=e?e.error:"unknown server error";s.error("Can't load data: "+t)})},e.fileName=n.file,e.selectedInstance=n.instance,e.selectedVersion=n.version,e.fileContents="",e.$watch("service",function(t){t&&e.showFile()})}function t(e,t,n,o,a,r){e.newVersionName="",e.version=o,e.instance=n,e.instances=a,e.targetInstance="",e.ok=function(){e.newVersionName&&e.targetInstance&&r(e.newVersionName,e.targetInstance)["finally"](function(){t.close()})},e.cancel=function(){t.dismiss("cancel")}}function n(e,t,n,o,a,r){e.version=o,e.instance=n,e.fileName=a,e.ok=function(){r()["finally"](function(){t.close()})},e.cancel=function(){t.dismiss("cancel")}}function o(e,t,n){e.ok=function(o){e.versionName&&(e.event=o,$(o.target).button("loading"),t(e.versionName).success(function(){n.close()}).error(function(){$(e.event.target).button("reset")}))},e.cancel=function(){n.dismiss("cancel")}}e.$inject=["$scope","$state","$stateParams","configurationService","$modal","$q","errorHandler","Notification"],t.$inject=["$scope","$modalInstance","instance","version","instances","clone"],n.$inject=["$scope","$modalInstance","instance","version","fileName","_delete"],o.$inject=["$scope","createVersion","$modalInstance"],angular.module("qorDash.configurations.services.state.files.files-view").controller("FilesViewController",e).controller("FilesCloneController",t).controller("FilesDeleteController",n).controller("NewVersionController",o)}(),function(){"use strict";function e(e){e.state("app.manage.settings.authentication.domain",{url:"/:authDomain",templateUrl:"app/modules/manage/settings/authentication/domain/domain.html",controller:"AuthenticationDomainController",controllerAs:"vm"})}var t=angular.module("qorDash.manage.settings.authentication.domain",["ui.router","xeditable"]);t.config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,o,a){function r(){e.$watch("vm.token",function(e){e&&t.getDomainInfo(a.authDomain,e).then(function(e){l.domain=e.data},function(e){n.showError(e)})})}function i(e,t){var n={};n[e]=t,l.itemsForSave.push(n)}function s(){l.itemsForSave=[],alert("Need to save")}var l=this;l.loadDomain=r,l.dataChanged=i,l.save=s,l.itemsForSave=[],r(),o.then(function(e){l.token=e})}angular.module("qorDash.manage.settings.authentication.domain").controller("AuthenticationDomainController",e),e.$inject=["$scope","authenticationService","errorHandler","currentUser","$stateParams"]}(),function(){"use strict";function e(e){e.state("app.configurations.services.state.packages",{url:"/packages",templateUrl:"app/modules/configurations/services/state/packages/packages.html",controller:"PackagesController"})}var t=angular.module("qorDash.configurations.services.state.packages",["ui.router"]);t.config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,o,a,r){Object.filter=function(e,t){var n;for(n in e)if(e.hasOwnProperty(n)&&t(n))return e[n]},e.checked={},o.get(a+"/v1/pkg/"+n.domain+"/").then(function(n){if(e.service=n.data[t.params.service],e.instances=e.service.instances,e.instances.forEach(function(t){e.saveAvailableHelper++,e.checked[t]=!0}),t.params.instances){for(var o in e.checked)e.checked[o]=!1;t.params.instances.split(",").forEach(function(t){"undefined"!=e.checked[t]&&(e.checked[t]=!0,e.saveAvailableHelper++)})}},function(t){e.error=r.showError(response.data,t.status)}),e.saveAvailableHelper=0,e.changeState=function(t){t?e.saveAvailableHelper++:e.saveAvailableHelper--},e.show=function(){var n=[];for(var o in e.checked)e.checked[o]&&n.push(o);n.length>0&&t.go("app.configurations.services.state.packages.editor",{instances:n})}}e.$inject=["$scope","$state","$stateParams","$http","API_URL","errorHandler"],angular.module("qorDash.configurations.services.state.packages").controller("PackagesController",e)}(),function(){"use strict";function e(e){e.state("app.configurations.services.state.instances",{url:"/instances",templateUrl:"app/modules/configurations/services/state/instances/instances.html",controller:"InstancesController",authenticate:!0})}var t=angular.module("qorDash.configurations.services.state.instances",["ui.router"]);t.config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,o,a){Object.filter=function(e,t){var n;for(n in e)if(e.hasOwnProperty(n)&&t(n))return e[n]},e.checked={},o.loadEnv(n.domain).then(function(n){if(e.service=n.data[t.params.service],e.instances=e.service.instances,e.instances.forEach(function(t){e.saveAvailableHelper++,e.checked[t]=!0}),t.params.instances){for(var o in e.checked)e.checked[o]=!1;t.params.instances.split(",").forEach(function(t){"undefined"!=e.checked[t]&&(e.checked[t]=!0,e.saveAvailableHelper++)})}},function(t){e.error=a.showError(t)}),e.saveAvailableHelper=0,e.changeState=function(t){t?e.saveAvailableHelper++:e.saveAvailableHelper--},e.show=function(){var n=[];for(var o in e.checked)e.checked[o]&&n.push(o);n.length>0&&t.go("app.configurations.services.state.instances.editor",{instances:n})}}e.$inject=["$scope","$state","$stateParams","configurationService","errorHandler"],angular.module("qorDash.configurations.services.state.instances").controller("InstancesController",e)}(),function(){"use strict";function e(e){e.state("app.configurations.services.state.files",{url:"/files",templateUrl:"app/modules/configurations/services/state/files/files.html",controller:"FilesController",authenticate:!0})}var t=angular.module("qorDash.configurations.services.state.files",["ui.router"]);t.config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,o,a,r){e.$watch("domains",function(){e.domains&&(e.domain=e.domains.filter(function(e){return e.id==n.domain})[0])}),e.openNewFileModal=function(){a.open({animation:!0,templateUrl:"app/modules/configurations/services/state/files/new-file-modal.html",controller:"NewFileController",size:"lg",resolve:{createFile:function(){return e.createFile}}})},e.createFile=function(a,i){return t.files.createFile(n.domain,n.service,a,i).success(function(){e.instance.objects.push(a),r.success("Successfully created")}).error(function(e,t){o.showError(e,t)})},e.loadInstance=function(){t.loadInstance(n.domain).success(function(t){e.instance=t[n.service],e.service=n.service},function(t){e.error=o.showError(t.data,t.status)})},e.loadInstance()}function t(e,t,n){e.ok=function(o){e.fileName&&e.fileContent&&(e.event=o,$(o.target).button("loading"),t(e.fileName,e.fileContent).success(function(){n.close()}).error(function(){$(e.event.target).button("reset")}))},e.cancel=function(){n.dismiss("cancel")}}e.$inject=["$scope","configurationService","$stateParams","errorHandler","$modal","Notification"],t.$inject=["$scope","createFile","$modalInstance"],angular.module("qorDash.configurations.services.state.files").controller("FilesController",e).controller("NewFileController",t)}(),function(){"use strict";function e(e){e.state("app.manage.settings.authentication",{url:"/authentication",templateUrl:"app/modules/manage/settings/authentication/authentication.html",controller:"AuthenticationSettingsController"})}var t=angular.module("qorDash.manage.settings.authentication",["ui.router","qorDash.manage.settings.authentication.domain"]);t.config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,o){function a(){e.$watch("token",function(o){o&&t.getDomains(o).then(function(t){return!t||t.data.error?void(e.error=n.showError(t)):void(e.domains=t.data)},function(t){e.error=n.showError(t)})})}e.loadDomains=a,a(),o.then(function(){e.token=o.$$state.value})}angular.module("qorDash.manage.settings.authentication").controller("AuthenticationSettingsController",e),e.$inject=["$scope","authenticationService","errorHandler","currentUser"]}(),function(){"use strict";function e(e){e.state("app.manage.accounts.account",{url:"/:id",templateUrl:"app/modules/manage/accounts/account/account.html",controller:"AccountController",authenticate:!0})}var t=angular.module("qorDash.manage.accounts.account",["ui.router"]);t.config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){e.state("app.manage.accounts",{url:"/accounts",templateUrl:"app/modules/manage/accounts/accounts.html",controller:"AccountsController",controllerAs:"vm",authenticate:!0})}var t=angular.module("qorDash.manage.accounts",["ui.router"]);t.config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,o,a){a.then(function(){e.token=a.$$state.value});var r=n.id;e.$watch("token",function(n){n&&t.getAccountById(r,n).then(function(t){e.account=t.data},function(t){e.error=o.showError(t)})})}angular.module("qorDash.manage.accounts").controller("AccountController",e),e.$inject=["$scope","accountsService","$stateParams","errorHandler","currentUser"]}(),function(){"use strict";function e(e){e.state("app.configurations.services.state",{url:"/:service",templateUrl:"app/modules/configurations/services/state/state.html"})
}var t=angular.module("qorDash.configurations.services.state",["ui.router"]);t.config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){e.state("app.orchestrate.domain.instance.history.option",{url:"/:opt_id",templateUrl:"app/modules/orchestrate/option/option.html",controller:"OrchestrateOptionController",authenticate:!0})}var t=angular.module("qorDash.orchestrate.domain.instance.history.option",["ui.router"]);t.config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t){e.state("app.orchestrate",{url:"/orchestrate",views:{"main@":{templateUrl:"app/modules/orchestrate/orchestrate.html",controller:"OrchestrateController"}},authenticate:!0}),t.config("orchestrate",{title:"Config",nav:6,content:'<span ui-sref="app.orchestrate" qor-sidebar-group-heading="Orchestrate" data-icon-class="fa fa-building"></span>'})}var t=angular.module("qorDash.orchestrate",["ui.router","qorDash.orchestrate.domain","qorDash.orchestrate.domain.instance","qorDash.orchestrate.domain.instance.history","qorDash.orchestrate.domain.instance.history.option"]);t.config(e),e.$inject=["$stateProvider","$qorSidebarProvider"]}(),function(){"use strict";function e(e,t,n,o,a,r){e.title=t.opt;var i=function(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},s=t.id,l=t.inst,c=t.opt,d=t.opt_id,u=function(e,t){switch(i(e)){case"string":return'<div class="form-group" > <label class="col-md-4 control-label" for="input-'+t+'">'+t+'</label><div class="col-md-4"><input required="required" id="input-'+t+'" name="input-'+t+'" type="text" value="'+e+'" class="form-control input-md"></div></div>';case"number":return'<div class="form-group" > <label class="col-md-4 control-label" for="input-'+t+'">'+t+'</label><div class="col-md-4"><input required="required" id="input-'+t+'" name="input-'+t+'" type="text" value="'+e+'" class="form-control input-md"></div></div>';case"boolean":var n=e?"checked":"";return'<div class="form-group" > <label class="col-md-4 control-label" for="input-'+t+'">'+t+'</label><div class="col-md-4"><input class="new-checkbox" id="input-'+t+'" name="input-'+t+'" type="checkbox" '+n+'><label for="input-'+t+'"></label></div></div>'}};"new"==d?e.$watch("workflows",function(){if(e.$parent.$parent.workflows&&(e.workflow=e.$parent.$parent.workflows.filter(function(e){return e.name==t.opt})[0],e.workflow))for(var n in e.workflow.default_input){var o=e.workflow.default_input[n];$("#dynamic-form").append(u(o,n))}}):n.loadOption(s,l,c,d).then(function(t){e.workflow=t.data;for(var n in e.workflow.context){var o=e.workflow.context[n];$("#dynamic-form").append(u(o,n))}},function(t){e.error=r.showError(t)}),e.sendMessage=function(){if($("#sendMessageButton").button("loading"),e.workflow.model){var t=a+"/v1/ws/orchestrate/"+s+"/"+l+"/"+c+"/"+d;$("#timelineContainer").html(o('<div ql-widget="Timeline" ws-url="\''+t+"'\"></div>")(e)),$("#sendMessageButton").button("reset")}else{var r={};for(var i in e.workflow.default_input)r[i]=$("#input-"+i).val();n.loadLogUrl(e.workflow.activate_url,r).then(function(t){$("#timelineContainer").html(o('<div ql-widget="Timeline" ws-url="\''+a+t.data.log_ws_url+"'\"></div>")(e)),$("#sendMessageButton").button("reset")})}}}angular.module("qorDash.orchestrate"),e.$inject=["$scope","$stateParams","orchestrateService","$compile","WS_URL","errorHandler"],angular.module("qorDash.orchestrate").controller("OrchestrateOptionController",e)}(),function(){"use strict";function e(e){e.state("app.orchestrate.domain.instance",{url:"/:inst",templateUrl:"app/modules/orchestrate/instance/instance.html",controller:"OrchestrateInstanceController",authenticate:!0})}var t=angular.module("qorDash.orchestrate.domain.instance",["ui.router"]);t.config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,o,a){e.title=t.inst,e.workflows=[],o.loadInstances(t.id,t.inst).then(function(t){e.workflows=t.data},function(t){e.error=a.showError(t)})}angular.module("qorDash.orchestrate"),e.$inject=["$scope","$stateParams","$http","orchestrateService","errorHandler"],angular.module("qorDash.orchestrate").controller("OrchestrateInstanceController",e)}(),function(){"use strict";function e(e){e.state("app.orchestrate.domain.instance.history",{url:"/:opt",templateUrl:"app/modules/orchestrate/history/history.html",controller:"OrchestrateHistoryController",authenticate:!0})}var t=angular.module("qorDash.orchestrate.domain.instance.history",["ui.router"]);t.config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,o){n.loadHistory(t.id,t.inst,t.opt).then(function(t){e.previousCalls=t.data},function(t){e.error=o.showError(t)})}angular.module("qorDash.orchestrate"),e.$inject=["$scope","$stateParams","orchestrateService","errorHandler"],angular.module("qorDash.orchestrate").controller("OrchestrateHistoryController",e)}(),function(){"use strict";function e(e){e.state("app.orchestrate.domain",{url:"/:id",templateUrl:"app/modules/orchestrate/domain/domain.html",controller:"OrchestrateDomainController",authenticate:!0})}var t=angular.module("qorDash.orchestrate.domain",["ui.router"]);t.config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,o,a,r){r.load(t.id).then(function(t){e.domain=t.data},function(t){e.error=a.showError(t)})}angular.module("qorDash.orchestrate"),e.$inject=["$scope","$stateParams","$http","API_URL","errorHandler","domainLoader"],angular.module("qorDash.orchestrate").controller("OrchestrateDomainController",e)}(),function(){"use strict";function e(e){e.state("app.manage.settings",{url:"/settings",templateUrl:"app/modules/manage/settings/settings.html",controller:"SettingsController",authenticate:!0})}var t=angular.module("qorDash.manage.settings",["ui.router","qorDash.manage.settings.authentication"]);t.config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(){}angular.module("qorDash.manage.settings").controller("SettingsController",e),e.$inject=["$scope"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(e,a,r,i){return a?t.createGoogleAccount(e,a,d.token).then(function(e){d.accounts.push({id:e.data.id,primary:e.data}),o.success("Successfully created")},function(e){d.error=n.showError(e)}):t.createAccount(e,r,i,d.token).then(function(e){d.accounts.push({id:e.data.id,primary:e.data}),o.success("Successfully created")},function(e){d.error=n.showError(e)})}function s(){a.open({animation:!0,templateUrl:"app/modules/manage/accounts/new-user-modal.html",controller:"NewUserController",controllerAs:"vm",resolve:{accounts:function(){return d.accounts},addUser:function(){return d.addUser}}})}function l(){t.getAccounts(d.token).then(function(e){d.accounts=e.data},function(e){d.error=n.showError(e)})}function c(){r.then(function(e){d.token=e})}var d=this;d.newUser=s,d.addUser=i,d.accounts=[],c(),e.$watch("vm.token",function(){d.token&&l()})}function t(e,t,n){function o(){(r.username&&r.email||r.username&&r.password&&r.custom_object)&&t(r.username,r.email,r.password,r.custom_object).then(function(){n.close()})}function a(){n.dismiss("cancel")}var r=this;r.accounts=e,r.ok=o,r.cancel=a}angular.module("qorDash.manage.accounts").controller("AccountsController",e).controller("NewUserController",t),e.$inject=["$scope","accountsService","errorHandler","Notification","$modal","currentUser"],t.$inject=["accounts","addUser","$modalInstance"]}(),function(){"use strict";function e(e){e.state("app.domains.domain.env.resources",{url:"/resources",templateUrl:"app/modules/domains/resources/resources.html",authenticate:!0})}var t=angular.module("qorDash.domains.env.resources",["ui.router","ui.layout"]);t.config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){e.state("app.domains.domain.env.network.node.logs",{url:"/logs",templateUrl:"app/modules/domains/node-logs/node-logs.html",authenticate:!0})}var t=angular.module("qorDash.domains.env.network.note.logs",["ui.router","ui.layout"]);t.config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t){e.state("app.domains",{url:"/domains",views:{"main@":{templateUrl:"app/modules/domains/domains.html",controller:"DomainsController"}},authenticate:!0}),t.config("domains",{title:"Environments",nav:2,content:'<span ui-sref="app.domains" qor-sidebar-group-heading="Domains" data-icon-class="fa fa-cloud"></span>',controller:"DomainsSidebarController"})}var t=angular.module("qorDash.domains",["ui.router","ui.layout","qorDash.widget","qorDash.widget.domain_stat","qorDash.widget.network","qorDash.widget.domain_details","qorDash.widget.container","qorDash.domains.domain","qorDash.domains.env","qorDash.domains.env.network","qorDash.domains.env.network.node","qorDash.domains.env.network.note.logs","qorDash.domains.env.resources","log_details"]);t.config(e),e.$inject=["$stateProvider","$qorSidebarProvider"]}(),function(){"use strict";function e(e,t){return{link:function(n,o){$(o).bind("click",function(){var n=$("#terminal"),o=n.terminal(),a=o.get_output(),r=e.open("/#log-details","mywin","width=100");r.height=600,r.currentData=a,r.url=n.parent().attr("ws-url"),t.go("^")})}}}e.$inject=["$window","$state","$compile"],angular.module("qorDash.domains").directive("logNewWindow",e)}(),function(){"use strict";function e(e){e.state("log_details",{url:"/log-details",templateUrl:"app/modules/domains/node-logs/log-details.html",authenticate:!1})}var t=angular.module("log_details",["ui.router","ui.layout"]);t.config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){e.state("app.domains.domain.env.network.node",{url:"/:depth/:node",templateUrl:"app/modules/domains/node/node.html",controller:"DomainNodeController",authenticate:!0})}var t=angular.module("qorDash.domains.env.network.node",["ui.router","ui.layout"]);t.config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t){function n(e,t,n){function o(e,t,n){var r,i,s;if(a++,t==e.name&&n==a)return e;if(!e._children)return void 0;for(r=0;r<e._children.length;r++)if(i=e._children[r],s=o(i,t,n),a--,s)return s}var a=-1;return o(e,t,n)}e.$watch("networkData",function(o){o&&(e.node=n(o,t.node,parseInt(t.depth)))})}e.$inject=["$scope","$stateParams"],angular.module("qorDash.domains").controller("DomainNodeController",e)}(),function(){"use strict";function e(e){e.state("app.domains.domain.env.network",{url:"/network",templateUrl:"app/modules/domains/network/network.html",authenticate:!0})}var t=angular.module("qorDash.domains.env.network",["ui.router","ui.layout"]);t.config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){e.state("app.domains.domain.env",{url:"/:env",templateUrl:"app/modules/domains/environment/environment.html",controller:"DomainEnvironmentController",authenticate:!0})}var t=angular.module("qorDash.domains.env",["ui.router","ui.layout"]);t.config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n){e.environment={},e.environment.name=t.env,e.setNetworkData=function(t){e.networkData=t},e.eventsWsUrl=n+"/v1/events"}function t(){return{link:function(e,t){e.$watch(function(){return t.children().height()},function(e,n){e!==n&&$(t).scrollTop(t.children().height())})}}}e.$inject=["$scope","$stateParams","WS_URL"],angular.module("qorDash.domains").controller("DomainEnvironmentController",e).directive("autoScroll",t)}(),function(){"use strict";function e(e){e.state("app.domains.domain",{url:"/:id",templateUrl:"app/modules/domains/domain/domain.html",controller:"DomainController",authenticate:!0})}var t=angular.module("qorDash.domains.domain",["ui.router","ui.layout"]);t.config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,o){o.load(t.id).then(function(t){e.domain=t.data},function(t){e.error=n.showError(t)})}angular.module("qorDash.domains").controller("DomainController",e),e.$inject=["$scope","$stateParams","errorHandler","domainLoader"]}(),function(){"use strict";function e(e){e.state("app.docker.domains.domain.dockers.menu.summary",{url:"/summary",templateUrl:"app/modules/docker/summary/summary.html",controller:"DockerSummaryController",controllerAs:"vm",resolve:{resolvedContainers:["Container","Settings",function(e,t){return e.query(angular.extend({all:1},t.urlParams)).$promise}],resolvedImages:["Image","Settings",function(e,t){return e.query(t.urlParams).$promise}]},authenticate:!0})}var t=angular.module("qorDash.docker.domain.dockers.menu.summary",["ui.router"]);t.config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n){var o=this,a=0,r=0,i=0;o.predicate="-Created",o.containers=[],o.totalContainers=e,o.totalImages=t,o.totalContainers.forEach(function(e){"Ghost"===e.Status?r+=1:-1!==e.Status.indexOf("Exit")?i+=1:(a+=1,o.containers.push(n.container(e)))}),o.colours=["#5bb75b","#C7604C","#E2EAE9"],o.labels=o.series=["Running","Stopped","Ghost"],o.dataset=[a,i,r]}angular.module("qorDash.docker.domain.dockers.menu.summary").controller("DockerSummaryController",e),e.$inject=["resolvedContainers","resolvedImages","DockerViewModel"]}(),function(){"use strict";function e(e){e.state("app.docker.domains.domain.dockers.menu",{url:"/:dockerId",templateUrl:"app/modules/docker/menu/menu.html",controller:"DockerMenuController",controllerAs:"vm",authenticate:!0})}angular.module("qorDash.docker.domain.dockers.menu",[]).config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){var t=this;t.dockerId=e.dockerId}angular.module("qorDash.docker.domain.dockers.menu").controller("DockerMenuController",e),e.$inject=["$stateParams"]}(),function(){"use strict";function e(e){e.state("app.docker.domains.domain.dockers.menu.info.events",{url:"/events",templateUrl:"app/modules/docker/info.events/events.html",controller:"DockerInfoEventsController",controllerAs:"vm"})}angular.module("qorDash.docker.domain.dockers.menu.info.events",["ngOboe"]).config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,o,a){var r=this,i=n.url+"/events?";r.model={},r.model.since=new Date(Date.now()-864e5),r.model.until=new Date,r.updateEvents=function(){if(r.dockerEvents=[],r.model.since){var n=Math.floor(r.model.since.getTime()/1e3);i+="since="+n+"&"}if(r.model.until){var s=Math.floor(r.model.until.getTime()/1e3);i+="until="+s}o({url:i,pattern:"{id status time}"}).then(function(){t(function(){e.$apply()})},function(e){a.error("Failure",e.data)},function(e){r.dockerEvents.push(e)})},r.updateEvents()}angular.module("qorDash.docker.domain.dockers.menu.info.events").controller("DockerInfoEventsController",e),e.$inject=["$scope","$timeout","Settings","Oboe","Messages"]}(),function(){"use strict";function e(e){e.state("app.docker.domains.domain.dockers.menu.info",{url:"/info",templateUrl:"app/modules/docker/info/info.html",controller:"DockerInfoController",controllerAs:"vm",resolve:{resolvedDockerInfo:["Docker","Settings",function(e,t){return e.get(t.urlParams).$promise}],resolvedSystemInfo:["System","Settings",function(e,t){return e.get(t.urlParams).$promise}]},authenticate:!0})}angular.module("qorDash.docker.domain.dockers.menu.info",[]).config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n){var o=this;o.docker=t,o.info=n,o.endpoint=e.endpoint}angular.module("qorDash.docker.domain.dockers.menu.info").controller("DockerInfoController",e),e.$inject=["Settings","resolvedDockerInfo","resolvedSystemInfo"]}(),function(){"use strict";function e(e){e.state("app.docker.domains.domain.dockers.menu.images",{url:"/images",templateUrl:"app/modules/docker/images/images.html",controller:"DockerImagesController",controllerAs:"vm",resolve:{resolvedDockerImages:["Image","Settings",function(e,t){return e.query(t.urlParams).$promise}]},authenticate:!0})}angular.module("qorDash.docker.domain.dockers.menu.images",[]).config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,o,a,r){var i=o.urlParams,s=this;s.toggle=!1,s.predicate="-Created",s.images=r.map(a.image),s.toggleSelectAll=function(){angular.forEach(s.images,function(e){e.Checked=s.toggle})},s.removeAction=function(){var t=s.images.filter(function(e){return e.Checked}),r=[];t.forEach(function(e){r.push(n.remove(angular.extend({id:e.Id},i)))}),e.all(r).then(function(){n.query(o.urlParams,function(e){s.images=e.map(a.image)})})},s.pullImage=function(){t.open({animation:!0,templateUrl:"app/modules/docker/images/pull-image.html",controller:"DockerPullImageController",controllerAs:"vm"})}}function t(e,t,n,o){var a=e.urlParams,r=this;r.template="app/components/pullImage/pullImage.html",r.init=function(){r.config={registry:"",repo:"",fromImage:"",tag:"latest"}},r.close=function(){o.close()},r.init(),r.pull=function(){r.error=null;var e=angular.copy(r.config),i=(e.registry?e.registry+"/":"")+(e.repo?e.repo+"/":"")+e.fromImage+(e.tag?":"+e.tag:"");o.close(),n.create(angular.extend(e,a),function(e){if(e.constructor===Array){var n=e.length>0&&e[e.length-1].hasOwnProperty("error");if(n){var o=e[e.length-1];r.error="Cannot pull image "+i+" Reason: "+o.error}else t.send("Image Added",i),r.init()}else t.send("Image Added",i),r.init()},function(e){r.error="Cannot pull image "+i+" Reason: "+e.data})}}angular.module("qorDash.docker.domain.dockers.menu.images").controller("DockerImagesController",e).controller("DockerPullImageController",t),e.$inject=["$q","$modal","Image","Settings","DockerViewModel","resolvedDockerImages"],t.$inject=["Settings","Messages","Image","$modalInstance"]}(),function(){"use strict";function e(e){e.state("app.docker.domains.domain.dockers.menu.images.image",{url:"/:imageId/:imageTag",templateUrl:"app/modules/docker/image/image.html",controller:"DockerImageController",controllerAs:"vm",resolve:{resolvedDockerImage:["Image","Settings","$stateParams",function(e,t,n){var o=angular.extend({id:n.imageId},t.urlParams);return e.get(o).$promise}],resolvedDockerImageHistory:["Image","Settings","$stateParams",function(e,t,n){var o=angular.extend({id:n.imageId},t.urlParams);return e.history(o).$promise}]},authenticate:!0})}angular.module("qorDash.docker.domain.dockers.menu.images.image",[]).config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,s,l,c){function d(e,t,n){var o=e.defer();return t.query(angular.extend({all:1,notruc:1},i.urlParams),function(e){for(var t=[],a=0;a<e.length;a++){var i=e[a];i.Image===n&&t.push(r.container(i))}o.resolve(t)}),o.promise}var u=angular.extend({id:t.imageId},i.urlParams),m=this;m.tag1={repo:"",force:!1},m.history=c,m.image=l,m.tag=l.id;var p=t.imageTag;if(p&&":"!==p){m.tag=p;var h=d(e,a,p);h.then(function(e){m.containers=e})}m.remove=function(){o.remove(u,function(){s.send("Image Removed",t.imageId)},function(e){m.error=e.data})},m.getHistory=function(){o.history(u,function(e){m.history=e})},m.updateTag=function(){var e=m.tag1;o.tag(angular.extend({repo:e.repo,force:e.force?1:0},u),function(){s.send("Tag Added",t.imageId)},function(e){m.error=e.data})},m.openCreateImageModal=function(){n.open({animation:!0,templateUrl:"app/modules/docker/image/create-modal.html",controller:"CreateImageModalController",controllerAs:"vm"})}}function t(e,t,n,o,a,r,i,s){function l(e,t){t.error("Error",s(e))}function c(e){for(var t in e)(null===e[t]||void 0===e[t]||""===e[t]||$.isEmptyObject(e[t])||0===e[t].length)&&delete e[t]}function d(e){return e.map(function(e){return e.name})}var u=o.urlParams;a.query(angular.extend({all:1},u),function(t){e.containerNames=t.map(function(e){return i(e)})}),e.config={Env:[],Volumes:[],SecurityOpts:[],HostConfig:{PortBindings:[],Binds:[],Links:[],Dns:[],DnsSearch:[],VolumesFrom:[],CapAdd:[],CapDrop:[],Devices:[],LxcConf:[],ExtraHosts:[]}},e.menuStatus={containerOpen:!0,hostConfigOpen:!1},e.create=function(){var o=angular.copy(e.config);o.Image=t.imageId,o.Cmd&&"["===o.Cmd[0]?o.Cmd=angular.fromJson(o.Cmd):o.Cmd&&(o.Cmd=o.Cmd.split(" ")),o.Env=o.Env.map(function(e){return e.name+"="+e.value}),o.Volumes=d(o.Volumes),o.SecurityOpts=d(o.SecurityOpts),o.HostConfig.VolumesFrom=d(o.HostConfig.VolumesFrom),o.HostConfig.Binds=d(o.HostConfig.Binds),o.HostConfig.Links=d(o.HostConfig.Links),o.HostConfig.Dns=d(o.HostConfig.Dns),o.HostConfig.DnsSearch=d(o.HostConfig.DnsSearch),o.HostConfig.CapAdd=d(o.HostConfig.CapAdd),o.HostConfig.CapDrop=d(o.HostConfig.CapDrop),o.HostConfig.LxcConf=o.HostConfig.LxcConf.reduce(function(e,t){return e[t.name]=t.value,e},{}),o.HostConfig.ExtraHosts=o.HostConfig.ExtraHosts.map(function(e){return e.host+":"+e.ip});var i={},s={};o.HostConfig.PortBindings.forEach(function(e){var t=e.intPort+"/tcp";"udp"===e.protocol&&(t=e.intPort+"/udp");var n={HostIp:e.ip,HostPort:e.extPort};e.intPort?(i[t]={},t in s?s[t].push(n):s[t]=[n]):r.send("Warning","Internal port must be specified for PortBindings")}),o.ExposedPorts=i,o.HostConfig.PortBindings=s,c(o.HostConfig),c(o),a.create(angular.extend(o,u),function(e){if(e.Id){var t=o.HostConfig||{};t.id=e.Id,a.start(angular.extend(t,u),function(t){t.id?(r.send("Container Started",e.Id),$("#create-modal").modal("hide"),n.path("/containers/"+e.Id+"/")):(l(t,r),a.remove({id:e.Id},function(){r.send("Container Removed",e.Id)}))},function(e){l(e,r)})}else l(e,r)},function(e){l(e,r)})},e.addEntry=function(e,t){e.push(t)},e.rmEntry=function(e,t){var n=e.indexOf(t);e.splice(n,1)}}angular.module("qorDash.docker.domain.dockers.menu.images.image").controller("DockerImageController",e).controller("CreateImageModalController",t),e.$inject=["$q","$stateParams","$modal","Image","Container","DockerViewModel","Settings","Messages","resolvedDockerImage","resolvedDockerImageHistory"],t.$inject=["$scope","$stateParams","$location","Settings","Container","Messages","containernameFilter","errorMsgFilter"]}(),function(){"use strict";function e(e){e.state("app.docker.domains.domain",{url:"/:domain",templateUrl:"app/modules/docker/domain/domain.html",controller:"DockerDomainController",authenticate:!0,controllerAs:"vm",resolve:{resolvedDomain:["domainService","$stateParams",function(e,t){return e.loadDomain(t.domain)}]}})}angular.module("qorDash.docker.domain",[]).config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e){var t=this;t.domain=e}angular.module("qorDash.docker.domain").controller("DockerDomainController",e),e.$inject=["resolvedDomain"]}(),function(){"use strict";angular.module("dockerui.viewmodel",[]).factory("DockerViewModel",function(){function e(e){this.Id=e.Id,this.Tag=e.Tag,this.Repository=e.Repository,this.Created=e.Created,this.Checked=!1,this.RepoTags=e.RepoTags,this.VirtualSize=e.VirtualSize}function t(e){this.Id=e.Id,this.Image=e.Image,this.Command=e.Command,this.Created=e.Created,this.SizeRw=e.SizeRw,this.Status=e.Status,this.Checked=!1,this.Names=e.Names}return{image:function(t){return new e(t)},container:function(e){return new t(e)}}})}(),function(){"use strict";angular.module("dockerui.services",["ngResource"]).factory("Container",["$resource","Settings",function(e,t){return e(t.endpoint+"/:domain/:instance/:dockerId/containers/:id/:action",{name:"@name",domain:"@domain",instance:"@instance",dockerId:"@dockerId"},{query:{method:"GET",params:{all:0,action:"json"},isArray:!0},get:{method:"GET",params:{action:"json"}},start:{method:"POST",params:{id:"@id",action:"start"}},stop:{method:"POST",params:{id:"@id",t:5,action:"stop"}},restart:{method:"POST",params:{id:"@id",t:5,action:"restart"}},kill:{method:"POST",params:{id:"@id",action:"kill"}},pause:{method:"POST",params:{id:"@id",action:"pause"}},unpause:{method:"POST",params:{id:"@id",action:"unpause"}},changes:{method:"GET",params:{action:"changes"},isArray:!0},create:{method:"POST",params:{action:"create"}},remove:{method:"DELETE",params:{id:"@id",v:0}},rename:{method:"POST",params:{id:"@id",action:"rename"},isArray:!1},stats:{method:"GET",params:{id:"@id",stream:!1,action:"stats"},timeout:2e3}})}]).factory("Image",["$resource","Settings",function(e,t){return e(t.endpoint+"/:domain/:instance/:dockerId/images/:id/:action",{domain:"@domain",instance:"@instance",dockerId:"@dockerId"},{query:{method:"GET",params:{all:0,action:"json"},isArray:!0},get:{method:"GET",params:{action:"json"}},search:{method:"GET",params:{action:"search"}},history:{method:"GET",params:{action:"history"},isArray:!0},create:{method:"POST",isArray:!0,transformResponse:[function(e){var t=e.replace(/\n/g," ").replace(/\}\W*\{/g,"}, {");return angular.fromJson("["+t+"]")}],params:{action:"create",fromImage:"@fromImage",repo:"@repo",tag:"@tag",registry:"@registry"}},insert:{method:"POST",params:{id:"@id",action:"insert"}},push:{method:"POST",params:{id:"@id",action:"push"}},tag:{method:"POST",params:{id:"@id",action:"tag",force:0,repo:"@repo"}},remove:{method:"DELETE",params:{id:"@id"},isArray:!0}})}]).factory("Docker",["$resource","Settings",function(e,t){return e(t.endpoint+"/:domain/:instance/:dockerId/version",{domain:"@domain",instance:"@instance",dockerId:"@dockerId"},{get:{method:"GET"}})}]).factory("Auth",["$resource","Settings",function(e,t){return e(t.endpoint+"/:domain/:instance/:dockerId/auth",{domain:"@domain",instance:"@instance",dockerId:"@dockerId"},{get:{method:"GET"},update:{method:"POST"}})}]).factory("System",["$resource","Settings",function(e,t){return e(t.endpoint+"/:domain/:instance/:dockerId/info",{domain:"@domain",instance:"@instance",dockerId:"@dockerId"},{get:{method:"GET"}})}]).provider("Settings",[function(){function e(e){var t=e?e.substr(1).split("/"):null;return t?{domain:t[0],instance:t[1],dockerId:t[2]}:{}}this.displayAll=!1,this.port="",this.endpoint="",this.url=this.endpoint,this.urlParams={},this.buildUrl=function(t){t=t||"",this.url=this.endpoint+t,this.urlParams=e(t)},this.$get=["$injector","$location",function(){return{rawUrl:this.endpoint+this.port+"/"+this.version,endpoint:this.endpoint,uiVersion:this.uiVersion,version:this.version,url:this.url,urlParams:this.urlParams,displayAll:this.displayAll,buildUrl:this.buildUrl}}]}]).factory("Messages",["$rootScope",function(){return{send:function(){},error:function(){}}}]).factory("Dockerfile",["Settings",function(e){var t=e.rawUrl+"/build";return{build:function(e,n){var o=new FormData,a=new Blob([e],{type:"text/text"});o.append("Dockerfile",a);var r=new XMLHttpRequest;r.onload=n,r.open("POST",t),r.send(o)}}}])}(),function(){"use strict";angular.module("dockerui",["dockerui.services","dockerui.filters","dockerui.viewmodel"])}(),function(){"use strict";angular.module("dockerui.filters",[]).filter("truncate",function(){return function(e,t,n){return isNaN(t)&&(t=10),void 0===n&&(n="..."),e.length<=t||e.length-n.length<=t?e:String(e).substring(0,t-n.length)+n}}).filter("statusbadge",function(){return function(e){return"Ghost"===e?"important":-1!==e.indexOf("Exit")&&"Exit 0"!==e?"warning":"success"}}).filter("getstatetext",function(){return function(e){return void 0===e?"":e.Ghost&&e.Running?"Ghost":e.Running&&e.Paused?"Running (Paused)":e.Running?"Running":"Stopped"}}).filter("getstatelabel",function(){return function(e){return void 0===e?"":e.Ghost&&e.Running?"label-important":e.Running?"label-success":""}}).filter("humansize",function(){return function(e){var t=["Bytes","KB","MB","GB","TB"];if(0===e)return"n/a";var n=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10),o=e/Math.pow(1024,n),a=1>n?0:n-1;return o.toFixed(a)+" "+t[[n]]}}).filter("containername",function(){return function(e){var t=e.Names[0];return t.substring(1,t.length)}}).filter("repotag",function(){return function(e){if(e.RepoTags&&e.RepoTags.length>0){var t=e.RepoTags[0];return"<none>:<none>"===t&&(t=""),t}return""}}).filter("getdate",function(){return function(e){var t=new Date(1e3*e);return t.toDateString()}}).filter("errorMsg",function(){return function(e){for(var t=0,n="";e[t]&&"string"==typeof e[t];)n+=e[t],t++;return n}})}(),function(){"use strict";function e(e){e.state("app.docker.domains.domain.dockers",{url:"/:instance",authenticate:!0,templateUrl:"app/modules/docker/dockers/dockers.html",controller:"DockersController",controllerAs:"vm",resolve:{resolvedDockers:["domainService","$stateParams",function(e,t){return e.loadDockers(t.domain,t.instance)}]}})}angular.module("qorDash.docker.domain.dockers",[]).config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t){e.state("app.docker",{url:"/docker",views:{"main@":{template:'<div ui-view=""></div>',controller:["$state",function(e){var t=e.current.name,n="app.docker"===t?"app.docker.domains":t;e.go(n)}]}}}).state("app.docker.domains",{url:"",templateUrl:"app/modules/docker/docker.html",controller:"DockerController",controllerAs:"vm",resolve:{resolvedDomains:["domainService",function(e){return e.loadDomains()}]},authenticate:!0}),t.config("docker",{title:"Docker",nav:3,content:'<span ui-sref="app.docker" qor-sidebar-group-heading="Docker" data-icon-class="fa fa-docker"></span>'})}function t(e,t,n,o){n.endpoint=o,e.$on("$stateChangeStart",function(e,o,a){var r=t.href(o,a);if("docker"===o.name.split(".")[1]){var i=r.match(/docker((\/[a-z0-9.]+){1,3})/);i&&i[1]&&n.buildUrl(i[1])}})}angular.module("qorDash.docker",["ngOboe","dockerui","ui.router","qorDash.docker","qorDash.docker.domain","qorDash.docker.domain.dockers","qorDash.docker.domain.dockers.menu","qorDash.docker.domain.dockers.menu.summary","qorDash.docker.domain.dockers.menu.containers","qorDash.docker.domain.dockers.menu.containers.container","qorDash.docker.domain.dockers.menu.containers.container.top","qorDash.docker.domain.dockers.menu.containers.container.logs","qorDash.docker.domain.dockers.menu.containers.container.stats","qorDash.docker.domain.dockers.menu.images","qorDash.docker.domain.dockers.menu.images.image","qorDash.docker.domain.dockers.menu.info","qorDash.docker.domain.dockers.menu.info.events"]).config(e).run(t),e.$inject=["$stateProvider","$qorSidebarProvider"],t.$inject=["$rootScope","$state","Settings","DOCKER_ENDPOINT"]}(),function(){"use strict";function e(e,t){var n=this;n.instance=e.instance,n.dockers=t}angular.module("qorDash.docker").controller("DockersController",e),e.$inject=["$stateParams","resolvedDockers"]}(),function(){"use strict";function e(e){e.state("app.docker.domains.domain.dockers.menu.containers",{url:"/containers",templateUrl:"app/modules/docker/containers/containers.html",controller:"ContainersController",controllerAs:"vm",resolve:{resolveContainers:["Container","Settings",function(e,t){var n=t.urlParams;return e.query(n).$promise}]},authenticate:!0})}angular.module("qorDash.docker.domain.dockers.menu.containers",[]).config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,o,a,r){function i(e){n.query(angular.extend(e,c),function(e){l.containers=e.map(a.container)})}function s(e){var a=[],r=l.containers.filter(function(e){return e.Checked});r.forEach(function(t){var o=angular.extend({id:t.Id},c);a.push(e===n.start?n.get(o).$promise.then(function(t){return e(angular.extend({HostConfig:t.HostConfig||{}},o)).$promise}):e(o).$promise)}),t.all(a).then(function(){i({all:Number(o.displayAll)})})}var l=this,c=o.urlParams;l.predicate="-Created",l.toggle=!1,l.displayAll=o.displayAll,l.containers=r.map(a.container),e.$on("updateContainersList",function(){i({all:Number(o.displayAll)})}),l.toggleSelectAll=function(){l.containers.forEach(function(e){e.Checked=l.toggle})},l.toggleGetAll=function(){o.displayAll=l.displayAll,i({all:Number(o.displayAll)})},l.startAction=function(){s(n.start,"Started")},l.stopAction=function(){s(n.stop,"Stopped")},l.restartAction=function(){s(n.restart,"Restarted")},l.killAction=function(){s(n.kill,"Killed")},l.pauseAction=function(){s(n.pause,"Paused")},l.unpauseAction=function(){s(n.unpause,"Unpaused")},l.removeAction=function(){s(n.remove,"Removed")}}angular.module("qorDash.docker.domain.dockers.menu.containers").controller("ContainersController",e),e.$inject=["$scope","$q","Container","Settings","DockerViewModel","resolveContainers"]}(),function(){"use strict";function e(e){e.state("app.docker.domains.domain.dockers.menu.containers.container.top",{url:"/top",templateUrl:"app/modules/docker/container.top/top.html",controller:"DockerContainerTopController",controllerAs:"vm",resolve:{resolvedContainerTop:["dockerService","$stateParams",function(e,t){return e.getContainerTop(t.containerId)
}]}})}angular.module("qorDash.docker.domain.dockers.menu.containers.container.top",[]).config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n){var o=this;o.containerTop=n,o.getTop=function(){t.getContainerTop(e.containerId,o.ps_args).then(function(e){o.containerTop=e})}}angular.module("qorDash.docker.domain.dockers.menu.containers.container.top").controller("DockerContainerTopController",e),e.$inject=["$stateParams","dockerService","resolvedContainerTop"]}(),function(){"use strict";function e(e){e.state("app.docker.domains.domain.dockers.menu.containers.container.stats",{url:"/stats",templateUrl:"app/modules/docker/container.stats/stats.html",controller:"DockerContainerStatsController",controllerAs:"vm"})}angular.module("qorDash.docker.domain.dockers.menu.containers.container.stats",[]).config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,s){function l(){i.stats(h,function(e){var t=Object.keys(e).map(function(t){return e[t]});return-1!==t.join("").indexOf("no such id")?void a.error("Unable to retrieve stats","Is this container running?"):(p.data=e,c(e),d(e),void u(e))},function(){a.error("Unable to retrieve stats","Is this container running?")})}function c(e){console.log("updateCpuChart",e),p.cpuData[0].length>=20&&(p.cpuLabels=p.cpuLabels.slice(1),p.cpuData[0]=p.cpuData[0].slice(1)),p.cpuLabels.push(new Date(e.read).toLocaleTimeString()),p.cpuData[0].push(m(e))}function d(e){console.log("updateMemoryChart",e),p.memoryData[0].length>=20&&(p.memoryLabels=p.memoryLabels.slice(1),p.memoryData[0]=p.memoryData[0].slice(1)),p.memoryLabels.push(new Date(e.read).toLocaleTimeString()),p.memoryData[0].push(e.memory_stats.usage)}function u(e){var t=0,n=0;(0!==C||0!==$)&&(t=e.network.rx_bytes-C,n=e.network.tx_bytes-$),C=e.network.rx_bytes,$=e.network.tx_bytes,console.log("updateNetworkChart",e),p.networkData[0].length>=20&&p.networkData[1].length>=20&&(p.networkLabels=p.networkLabels.slice(1),p.networkData[0]=p.networkData[0].slice(1),p.networkData[1]=p.networkData[1].slice(1)),p.networkLabels.push(new Date(e.read).toLocaleTimeString()),p.networkData[0].push(t),p.networkData[1].push(n)}function m(e){var t=e.precpu_stats,n=e.cpu_stats,o=0,a=n.cpu_usage.total_usage-t.cpu_usage.total_usage,r=n.system_cpu_usage-t.system_cpu_usage;return r>0&&a>0&&(o=a/r*n.cpu_usage.percpu_usage.length*100),o}for(var p=this,h=angular.extend({id:n.containerId},r.urlParams),f=[],v=[],g=[],b=[],y=[],k=[],w=[],C=0,$=0,S=0;20>S;S++)f.push(""),v.push(0),g.push(""),b.push(0),y.push(""),k.push(0),w.push(0);p.cpuStyles=[{fillColor:"rgba(151,187,205,0.5)",strokeColor:"rgba(151,187,205,1)",pointColor:"rgba(151,187,205,1)",pointStrokeColor:"#fff",data:v}],p.memoryStyles=[{fillColor:"rgba(151,187,205,0.5)",strokeColor:"rgba(151,187,205,1)",pointColor:"rgba(151,187,205,1)",pointStrokeColor:"#fff",data:b}],p.networkStyles=[{label:"Rx Bytes",fillColor:"rgba(151,187,205,0.5)",strokeColor:"rgba(151,187,205,1)",pointColor:"rgba(151,187,205,1)",pointStrokeColor:"#fff"},{label:"Tx Bytes",fillColor:"rgba(255,180,174,0.5)",strokeColor:"rgba(255,180,174,1)",pointColor:"rgba(255,180,174,1)",pointStrokeColor:"#fff"}],p.networkLegendData=["Rx Data","Tx Data"],p.chartOtions={animation:!1,animationSteps:30,pointHitDetectionRadius:3,responsive:!0},p.memoryChartOptions=p.networkChartOptions=angular.extend({scaleLabel:function(e){return s(parseInt(e.value,10))}},p.chartOtions),p.cpuData=[v],p.cpuLabels=f,p.memoryData=[b],p.memoryLabels=g,p.networkData=[w,k],p.networkLabels=y;var D=t(l,2e3);l(),e.$on("$destroy",function(){t.cancel(D)})}angular.module("qorDash.docker.domain.dockers.menu.containers.container.stats").controller("DockerContainerStatsController",e),e.$inject=["$scope","$interval","$stateParams","$sce","Messages","Settings","Container","humansizeFilter"]}(),function(){"use strict";function e(e){e.state("app.docker.domains.domain.dockers.menu.containers.container.logs",{url:"/logs",templateUrl:"app/modules/docker/container.logs/logs.html",controller:"DockerContainerLogsController",controllerAs:"vm",resolve:{resolvedContainer:["Container","Settings","$stateParams",function(e,t,n){var o=angular.extend({id:n.containerId},t.urlParams);return e.get(o).$promise}],resolvedContainerLogsStdout:["dockerService","$stateParams",function(e,t){return e.getContainerLogs(t.containerId,{stdout:1,stderr:0})}],resolvedContainerLogsStderr:["dockerService","$stateParams",function(e,t){return e.getContainerLogs(t.containerId,{stdout:0,stderr:1})}]},authenticate:!0})}angular.module("qorDash.docker.domain.dockers.menu.containers.container.logs",[]).config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,o,a,r,i,s,l,c){function d(e){return e=e.replace(/[\r]/g,"\n"),e=e.substring(8),e=e.replace(/\n(.{8})/g,"\n")}function u(){var e=[i.getContainerLogs(o.containerId,{stdout:1,stderr:0,timestamps:m.showTimestamps,tail:m.tailLines}),i.getContainerLogs(o.containerId,{stdout:0,stderr:1,timestamps:m.showTimestamps,tail:m.tailLines})];n.all(e).then(function(e){m.stdout=d(e[0]),m.stderr=d(e[1])})}var m=this,p=e(u,5e3);m.showTimestamps=!1,m.tailLines=2e3,m.container=s,m.stdout=d(l),m.stderr=d(c),t.$on("$destroy",function(){e.cancel(p)}),m.scrollTo=function(e){a.hash(e),r()},m.toggleTimestamps=function(){u()},m.toggleTail=function(){u()}}angular.module("qorDash.docker.domain.dockers.menu.containers.container.logs").controller("DockerContainerLogsController",e),e.$inject=["$interval","$scope","$q","$stateParams","$location","$anchorScroll","dockerService","resolvedContainer","resolvedContainerLogsStdout","resolvedContainerLogsStderr"]}(),function(){"use strict";function e(e){e.state("app.docker.domains.domain.dockers.menu.containers.container",{url:"/:containerId",templateUrl:"app/modules/docker/container/container.html",controller:"ContainerController",controllerAs:"vm",resolve:{resolvedContainer:["Container","Settings","$stateParams",function(e,t,n){var o=angular.extend({id:n.containerId},t.urlParams);return e.get(o).$promise}],resolvedContainerChanges:["Container","Settings","$stateParams",function(e,t,n){var o=angular.extend({id:n.containerId},t.urlParams);return e.changes(o).$promise}]},authenticate:!0})}angular.module("qorDash.docker.domain.dockers.menu.containers.container",[]).config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,o,a,r,i){function s(){n.get(d,function(t){c.container=t,c.container.edit=!1,c.container.newContainerName=t.Name,e.$emit("updateContainersList")})}function l(e,t){var o;switch(e){case"start":case"rename":o=angular.extend(t,d);break;default:o=d}return n[e](o).$promise.then(s)}var c=this;c.container=a,c.container.edit=!1,c.container.newContainerName=a.Name,c.changes=r;var d=angular.extend({id:c.container.Id},o.urlParams);c.hasContent=function(e){return null!==e&&void 0!==e},c.getChanges=function(){n.changes(d,function(e){c.changes=e})},c.start=function(){l("start",{HostConfig:c.container.HostConfig})},c.rename=function(){l("rename",{name:c.container.newContainerName})},c.stop=function(){l("stop")},c.kill=function(){l("kill")},c.pause=function(){l("pause")},c.unpause=function(){l("unpause")},c.remove=function(){l("remove",null).then(function(){e.$emit("updateContainersList"),t.go("^")})},c.restart=function(){l("restart")},c.commit=function(){i.containerCommit(c.container.Id,c.container.Config.Image).then(s)}}angular.module("qorDash.docker.domain.dockers.menu.containers.container").controller("ContainerController",e),e.$inject=["$scope","$state","Container","Settings","resolvedContainer","resolvedContainerChanges","dockerService"]}(),function(){"use strict";angular.module("qorDash.widget",[])}(),function(){"use strict";function e(e,t,n){return{replace:!0,link:function(o,a,r){o.attributes=r,o.$watch(r.wsUrl,function(e){o.wsUrl=e});var i=function(e,a){t("app/widgets/"+e.toLowerCase()+"/"+e.toLowerCase()+".html",!0).then(function(e){a.append(n(e)(o))},function(){})},s=r.qlWidget;s&&(e.hasAccessTo(s)?i(s,a):(a.remove(),a=null))}}}angular.module("qorDash.widget").directive("qlWidget",e),e.$inject=["user","$templateRequest","$compile"]}(),function(){"use strict";angular.module("qorDash.loaders",["qorDash.core","qorDash.auth"])}(),function(){function e(e,t,n,o){function a(e){return e.data?e.data:e}function r(e){return o.showError(e),t.reject(e.data?e.data:e)}function i(){return e.get(c+"/v1/domain/").then(a)["catch"](r)}function s(t){return e.get(c+"/v1/domain/"+t).then(a)["catch"](r)}function l(t,n){return e.get(c+"/v1/dockerapi/"+t+"/"+n+"/").then(a)["catch"](r)}var c=n;return{loadDomains:i,loadDomain:s,loadDockers:l}}angular.module("qorDash.loaders").factory("domainService",e),e.$inject=["$http","$q","API_URL","errorHandler"]}(),function(){function e(e,t,n,o){function a(e){return e.data}function r(e){return o.showError(e),t.reject(e.data?e.data:e)}function i(t,o){return e({method:"POST",url:n.url+"/commit",params:{container:t,repo:o}}).then(a)["catch"](r)}function s(t,o){return e({method:"GET",url:n.url+"/containers/"+t+"/top",params:{ps_args:o}}).then(a)["catch"](r)}function l(t,o){return e({method:"GET",url:n.url+"/containers/"+t+"/logs",params:{stdout:o.stdout||0,stderr:o.stderr||0,timestamps:o.timestamps||0,tail:o.tail||2e3}}).then(a)["catch"](r)}return{getContainerTop:s,getContainerLogs:l,containerCommit:i}}angular.module("qorDash.loaders").factory("dockerService",e),e.$inject=["$http","$q","Settings","errorHandler"]}(),function(){"use strict";function e(e,t){e.state("app",{url:"/app","abstract":!0,templateUrl:"app/modules/core/app.html"}),t.otherwise(function(e){var t=e.get("$state");t.go("app.dashboard")})}var t=angular.module("qorDash.core",["ui.router","ngAnimate","ngSanitize"]);t.config(e),e.$inject=["$stateProvider","$urlRouterProvider"],angular.createAuthorizedController=function(e,t){var n=t[t.length-1];t[t.length-1]="dataLoader",t.push("user"),t.push(function(){var t=arguments[arguments.length-2],o=arguments[arguments.length-1];if(!o.hasAccessTo(e)&&!o.hasAccessTo(e.replace("Controller","")))throw"Access exception in "+arguments[0];var a=this,r=arguments;t.init(e).then(function(){n.apply(a,r)})});var o={};return o[e]=t,o}}(),function(){"use strict";function e(e){function t(t,n){angular.isFunction(n)&&(n={post:n});var o,a=t.contents().remove();return{pre:n&&n.pre?n.pre:null,post:function(t,r){o||(o=e(a)),o(t,function(e){r.append(e)}),n&&n.post&&n.post.apply(null,arguments)}}}return{compile:t}}function t(e){function t(t){return e.compile(t)}function n(){function e(e){return angular.isObject(e)}function t(e){return angular.isArray(e)}function n(e){a.data.push(""),a.onchange(e)}function o(e,t){a.onchange(e,t)}var a=this;a.isObject=e,a.isArray=t,a.addElementToArray=n,a.updateData=o}return n.$inject=["$scope"],{restrict:"AEC",scope:{data:"=",parentKey:"=",onchange:"="},replace:!0,bindToController:!0,templateUrl:"app/modules/core/nested-table/nested-table.html",compile:t,controller:n,controllerAs:"vm"}}angular.module("qorDash.core").factory("RecursionHelper",e).directive("nestedTable",t),e.$inject=["$compile"],t.$inject=["RecursionHelper"]}(),function(){function e(e,t){function n(n,o,a){return e.get(t+"/v1/orchestrate/"+n+"/"+o+"/"+a+"/")}function o(n,o){return e.get(t+"/v1/orchestrate/"+n+"/"+o+"/")}function a(n,o,a,r){return e.get(t+"/v1/orchestrate/"+n+"/"+o+"/"+a+"/"+r)}function r(n,o){var a={method:"POST",url:t+n,headers:{"Content-Type":"application/json"},data:o};return e(a)}return{loadHistory:n,loadInstances:o,loadOption:a,loadLogUrl:r}}angular.module("qorDash.loaders").factory("orchestrateService",e),e.$inject=["$http","API_URL"]}(),function(){function e(e,t,n,o,a){function r(){var r=e.defer();return t({method:"POST",url:n+"/auth",headers:{"Content-Type":"application/json"},data:{username:o,password:a}}).then(function(e){r.resolve(e.data.token)},function(){r.reject()}),r.promise}return{load:r}}angular.module("qorDash.loaders").factory("manageLoader",e),e.$inject=["$q","$http","AUTH_API_URL","AUTH_API_USER","AUTH_API_SECRET"]}(),function(){function e(e,t){function n(){return e.get(t+"/v1/domain/")}return{load:n}}angular.module("qorDash.loaders").factory("domainsLoader",e),e.$inject=["$http","API_URL"]}(),function(){function e(e,t){function n(n){return e.get(t+"/v1/domain/"+n)}return{load:n}}angular.module("qorDash.loaders").factory("domainLoader",e),e.$inject=["$http","API_URL"]}(),function(){function e(e,t){function n(n){var o={method:"GET",url:t+"/v1/conf/"+n+"/",headers:{"Content-Type":"application/json"}};return e(o)}function o(n){return e.get(t+"/v1/env/"+n+"/")}function a(n,o,a,r){var i={method:"POST",url:t+"/v1/conf/"+n+"/"+o+"/"+a,headers:{"Content-Type":"text/plain"},data:r};return e(i)}function r(n,o,a,r,i){var s={method:"GET",url:t+"/v1/conf/"+n+"/"+o+"/"+a+"/"+r+"/"+i,headers:{"Content-Type":"application/json"}};return e(s)}function i(n,o,a,r){var i={method:"GET",url:t+"/v1/conf/"+n+"/"+o+"/"+a+"/"+r+"/",headers:{"Content-Type":"application/json"}};return e(i)}function s(n,o,a){var r={method:"GET",url:t+"/v1/conf/"+n+"/"+o+"/"+a,headers:{"Content-Type":"application/json"}};return e(r)}function l(n,o,a,r,i,s){var l={method:"POST",url:t+"/v1/conf/"+n+"/"+o+"/"+a+"/"+r+"/"+i,headers:{"X-Dash-Version":s}};return e(l)}function c(n,o,a,r,i,s,l){var c={method:"PUT",url:t+"/v1/conf/"+n+"/"+o+"/"+a+"/"+r+"/"+i,headers:{"X-Dash-Version":s},data:l};return e(c)}function d(n,o,a,r,i,s){var l={method:"POST",url:t+"/v1/conf/"+n+"/"+o+"/"+a+"/"+r+"/"+i,headers:{"Content-Type":"text/plain"},data:s};return e(l)}function u(n,o,a,r,i,s){var l={method:"DELETE",url:t+"/v1/conf/"+n+"/"+o+"/"+a+"/"+r+"/"+i,headers:{"X-Dash-Version":s}};return e(l)}function m(n,o,a,r,i){var s={method:"POST",url:t+"/v1/conf/"+n+"/"+o+"/"+a+"/"+r+"/"+i+"/live",headers:{"Content-Type":"application/json"}};return e(s)}return{loadInstance:n,loadEnv:o,files:{createFile:a,getFileContent:r,getVersions:i,getBaseFile:s,createVersion:l,saveFile:c,cloneFile:d,deleteFile:u,makeVersionLive:m}}}angular.module("qorDash.loaders").factory("configurationService",e),e.$inject=["$http","API_URL"]}(),function(){function e(e,t){function n(n){var o={method:"GET",url:t+"/admin/domain/",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}};return e(o)}function o(n,o){var a={method:"GET",url:t+"/admin/domain/"+n,headers:{"Content-Type":"application/json",Authorization:"Bearer "+o}};return e(a)}return{getDomains:n,getDomainInfo:o}}angular.module("qorDash.loaders").factory("authenticationService",e),e.$inject=["$http","AUTH_API_URL"]}(),function(){function e(e,t){function n(n){var o={method:"GET",url:t+"/account/",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}};return e(o)}function o(n,o){var a={method:"GET",url:t+"/account/"+n,headers:{"Content-Type":"application/json",Authorization:"Bearer "+o}};return e(a)}function a(n,o,a){var r={method:"POST",url:t+"/register",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a},data:{identity:{username:n,oauth2_provider:"google.com",oauth2_account_id:o}}};return e(r)}function r(n,o,a,r){var i={method:"POST",url:t+"/register",headers:{"Content-Type":"application/json",Authorization:"Bearer "+r},data:{identity:{username:n,password:o},custom_object:a}};return e(i)}return{getAccounts:n,getAccountById:o,createAccount:r,createGoogleAccount:a}}angular.module("qorDash.loaders").factory("accountsService",e),e.$inject=["$http","AUTH_API_URL"]}(),function(){"use strict";function e(e,o,a,r,i,s,l){var c={restrict:"ECA",terminal:!0,priority:400,compile:function(){return function(o,a,c){function d(t){return t&&e.$current&&e.$current.locals[t]}function u(e,t){return t.indexOf("@")>=0?t:t+"@"+(e?e.state.name:"")}function m(){return u(null,r(c.horizontalUiView||c.name||"")(o))}function p(e){return""===e.name?m():u(e,"")}function h(e){this._viewName=e,this._locals=d(e)}function f(e,t){e||g.invalidateStates(t)}var v=c.onload||"";a.addClass("qor-container"),o.$on("$stateChangeSuccess",function(e,t,n){f(!1,n._preventAnimation)}),o.$on("$viewContentLoading",function(){f(!1)}),o.$on("$stateChangeSuccess",function(t,o,a,r){e.includes(r)||n(l)}),h.prototype.renderView=function(e,n){var o=this._locals;if(o){var r=this._scope=e.$new(),c=this._element=angular.element(o.$template||"");a.append(c[0]),c.data("$uiView",{name:this._viewName,state:o.$$state});var d=s(c[0]);if(o.$$controller){o.$scope=r;var u=i(o.$$controller,o);o.$$controllerAs&&(r[o.$$controllerAs]=u),c.data("$ngControllerController",u),c.children().data("$ngControllerController",u)}d(r),t(l,n)}this._scope.$emit("$viewContentLoaded"),this._scope.$eval(v)},h.prototype.matchState=function(e){return this._locals===d(e)},h.prototype.tryCreateChildViews=function(e){var t=p({name:this._viewName,state:this._locals.$$state});if(t&&d(t)){var n=this._childStateView=new h(t);n.renderView(this._scope,e),n.tryCreateChildViews(e)}},h.prototype.destroy=function(){this._childStateView&&this._childStateView.destroy(),this._element.remove(),this._scope.$destroy()},h.prototype.invalidateStates=function(e){var t=p({name:this._viewName,state:this._locals.$$state});t?this._childStateView?this._childStateView.matchState(t)?this._childStateView.invalidateStates(e):(this._childStateView.destroy(),this._childStateView=null,this.tryCreateChildViews(e)):this.tryCreateChildViews(e):(this._childStateView&&this._childStateView.destroy(),this._childStateView=null)};var g=new h("");g._scope=o,f(!0)}}};return c}function t(e,t){var n=e(".qor-container"),o=n.find("> .qor-sheet").map(function(){return e(this).width()}).splice(0).reduce(function(e,t){return e+t},0),a=n.width(),r=o-a,i=a-(o-n[0].scrollLeft);0>i&&n.animate({scrollLeft:r},t?0:400)}function n(e){var t=e(".qor-container"),n=t[0].scrollLeft,o=t.find("> .qor-sheet:last-child");if(o.length){var a=o.offset().left,r=e(window).width()<768?0:80;n>0&&0>a-r&&t.animate({scrollLeft:t[0].scrollLeft+(a-r)})}}function o(){function e(e,t){t.addClass("qor-sheet")}function t(e,t){var n=t.$current;e.sheet={close:function(){t.go(n.parent)}}}return t.$inject=["$scope","$state"],{controller:t,link:e}}function a(){return{link:function(e,t){t.addClass("qor-sheet-content")}}}function r(){return{require:"^horizontalUiSheet",transclude:!0,replace:!0,template:'<header class="qor-sheet-header">  <div class="qor-sheet-statusbar">    <div class="qor-sheet-actions">      <button class="qor-sheet-close" ui-sref="^">&times;</button>    </div>    <h5 class="qor-sheet-title">{{title}}</h5>  </div>  <div class="qor-sheet-header-content" ng-transclude></div></header>',scope:{title:"@"}}}angular.module("qorDash.core").directive("horizontalUiView",e).directive("horizontalUiSheet",o).directive("horizontalUiSheetContent",a).directive("horizontalUiSheetHeader",r),e.$inject=["$state","$injector","$uiViewScroll","$interpolate","$controller","$compile","jQuery"],r.$inject=["$compile"]}(),function(){"use strict";function e(e){function t(t){t.find("th").each(function(t,n){e(n).css({width:o[t],height:a[t],padding:"8px",margin:"80px"})})}function n(e){o=[],e.find("th").each(function(e,t){o.push(t.offsetWidth),a.push(t.offsetHeight)})}var o=[],a=[];return{restrict:"A",link:function(o,a){var r,i,s,l,c=!0;i=a.parents("[qor-sidebar-container]").find(".qor-header"),r=a.parents("[horizontal-ui-sheet]").find(".qor-sheet-header"),s=a.parents("[horizontal-ui-sheet]").find("[horizontal-ui-sheet-content]"),s.on("scroll",function(){a.offset().top<r.height()&&c&&(n(a),l=a.clone(),l.addClass("table-fixed-header"),t(l),l.appendTo(r),c=!1),a.offset().top>r.height()&&!c&&(r.find("[table-fixed-header]").remove(),c=!0)}),e(window).on("resize",function(){r.find("[table-fixed-header]").is("thead")&&(n(a),t(r.find("[table-fixed-header]")))})}}}angular.module("qorDash.core").directive("tableFixedHeader",e),e.$inject=["jQuery","$document"]}(),function(){"use strict";function e(e,t,n){function o(e){i.forEach(function(t){t.active&&t!==e&&(t.active=!1)}),e.active=!0}function a(e){e.active?e.active=!1:o(e)}function r(){i.forEach(function(e){e.active=!1})}var i=this.groups=e.groups=n.sortedGroups();e.selectGroup=o,e.toggleGroup=a,e.resetStates=r,e.appTitle=n.getTitle(),e.hasActiveGroup=function(){return i.reduce(function(e,t){return e||t.active},!1)},e.activeGroup=function(){var e;return i.forEach(function(t){t.active&&(e=t)}),e},t.$on("$stateChangeSuccess",r)}function t(e,t){return{restrict:"EA",replace:!0,scope:!0,controller:"QorSidebarController",template:'<nav class="qor-sidebar" ng-class="{ opened: hasActiveGroup() }"><header class="qor-sidebar-groups"><div class="qor-logo"><a href="/"><img src="'+t+'" height="50" width="50"></a></div><loading-indicator></loading-indicator><ul class="qor-sidebar-nav"><li ng-repeat="group in groups" ng-class="{\'user-label\' : group.title==\'User\'}" ui-sref-active="active" bind-html-compile="group.content" ng-class="{ active: group.active }" ng-click="group.templateUrl && toggleGroup(group)"></li></ul></header></nav>'}}function n(){return{restrict:"EA",template:'<i class="group-icon" ng-if="iconClass" ng-class="iconClass"></i><span class="group-nav-heading">{{qorSidebarGroupHeading}}</span>',scope:{qorSidebarGroupHeading:"@",iconClass:"@"},link:function(e,t){t.addClass("group-nav")}}}function o(e){return{restrict:"A",link:function(t,n,o){t.$watch(function(){return t.$eval(o.bindHtmlCompile)},function(o){n.html(o),e(n.contents())(t)})}}}function a(){function e(){return Object.keys(n).map(function(e){var t=angular.extend({id:e},n[e]);return t.controller||(t.controller="SidebarStubController"),t})}function t(t){var n=!0;return{sortedGroups:function(){return e().sort(function(e,t){return(e.nav||0)-(t.nav||0)})},isExpanded:function(){return n},showSidebar:function(){n=!0,t.$broadcast("qorSidebarStateChange",n)},hideSidebar:function(){n=!1,t.$broadcast("qorSidebarStateChange",n)},toggleSidebar:function(){n=!n,t.$broadcast("qorSidebarStateChange",n)},getTitle:function(){return o}}}var n={},o="qorio";this.config=function(e,t){if(n.id)throw Error("Group with id="+e+" already exist.");n[e]=t},this.setTitle=function(e){o=e},t.$inject=["$rootScope"],this.$get=t}function r(){return{restrict:"EA",link:function(e,t){if(!t.find("[qor-sidebar]").length)throw Error("qor-sidebar should be defined inside");if(!t.find("[qor-content]").length)throw Error("qor-content should be defined inside");t.find("[qor-content]").addClass("qor-content"),e.$on("qorSidebarStateChange",function(e){t.toggleClass("qor-sidebar-expanded",e)})}}}function i(e){return{restrict:"A",scope:!0,priority:500,compile:function(){return function(t,n,o){var a=e(t.$eval(o.propertyController),{$scope:t});n.data("$ngControllerController",a),n.children().data("$ngControllerController",a)}}}}angular.module("qorDash.core").controller("QorSidebarController",e).controller("SidebarStubController",function(){}).directive("qorSidebarContainer",r).directive("qorSidebar",t).provider("$qorSidebar",a).directive("qorSidebarGroupHeading",n).directive("propertyController",i).directive("bindHtmlCompile",o),e.$inject=["$scope","$rootScope","$qorSidebar","$controller"],t.$inject=["$rootScope","ICON_URL"],o.$inject=["$compile"],i.$inject=["$controller"]}(),function(){"use strict";function e(e){return{restrict:"ECA",terminal:!0,priority:400,link:function(t,n){var o,a=function(e){return e.length&&e.get(0).scrollHeight>e.get(0).clientHeight},r=function(e,t){return e!=t&&t.has(e).length?a(e)?!0:r(e.parent(),t):!1},i=function(e){return!a(e.closest(".qor-sheet-content"))},s=!1,l=!1;n[0].addEventListener("mousewheel",function(t){var a,c=e(t.target);if(!r(c,c.closest(".qor-sheet-content")))return i(c)||s&&l?(e(window).width()>=768&&(n[0].doScroll?n[0].doScroll(t.wheelDelta>0?"left":"right"):(t.wheelDelta||t.detail)>0?n[0].scrollLeft-=20:n[0].scrollLeft+=20,a=!1,l=!0),t.preventDefault()):l=!1,s=!0,clearTimeout(o),o=setTimeout(function(){s=!1,l=!1},400),a})}}}angular.module("qorDash.core").directive("horizontalScroll",e),e.$inject=["jQuery"]}(),function(){"use strict";function e(e){function t(t,n){t.$watch("vm.isSpinning",function(t){var o=n.find("img");e(function(){o.toggleClass("show",t)})})}function n(e){function t(e,t){t.resolve&&(o.isSpinning=!0)}function n(e,t){t.resolve&&(o.isSpinning=!1)}var o=this;o.isSpinning=!1,e.$on("$stateChangeStart",t),e.$on("$stateChangeSuccess",n),e.$on("$stateChangeError",n)}return n.$inject=["$scope","$timeout"],{restrict:"E",link:t,replace:!0,template:'<div class="loading-indicator"><img class="hide" src="assets/images/cube.gif"></div>',controller:n,controllerAs:"vm",bindToController:!0}}angular.module("qorDash.core").directive("loadingIndicator",e),e.$inject=["$timeout"]}(),function(){"use strict";function e(){function e(e){for(var t={},n=0;n<e.length;n++){var o=e[n],a=new Date(1e3*o.Created).toLocaleDateString(),r=t[a];void 0===r&&(r=0),r+=1,t[a]=r}return t}function t(e){for(var t=[],n=[],o=Object.keys(e),a=o.length-1;a>-1;a--){var r=o[a];t.push(r),n.push(e[r])}return[n,t]}function n(n){var o=this;n.$watch("vm.data",function(n){if(n){var a=e(n),r=t(a);o.dataset=[r[0]],o.labels=r[1],o.options={maintainAspectRatio:!1,scaleStepWidth:1,pointDotRadius:1,scaleOverride:!0,scaleSteps:o.labels.length},o.lineChartColours=[{fillColor:"rgba(151,187,205,0.5)",strokeColor:"rgba(151,187,205,1)",pointColor:"rgba(151,187,205,1)",pointStrokeColor:"#fff"}]}})}return n.$inject=["$scope"],{restrict:"E",controller:n,controllerAs:"vm",bindToController:!0,replace:!1,scope:{data:"="},template:'<canvas class="chart chart-line" chart-colours="vm.lineChartColours"  chart-options="vm.options" chart-data="vm.dataset" chart-labels="vm.labels"></canvas>'}}angular.module("qorDash.core").directive("lineChart",e)}(),function(){"use strict";function e(e){e.state("app.configurations.services",{url:"/:domain",templateUrl:"app/modules/configurations/services/services.html",controller:"ServicesController",authenticate:!0})}var t=angular.module("qorDash.configurations.services",["ui.router"]);t.config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,n,o,a){e.$watch("domains",function(){e.domains&&(e.domain=e.domains.filter(function(e){return e.id==n.domain})[0])}),a.load(n.domain).then(function(n){e.services=n.data.services,1==Object.size(e.services)&&"app.configurations.services"==t.current.name&&t.go(".state",{service:e.services[0]})},function(t){e.error=o.showError(t)})}Object.size=function(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n},e.$inject=["$scope","$state","$stateParams","errorHandler","domainLoader"],angular.module("qorDash.configurations.services").controller("ServicesController",e)}(),function(){"use strict";function e(e,t,n){t.interceptors.push("authInterceptor"),e.state("login",{url:"/login",templateUrl:"app/modules/auth/login.html",controller:"LoginController",controllerAs:"vm"}).state("logout",{url:"/logout",controller:["$state","user",function(e,t){t.logout(),e.go("login")}]}),n.config("User",{title:"User",nav:20,content:'<span id="user-actions" ui-sref="logout" qor-sidebar-group-heading="Logout" data-icon-class="fa fa-sign-out"></span>'})}function t(e,t,n){e.$on("$stateChangeStart",function(e,o){return o.authenticate&&!n.isAuthed()?(t.transitionTo("login"),void e.preventDefault()):void(o.authenticate&&o.controller&&!n.hasAccessTo(o.controller)&&(t.transitionTo("error"),e.preventDefault()))})}angular.module("qorDash.auth",["qorDash.core","ui.router","ngMessages"]).config(e).run(t),e.$inject=["$stateProvider","$httpProvider","$qorSidebarProvider"],t.$inject=["$rootScope","$state","user"]}(),function(){"use strict";function e(e,t,n,o){function a(){var e=t.defer();return gapi.load("auth2",function(){e.resolve(gapi)}),e.promise}function r(){return a().then(function(e){var t=e.auth2.init(l);return t.signIn({scope:"openid"})})}function i(){return a().then(function(e){var t=e.auth2.getAuthInstance();return t.signOut()})}function s(t){var o=t.getAuthResponse().access_token;return e.post(n+"/auth",{oauth2_access_token:o,oauth2_provider:"google.com"})}var l={client_id:o,cookie_policy:"single_host_origin"};return{login:r,logout:i,exchangeToken:s}}angular.module("qorDash.auth").factory("oauthProviderGoogle",e),e.$inject=["$http","$q","AUTH_API_URL","GOOGLE_CLIENT_ID"]}(),function(){"use strict";function e(e,t,n,o){function a(t){d=u[t];var n=e.defer();return n.resolve(d),n.promise}function r(){return d.login()}function i(){return d.logout()}function s(e){return d.exchangeToken(e).then(l)["catch"](c)}function l(e){e.data.token&&t.saveToken(e.data.token)}function c(e){n.showError(e)}var d=null,u={google:o};return{init:a,login:r,logout:i,exchangeToken:s}}angular.module("qorDash.auth").factory("oauthAdapter",e),e.$inject=["$q","auth","errorHandler","oauthProviderGoogle"]}(),function(){"use strict";function e(e,t){function n(t,n){function o(){e.init("google").then(e.login).then(t.vm.successLogin)["catch"](t.vm.failedLogin)}n.on("click",o),t.$on("$destroy",function(){n.off("click",o)})}function o(){function n(t){return e.exchangeToken(t).then(a.onSuccess)}function o(e){t.showError(e)}var a=this;a.successLogin=n,a.failedLogin=o}return{scope:{onSuccess:"="},restrict:"A",link:n,controller:o,controllerAs:"vm",bindToController:!0}}angular.module("qorDash.auth").directive("gSignin",e),e.$inject=["oauthAdapter","errorHandler"]}(),function(){"use strict";angular.module("qorDash.widget.traffic",[])}(),function(){"use strict";function e(e,t){return{restrict:"EA",scope:{},link:function(n,o,a){e.d3().then(function(e){parseInt(a.margin)||20,parseInt(a.barHeight)||20,parseInt(a.barPadding)||5;n.$watch(function(){return angular.element(t)[0].innerWidth},function(){n.render(n.data)}),n.render=function(){function t(){function o(t){t.x=Math.max(0,Math.min(S-t.width,e.event.x)),t.y=Math.max(0,Math.min($-t.height,e.event.y)),e.select(this).attr("transform","translate("+t.x+","+t.y+")"),r.relayout(),n.selectAll(".node").selectAll("rect").attr("height",function(e){return e.height}),P.attr("d",i)}function s(e){e.children.forEach(function(e){e.state="contained",e.parent=this,e._parent=null,s(e)},e)}function m(e){e.state="expanded",e.children.forEach(function(e){e.state="collapsed",e._parent=this,e.parent=null,s(e)},e)}function p(e){e.state="collapsed",s(e)}function h(){P.style("stroke",f).style("marker-end",function(){return"url(#arrowHead)"}).transition().duration(C).style("opacity",u.LINK_DEFAULT),_.selectAll("rect").style("fill",function(e){return e.color=l(e.type.replace(/ .*/,"")),e.color}).style("stroke",function(t){return e.rgb(l(t.type.replace(/ .*/,""))).darker(.1)}).style("fill-opacity",u.NODE_DEFAULT),_.filter(function(e){return"collapsed"===e.state}).transition().duration(C).style("opacity",u.NODE_DEFAULT)}function b(e){I(2*C),A(),"collapsed"===e.state?m(e):p(e),r.relayout(),t(),P.attr("d",i),h()}function D(e){P.filter(function(t){return t.source===e}).style("marker-end",function(){return"url(#arrowHeadInflow)"}).style("stroke",g).style("opacity",u.LINK_DEFAULT),P.filter(function(t){return t.target===e}).style("marker-end",function(){return"url(#arrowHeadOutlow)"}).style("stroke",v).style("opacity",u.LINK_DEFAULT)}function T(e){P.filter(function(t){return t.source!==e&&t.target!==e}).style("marker-end",function(){return"url(#arrowHead)"}).transition().duration(C).style("opacity",u.LINK_FADED),_.filter(function(t){return t.name===e.name?!1:!r.connected(t,e)}).transition().duration(C).style("opacity",u.NODE_FADED)}var P,V,_,M,L,z;P=n.select("#links").selectAll("path.link").data(r.visibleLinks(),function(e){return e.id}),P.transition().duration(C).style("stroke-WIDTH",function(e){return Math.max(1,e.thickness)}).attr("d",i).style("opacity",u.LINK_DEFAULT),P.exit().remove(),V=P.enter().append("path").attr("class","link").style("fill","none"),V.on("mouseenter",function(t){d||(E().select(".value").text(function(){return t.direction>0?t.source.name+"  "+t.target.name+"\n"+x(t.value):t.target.name+"  "+t.source.name+"\n"+x(t.value)}),e.select(this).style("stroke",f).transition().duration(C/2).style("opacity",u.LINK_HIGHLIGHT))
}),V.on("mouseleave",function(){d||(A(),e.select(this).style("stroke",f).transition().duration(C/2).style("opacity",u.LINK_DEFAULT))}),V.sort(function(e,t){return t.thickness-e.thickness}).classed("leftToRight",function(e){return e.direction>0}).classed("rightToLeft",function(e){return e.direction<0}).style("marker-end",function(){return"url(#arrowHead)"}).style("stroke",f).style("opacity",0).transition().delay(C).duration(C).attr("d",i).style("stroke-WIDTH",function(e){return Math.max(1,e.thickness)}).style("opacity",u.LINK_DEFAULT),_=n.select("#nodes").selectAll(".node").data(r.collapsedNodes(),function(e){return e.id}),_.transition().duration(C).attr("transform",function(e){return"translate("+e.x+","+e.y+")"}).style("opacity",u.NODE_DEFAULT).select("rect").style("fill",function(e){return e.color=l(e.type.replace(/ .*/,"")),e.color}).style("stroke",function(t){return e.rgb(l(t.type.replace(/ .*/,""))).darker(.1)}).style("stroke-WIDTH","1px").attr("height",function(e){return e.height}).attr("width",r.nodeWidth()),_.exit().transition().duration(C).attr("transform",function(e){var t,n,o;return t=e.ancestors.filter(function(e){return"collapsed"===e.state})[0],n=t?t.x:e.x,o=t?t.y:e.y,"translate("+n+","+o+")"}).remove(),M=_.enter().append("g").attr("class","node"),M.attr("transform",function(e){var t=e._parent?e._parent.x:e.x,n=e._parent?e._parent.y:e.y;return"translate("+t+","+n+")"}).style("opacity",1e-6).transition().duration(C).style("opacity",u.NODE_DEFAULT).attr("transform",function(e){return"translate("+e.x+","+e.y+")"}),M.append("text"),M.append("rect").style("fill",function(e){return e.color=l(e.type.replace(/ .*/,"")),e.color}).style("stroke",function(t){return e.rgb(l(t.type.replace(/ .*/,""))).darker(.1)}).style("stroke-WIDTH","1px").attr("height",function(e){return e.height}).attr("width",r.nodeWidth()),_.on("mouseenter",function(t){d||(h(),D(t),T(t),e.select(this).select("rect").style("fill",function(e){return e.color=e.netFlow>0?v:g,e.color}).style("stroke",function(t){return e.rgb(t.color).darker(.1)}).style("fill-opacity",u.LINK_DEFAULT),a.style("left",t.x+w.LEFT+"px").style("top",t.y+t.height+w.TOP+15+"px").transition().duration(C).style("opacity",1).select(".value").text(function(){var e=t.children.length?"\n(Double click to expand)":"";return t.name+"\nNet flow: "+q(t.netFlow)+e}))}),_.on("mouseleave",function(){d||(A(),h())}),_.filter(function(e){return e.children.length}).on("dblclick",b),_.call(e.behavior.drag().origin(function(e){return e}).on("dragstart",function(){this.parentNode.appendChild(this)}).on("drag",o)),_.filter(function(e){return 0!==e.value}).select("text").attr("x",-6).attr("y",function(e){return e.height/2}).attr("dy",".35em").attr("text-anchor","end").attr("transform",null).text(function(e){return e.name}).filter(function(e){return e.x<S/2}).attr("x",6+r.nodeWidth()).attr("text-anchor","start"),L=n.select("#collapsers").selectAll(".collapser").data(r.expandedNodes(),function(e){return e.id}),z=L.enter().append("g").attr("class","collapser"),z.append("circle").attr("r",y.RADIUS).style("fill",function(e){return e.color=l(e.type.replace(/ .*/,"")),e.color}),z.style("opacity",u.NODE_DEFAULT).attr("transform",function(e){return"translate("+(e.x+e.width/2)+","+(e.y+y.RADIUS)+")"}),z.on("dblclick",b),L.select("circle").attr("r",y.RADIUS),L.transition().delay(C).duration(C).attr("transform",function(e,t){return"translate("+(y.RADIUS+2*t*(y.RADIUS+y.SPACING))+","+(-y.RADIUS-k)+")"}),L.on("mouseenter",function(t){if(!d){E().select(".value").text(function(){return t.name+"\n(Double click to collapse)"});var n=c(t.type.replace(/ .*/,""));e.select(this).style("opacity",u.NODE_HIGHLIGHT).select("circle").style("fill",n),_.filter(function(e){return e.ancestors.indexOf(t)>=0}).style("opacity",u.NODE_HIGHLIGHT).select("rect").style("fill",n)}}),L.on("mouseleave",function(t){d||(A(),e.select(this).style("opacity",u.NODE_DEFAULT).select("circle").style("fill",function(e){return e.color}),_.filter(function(e){return e.ancestors.indexOf(t)>=0}).style("opacity",u.NODE_DEFAULT).select("rect").style("fill",function(e){return e.color}))}),L.exit().remove()}var n,a,r,i,s,l,c,d,u={NODE_DEFAULT:.9,NODE_FADED:.1,NODE_HIGHLIGHT:.8,LINK_DEFAULT:.6,LINK_FADED:.05,LINK_HIGHLIGHT:.9},m=["Asset","Expense","Revenue","Equity","Liability"],p=["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],h=["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],f="#b3b3b3",v="#2E86D1",g="#D63028",b=36,y={RADIUS:b/2,SPACING:2},k=10,w={TOP:2*(y.RADIUS+k),RIGHT:k,BOTTOM:k,LEFT:k},C=400,$=500-w.TOP-w.BOTTOM,S=960-w.LEFT-w.RIGHT,D=32,x=function(t){var n=e.format(",.0f");return""+n(t)},q=function(t){var n=e.format(",.0f");return""+n(Math.abs(t))+(0>t?" CR":" DR")},I=function(e){d=!0,setTimeout(function(){d=!1},e)},A=function(){return a.transition().duration(C).style("opacity",0)},E=function(){return a.style("left",e.event.pageX+"px").style("top",e.event.pageY+15+"px").transition().duration(C).style("opacity",1)};l=e.scale.ordinal().domain(m).range(p),c=e.scale.ordinal().domain(m).range(h),n=e.select(o[0]).append("svg").attr("width",S+w.LEFT+w.RIGHT).attr("height",$+w.TOP+w.BOTTOM).append("g").attr("transform","translate("+w.LEFT+","+w.TOP+")"),n.append("g").attr("id","links"),n.append("g").attr("id","nodes"),n.append("g").attr("id","collapsers"),a=e.select(o[0]).append("div").attr("id","tooltip"),a.style("opacity",0).append("p").attr("class","value"),r=e.biHiSankey(),r.nodeWidth(b).nodeSpacing(10).linkSpacing(4).arrowheadScaleFactor(.5).size([S,$]),i=r.link().curvature(.45),s=n.append("defs"),s.append("marker").style("fill",f).attr("id","arrowHead").attr("viewBox","0 0 6 10").attr("refX","1").attr("refY","5").attr("markerUnits","strokeWidth").attr("markerWidth","1").attr("markerHeight","1").attr("orient","auto").append("path").attr("d","M 0 0 L 1 0 L 6 5 L 1 10 L 0 10 z"),s.append("marker").style("fill",g).attr("id","arrowHeadInflow").attr("viewBox","0 0 6 10").attr("refX","1").attr("refY","5").attr("markerUnits","strokeWidth").attr("markerWidth","1").attr("markerHeight","1").attr("orient","auto").append("path").attr("d","M 0 0 L 1 0 L 6 5 L 1 10 L 0 10 z"),s.append("marker").style("fill",v).attr("id","arrowHeadOutlow").attr("viewBox","0 0 6 10").attr("refX","1").attr("refY","5").attr("markerUnits","strokeWidth").attr("markerWidth","1").attr("markerHeight","1").attr("orient","auto").append("path").attr("d","M 0 0 L 1 0 L 6 5 L 1 10 L 0 10 z");var T=[{type:"Asset",id:"a",parent:null,name:"Assets"},{type:"Asset",id:1,parent:"a",number:"101",name:"Cash"},{type:"Asset",id:2,parent:"a",number:"120",name:"Accounts Receivable"},{type:"Asset",id:3,parent:"a",number:"140",name:"Merchandise Inventory"},{type:"Asset",id:4,parent:"a",number:"150",name:"Supplies"},{type:"Asset",id:5,parent:"a",number:"160",name:"Prepaid Insurance"},{type:"Asset",id:6,parent:"a",number:"170",name:"Land"},{type:"Asset",id:7,parent:"a",number:"175",name:"Buildings"},{type:"Asset",id:8,parent:"a",number:"178",name:"Acc. Depreciation Buildings"},{type:"Asset",id:9,parent:"a",number:"180",name:"Equipment"},{type:"Asset",id:10,parent:"a",number:"188",name:"Acc. Depreciation Equipment"},{type:"Liability",id:"l",parent:null,number:"l",name:"Liabilities"},{type:"Liability",id:11,parent:"l",number:"210",name:"Notes Payable"},{type:"Liability",id:12,parent:"l",number:"215",name:"Accounts Payable"},{type:"Liability",id:13,parent:"l",number:"220",name:"Wages Payable"},{type:"Liability",id:14,parent:"l",number:"230",name:"Interest Payable"},{type:"Liability",id:15,parent:"l",number:"240",name:"Unearned Revenues"},{type:"Liability",id:16,parent:"l",number:"250",name:"Mortage Loan Payable"},{type:"Equity",id:"eq",parent:null,number:"eq",name:"Equity"},{type:"Revenue",id:"r",parent:null,number:"r",name:"Revenues"},{type:"Revenue",id:"or",parent:"r",number:"",name:"Operating Revenue"},{type:"Revenue",id:17,parent:"or",number:"310",name:"Service Revenues"},{type:"Revenue",id:"nor",parent:"r",number:"",name:"Non-Operating Revenue"},{type:"Revenue",id:18,parent:"nor",number:"810",name:"Interest Revenues"},{type:"Revenue",id:19,parent:"nor",number:"910",name:"Asset Sale Gain"},{type:"Revenue",id:20,parent:"nor",number:"960",name:"Asset Sale Loss"},{type:"Expense",id:"ex",parent:null,number:"ex",name:"Expenses"},{type:"Expense",id:21,parent:"ex",number:"500",name:"Salaries Expense"},{type:"Expense",id:22,parent:"ex",number:"510",name:"Wages Expense"},{type:"Expense",id:23,parent:"ex",number:"540",name:"Supplies Expense"},{type:"Expense",id:24,parent:"ex",number:"560",name:"Rent Expense"},{type:"Expense",id:25,parent:"ex",number:"570",name:"Utilities Expense"},{type:"Expense",id:26,parent:"ex",number:"576",name:"Telephone Expense"},{type:"Expense",id:27,parent:"ex",number:"610",name:"Advertising Expense"},{type:"Expense",id:28,parent:"ex",number:"750",name:"Depreciation Expense"}],P=[{source:8,target:28,value:Math.floor(100*Math.random())},{source:17,target:18,value:Math.floor(100*Math.random())},{source:22,target:24,value:Math.floor(100*Math.random())},{source:3,target:13,value:Math.floor(100*Math.random())},{source:24,target:24,value:Math.floor(100*Math.random())},{source:5,target:4,value:Math.floor(100*Math.random())},{source:15,target:5,value:Math.floor(100*Math.random())},{source:18,target:8,value:Math.floor(100*Math.random())},{source:3,target:20,value:Math.floor(100*Math.random())},{source:17,target:18,value:Math.floor(100*Math.random())},{source:22,target:5,value:Math.floor(100*Math.random())},{source:4,target:24,value:Math.floor(100*Math.random())},{source:26,target:16,value:Math.floor(100*Math.random())},{source:27,target:6,value:Math.floor(100*Math.random())},{source:23,target:4,value:Math.floor(100*Math.random())},{source:10,target:24,value:Math.floor(100*Math.random())},{source:17,target:16,value:Math.floor(100*Math.random())},{source:5,target:12,value:Math.floor(100*Math.random())},{source:12,target:16,value:Math.floor(100*Math.random())},{source:19,target:5,value:Math.floor(100*Math.random())},{source:15,target:24,value:Math.floor(100*Math.random())},{source:27,target:2,value:Math.floor(100*Math.random())},{source:26,target:28,value:Math.floor(100*Math.random())},{source:22,target:24,value:Math.floor(100*Math.random())},{source:3,target:18,value:Math.floor(100*Math.random())},{source:18,target:5,value:Math.floor(100*Math.random())},{source:25,target:28,value:Math.floor(100*Math.random())},{source:12,target:1,value:Math.floor(100*Math.random())},{source:28,target:21,value:Math.floor(100*Math.random())},{source:9,target:16,value:Math.floor(100*Math.random())},{source:14,target:23,value:Math.floor(100*Math.random())},{source:6,target:1,value:Math.floor(100*Math.random())},{source:9,target:15,value:Math.floor(100*Math.random())},{source:16,target:24,value:Math.floor(100*Math.random())},{source:22,target:28,value:Math.floor(100*Math.random())},{source:8,target:21,value:Math.floor(100*Math.random())},{source:22,target:7,value:Math.floor(100*Math.random())},{source:18,target:10,value:Math.floor(100*Math.random())},{source:"eq",target:1,value:Math.floor(100*Math.random())},{source:1,target:21,value:Math.floor(100*Math.random())},{source:1,target:24,value:Math.floor(100*Math.random())},{source:17,target:1,value:Math.floor(100*Math.random())},{source:Math.ceil(28*Math.random()),target:Math.ceil(28*Math.random()),value:Math.floor(100*Math.random())},{source:Math.ceil(28*Math.random()),target:Math.ceil(28*Math.random()),value:Math.floor(100*Math.random())},{source:Math.ceil(28*Math.random()),target:Math.ceil(28*Math.random()),value:Math.floor(100*Math.random())},{source:Math.ceil(28*Math.random()),target:Math.ceil(28*Math.random()),value:Math.floor(100*Math.random())},{source:Math.ceil(28*Math.random()),target:Math.ceil(28*Math.random()),value:Math.floor(100*Math.random())},{source:Math.ceil(28*Math.random()),target:Math.ceil(28*Math.random()),value:Math.floor(100*Math.random())},{source:Math.ceil(28*Math.random()),target:Math.ceil(28*Math.random()),value:Math.floor(100*Math.random())},{source:Math.ceil(28*Math.random()),target:Math.ceil(28*Math.random()),value:Math.floor(100*Math.random())},{source:Math.ceil(28*Math.random()),target:Math.ceil(28*Math.random()),value:Math.floor(100*Math.random())},{source:Math.ceil(28*Math.random()),target:Math.ceil(28*Math.random()),value:Math.floor(100*Math.random())}];r.nodes(T).links(P).initializeNodes(function(e){e.state=e.parent?"contained":"collapsed"}).layout(D),I(2*C),t()}})}}}angular.module("qorDash.widget.traffic").directive("qlTraffic",e);e.$inject=["d3","$window","$interval","$compile","$rootScope"]}(),function(){"use strict";angular.module("qorDash.widget.timeline",["relativeDate","ui.bootstrap"])}(),function(){"use strict";function e(e,t){var n=function(e){e.height(e.parent().parent().parent().height())};return{link:function(o,a){e(function(){n(a),o.onresize=function(){n(a)},angular.element(t).bind("resize",function(){o.onresize()})})}}}var t=angular.module("qorDash.widget.timeline").directive("qlTimeline",e);e.$inject=["$timeout","$window"];var n=angular.createAuthorizedController("TimelineController",["$scope","$rootScope","$timeout","terminal",function(e,t,n,o){function a(t){var n=t.split(",");switch(n[0]){case"****":"["==n[1]?(c=n[3],e.$apply(function(){e.events.push(s(n,"event-icon-primary"))})):"]"==n[1]&&(l(n[3],"event-icon-primary",n[2]),c="");break;case"????":"["==n[1]?(c=n[3],e.$apply(function(){e.events.push(s(n,"event-icon-warning"))})):l(n[3],"event-icon-warning",n[2]);break;case"!!!!":"["==n[1]?(c=n[3],e.$apply(function(){e.events.push(s(n,"event-icon-danger"))})):l(n[3],"event-icon-danger",n[2]);break;default:t&&(e.allMessages[c]||(e.allMessages[c]=""),e.allMessages[c]+=t+"\n",e.openedTerminals[c]&&e.openedTerminals[c].echo(t))}}e.events=[],e.openedTerminals={};var r=function(e){a(e.data);var t=angular.element("body")[0];t.scrollTop=t.scrollHeight},i=new WebSocket(e.wsUrl);i.onmessage=r,e.$on("$destroy",function(){i.close()}),t.$on("timeline:newWsUrl",function(t,o){i.close(),n(function(){e.$apply(function(){e.events=[],e.allMessages={}})});try{i=new WebSocket(o),i.onmessage=r}catch(a){alert("Wrong WebSocket url"+a)}});var s=function(e,t){return{title:e[3],timestamp:e[2],text:e[4],event_icon_class:t,id:btoa(e[3]),isInfoCollapsed:!0}},l=function(e,t,n){var o=$("#"+btoa(e).substr(0,7));o.children("span").removeClass("event-icon-primary").addClass(t);var a=o.children("section").children("footer").children("ul").children("li").children("a");a.text(n-a.attr("data-original")+" seconds")};e.allMessages={};var c="";e.showDetails=function(t){var a=$("#"+btoa(t.title).substr(0,7)),r=a.children("section").children("footer").children("div"),i=o.initTerminalByObject(r.children("div").children("div"),{greetings:!1,enabled:!1}),s=a.children("section").children("footer").children("ul").children("a");i.disable(),t.isInfoCollapsed?(i.clear(),i.echo(e.allMessages[t.title]),n(function(){s.css("visibility","visible")},300),e.openedTerminals[t.title]=i):(s.css("visibility","hidden"),delete e.openedTerminals[t.title]),n(function(){t.isInfoCollapsed=!t.isInfoCollapsed})}}]);t.controller(n)}(),function(){"use strict";angular.module("qorDash.widget.terminal",[])}(),function(){"use strict";function e(e,t){var n=function(e){var t=e.parent().parent().parent().height()-20;e.parent().parent().hasClass("logs")&&(t=e.parent().parent().height()),e.height(t>0?t:500)};return{link:function(o,a){e(function(){n(a),o.onresize=function(){n(a)},angular.element(t).bind("resize",function(){o.onresize()})})}}}function t(){var e=this;e.initTerminalById=function(e,t,n){return $("#"+e).terminal(n,t)},e.initTerminalByObject=function(e,t,n){return t||(t={greetings:!1}),e.terminal(n,t)}}var n=angular.module("qorDash.widget.terminal").directive("qlTerminal",e).service("terminal",t);e.$inject=["$timeout","$window"],t.$inject=[];var o=angular.createAuthorizedController("TerminalController",["$scope","$rootScope","$timeout","terminal",function(e,t,n,o){function a(e){var t=e.split(",");switch(t[0]){case"****":return t[3];case"????":return"[[;#7f7f00;]"+t[3]+"]";case"!!!!":return"[[;#7f0000;]"+t[3]+"]";default:return e}}var o=o.initTerminalById("terminal",{greetings:!1});e.clearTerminal=function(){o.clear()};var r=new WebSocket(e.wsUrl),i=function(e){var t=a(e.data);t&&o.echo(t)};r.onmessage=i,e.$on("$destroy",function(){r.close()}),t.$on("terminal:newWsUrl",function(t,o){r.close(),n(function(){e.$apply(function(){e.clearTerminal()})});try{r=new WebSocket(o),r.onmessage=i}catch(a){alert("Wrong WebSocket url"+a)}})}]);n.controller(o)}(),function(){"use strict";angular.module("qorDash.widget.network",[])}(),function(){"use strict";function e(e,t,n){function o(e,t,n){var r,i,s;if(a++,t==e.name&&n==a)return e;if(!e._children)return void 0;for(r=0;r<e._children.length;r++)if(i=e._children[r],s=o(i,t,n),a--,s)return s}var a=-1;return o(e,t,n)}function t(e,t){function n(e,t){var o,a,r;if(t==e.name)return e;if(!e._children)return void 0;for(o=0;o<e._children.length;o++)if(a=e._children[o],r=n(a,t))return r}return n(e,t)}function n(n,o,a,r,i,s){return{restrict:"EA",replace:!0,link:function(l,c){n.d3().then(function(n){function d(){return i.get("data/network-data.json").then(function(e){l.sourceJson=e.data,s(function(){l.$apply(function(){l.setNetworkData(l.sourceJson)})})})}function u(e){r.go("app.domains.domain.env.network.node",{depth:e.depth,node:e.name})}l.highlightNode=function(e,n,o){var a=t(e,n);a._highlight=o},l.render=function(r){function i(o){function r(e){e.x=e.y=0,e.dx=p,e.dy=h,e.depth=0}function i(e){var t=Math.sqrt(e);return t-Math.floor(t)==0}function c(e){return Math.pow(Math.floor(Math.sqrt(e))+1,2)}function d(e,t){for(var n=0;t>n;n++)e.push({name:"ztest-0",type:"__placeholder__"})}function m(e){var t=e.children?e.children.length:0;if(t){if(!i(t)){var n=c(t);d(e.children,n-t)}e.children.forEach(m)}}function y(e){if(e.children){var t=n.max(e.children,function(e){return e.children?e.children.length:0});e.children.forEach(function(e){e.children&&e.children.length<t&&d(e.children,t-e.children.length)}),e.children.forEach(y)}}function $(e){e._children=e.children,e.amount=1,e._children&&e._children.forEach($)}function S(e){function t(e){e.depth=n,e._children&&(b.nodes({_children:e._children}),n++,e._children.forEach(function(n){n.x=e.x+n.x*e.dx,n.y=e.y+n.y*e.dy,n.dx*=e.dx,n.dy*=e.dy;var o=.75;n.x+=n.dx*(1-o)/2,n.y+=n.dy*(1-o)/2,n.dx*=o,n.dy*=o,n.parent=e,t(n)}),n--)}var n=0;return t(e)}function D(n,r){function i(e){if(!s&&e){s=!0,p=k.select(".depth");var t=D(e),n=p.transition().duration(750),o=t.transition().duration(750);v.domain([e.x,e.x+e.dx]),g.domain([e.y,e.y+e.dy]),k.style("shape-rendering",null),k.selectAll(".depth").sort(function(e,t){return e.depth-t.depth}),n.selectAll(".parent-text").call(q).style("fill-opacity",0),o.selectAll(".parent-text").call(q).style("fill-opacity",1),n.selectAll(".child-text").call(q).style("fill-opacity",0),o.selectAll(".child-text").call(x).style("fill-opacity",1),n.selectAll("rect").call(A),o.selectAll("rect").call(A),n.selectAll(".child-header").call(I),o.selectAll(".child-header").call(I),n.remove().each("end",function(){k.style("shape-rendering","crispEdges"),s=!1}),u(e)}}function c(e){return"__placeholder__"==e.type}function d(e){return!c(e)}l.highlightNode(o,"sg-appserver","error");var m=C.selectAll("li").data(E(n));w.datum(n).text(function(e){return e.name}),m.enter().append("li").append("a").text(function(e){return e.name}).on("click",i),m.exit().remove("li");var p=k.insert("g",":first-child").datum(n).attr("class","depth"),h=p.selectAll("g").data((n._children||[n]).filter(d)).enter().append("g");if(h.filter(function(e){return e._children}).classed("children",!0),h.append("rect").attr("class","parent").call(A).on("click",i).classed("highlight-error",function(e){return"error"==t(o,e.name)._highlight}).append("title").text(function(e){return f(e.value)}),h.selectAll(".child").data(function(e){return(e._children||[e]).filter(d)}).enter().append("rect").attr("class","child").call(A).on("click",i),h.selectAll(".child-header").append("rect").data(function(e){return(e._children||[e]).filter(d)}).enter().append("rect").attr("class","child-header").call(I).on("click",i),h.selectAll(".child-text").data(function(e){return(e._children||[e]).filter(d)}).enter().append("text").classed("child-text",!0).text(function(e){return e.name}).call(x),h.filter(function(e){return e._children}).append("text").text(function(e){return e.name}).classed("parent-text",!0).call(q),r){var b=e(o,a.node,a.depth);b!==n&&i(b)}return h}function x(e){e.attr("x",function(e){return v(e.x)+6}).attr("y",function(e){return g(e.y)+16})}function q(e){e.attr("x",function(e){return v(e.x)+6}).attr("y",function(e){return g(e.y)-6})}function I(e){e.attr("x",function(e){return v(e.x)+.5}).attr("y",function(e){return g(e.y)+.5}).attr("width",function(e){return v(e.x+e.dx)-v(e.x)-1}).attr("height",20).attr("rx","2px")}function A(e){e.attr("x",function(e){return v(e.x)}).attr("y",function(e){return g(e.y)}).attr("width",function(e){return v(e.x+e.dx)-v(e.x)}).attr("height",function(e){return g(e.y+e.dy)-g(e.y)}).attr("rx","3px")}function E(e){for(var t=[];;){if(t.push(e),!e.parent)break;e=e.parent}return t.reverse(),t}r(o),m(o),y(o),$(o),S(o),D(o,!0)}var s,m={top:20,right:0,bottom:0,left:0},p=c.width(),h=o.innerHeight-m.top-m.bottom-120-45,f=n.format(",d"),v=n.scale.linear().domain([0,p]).range([0,p]),g=n.scale.linear().domain([0,h]).range([0,h]),b=n.layout.treemap().children(function(e,t){return t?null:e._children}).sort(function(e,t){return-e.name.localeCompare(t.name)}).ratio(1).round(!1).value(function(e){return e.amount}),y=n.select(c[0]),k=y.append("svg").attr("width",p+m.left+m.right).attr("height",h+m.bottom+m.top).style("margin-left",-m.left+"px").style("margin-right",-m.right+"px").classed("network-svg",!0).append("g").attr("transform","translate("+m.left+","+m.top+")").style("shape-rendering","crispEdges"),w=y.insert("h4",":first-child").attr("class","network-current-node"),C=y.insert("ul",":first-child").attr("class","grandparent breadcrumb");l.sourceJson?i(l.sourceJson):d().then(function(){i(l.sourceJson)})},l.render()})}}}angular.module("qorDash.widget.network").directive("qlNetwork",n);n.$inject=["d3","$window","$stateParams","$state","$http","$timeout"]}(),function(){"use strict";angular.module("qorDash.widget.events",["relativeDate","ui.bootstrap"])}(),function(){"use strict";function e(e,t){var n=function(e){e.height(e.parent().parent().parent().height())};return{link:function(o,a){e(function(){n(a),o.onresize=function(){n(a)},angular.element(t).bind("resize",function(){o.onresize()})})}}}e.$inject=["$timeout","$window"];var t=angular.createAuthorizedController("EventsController",["$scope","$rootScope","$timeout",function(e,t,n){e.events=[];var o=function(e){a(e.data);var t=angular.element("#events").parents(".qor-sheet-content")[0];t.scrollTop=t.scrollHeight},a=function(t){e.$apply(function(){e.events.push(JSON.parse(t))})},r=function(e){var t=document.createElement("a");return t.href=e,"ws:"==t.protocol||"wss:"==t.protocol},i=function(e){var t;try{r(e)?(t=new WebSocket(e),t.onmessage=o):(t=new EventSource(e),t.addEventListener("Event",o))}catch(n){return null}return t};e._socketObject=i(e.wsUrl),t.$on("events:newWsUrl",function(t,o){e._socketObject&&e._socketObject.close(),n(function(){e.$apply(function(){e.events=[],e.allMessages={}})}),e._socketObject=i(o)}),e.$on("$destroy",function(){e._socketObject&&e._socketObject.close()})}]);angular.module("qorDash.widget.events").directive("qlEvents",e).controller(t)}(),function(){"use strict";angular.module("qorDash.widget.domain_stat",["ui.bootstrap"])}(),function(){"use strict";var e=angular.module("qorDash.widget.domain_stat"),t=angular.createAuthorizedController("DomainStatController",["$scope","$rootScope","$filter",function(e,t,n){var o={services:{nginx:{containers:1,cpu:4,memory:"4gb",disk:"10gb",image:"blinker/nginx:95",config:"production/v1.1",git_commit:"023dfe82a",last_update:1435565762},blinker:{containers:40,cpu:160,memory:"400gb",disk:"1000gb",image:"blinker/blinker:prod",config:"production/v1.0",git_commit:"23dfe878a",last_update:1435565762},sidekiq:{containers:20,cpu:80,memory:"200gb",disk:"500gb",image:"blinker/blinker:prod",config:"production/v1.0",git_commit:"23dfe878a",last_update:1435565762},clockwork:{containers:10,cpu:40,memory:"100gb",disk:"250gb",image:"blinker/blinker:prod",config:"production/v1.0",git_commit:"23dfe878a",last_update:1435565762},postgres:{containers:5,host:1,cpu:16,memory:"32gb",disk:"1000gb",version:"postgres 9.4",config:"",git_commit:"",last_update:1435565762},redis:{containers:1,cpu:8,memory:"100gb",disk:"250gb",image:"blinker/redis-2.8",config:"production/v1.0",git_commit:"",last_update:1435565762},memcached:{containers:4,cpu:16,memory:"400gb",disk:"250gb",image:"blinker/memcached",config:"production/v1.0",git_commit:"",last_update:1435565762}},infrastructure:{network:{vpc:1,availability_zones:3,subnets:6,security_groups:5},resources:{hosts:25,volumes:20,ip_addresses:10,load_balancers:2},containers:{all_time:7897,running:578,stopped:20,failed:4},process:{deployments:45,rollbacks:3,warnings:23,errors:4}}},a=function(t){var n=t;e.network=n.infrastructure.network,e.resources=n.infrastructure.resources,e.containers=n.infrastructure.containers,e.process=n.infrastructure.process,e.services=[];for(var o in t.services)t.services[o].name=o,e.services.push(t.services[o])};a(o),e.getRandomCardColor=function(){var e=["purple","yellow","green","blue"];return e[Math.floor(4*Math.random())]},e.putVarOrSpace=function(e){return e?e:"<br>"},e.applyFilter=function(e,t,o){return n(t)(e,o)}}]);e.controller(t)}(),function(){"use strict";angular.module("qorDash.widget.domain_details",["ui.bootstrap"])}(),function(){"use strict";var e=angular.module("qorDash.widget.domain_details"),t=angular.createAuthorizedController("DomainDetailsController",["$scope","$rootScope","$compile","$state",function(){}]);e.controller(t)}(),function(){"use strict";angular.module("qorDash.widget.container",[])}(),function(){"use strict";function e(e,t,n,o,a){return{restrict:"EA",link:function(o,r){function i(e){switch(e){case"hosts":return"data/container-h.json";case"services":return"data/container-s.json";default:return"data/container-az.json"}}function s(){return a.get(o.sourceJsonLink).then(function(e){o.sourceJson=e.data,$("#select-prop").text("");for(var t in e.data.selectors)$("#select-prop").append('<option value="'+e.data.selectors[t]+'">By '+e.data.selectors[t]+"</option>")})}o.$on("$destroy",function(){o.sourceJson=""}),e.d3().then(function(e){o.sourceJsonLink=i($("#select-type option:selected").val()),s(),o.heightMargin=65,o.widthMargin=10,o.$watch(function(){return angular.element(t)[0].innerWidth},function(){o.render(o.data)}),o.colors=[7964363,7964363,8421504,16498733,16777215,11776947],o.render=function(){function t(){u=d=o.sourceJson;var t=g.nodes(d).filter(function(e){return!e.children}),s=b.selectAll("g").data(t).enter().append("svg:g").attr("class","cell").attr("transform",function(e){return"translate("+e.x+","+e.y+")"}).on("click",function(e){return c(u==e.parent?d:e.parent)});s.append("svg:rect").attr("width",function(e){return e.dx-1<0?0:e.dx-1}).attr("height",function(e){return e.dy-1<0?0:e.dy-1}).style("fill",function(e){return v(e.parent.name)}),s.append("svg:text").attr("x",function(e){return e.dx/2}).attr("y",function(e){return e.dy/2}).attr("dy",".35em").attr("text-anchor","middle").style("fill","white").text(function(e){return e.name}).style("opacity",function(e){return e.w=this.getComputedTextLength(),e.dx>e.w?1:0}),e.select(window).on("click",function(){c(d)}),e.select("#select-type").on("change",function(){var t=e.select(this).property("value");o.sourceJsonLink=i(t),o.sourceJson=null,r.text(""),o.render(),c(u)}),e.select("#select-prop").on("change",function(){var t=e.select(this).property("value");switch(t){case"cpu":g.value(n).nodes(d);break;case"memory":g.value(a).nodes(d);break;case"disk":g.value(l).nodes(d)}c(u)})}function n(e){return e.cpu}function a(e){return e.memory}function l(e){return e.disk?e.disk:void 0}function c(t){var n=m/t.dx,o=p/t.dy;h.domain([t.x,t.x+t.dx]),f.domain([t.y,t.y+t.dy]);var a=b.selectAll("g.cell").transition().duration(e.event.altKey?7500:750).attr("transform",function(e){return"translate("+h(e.x)+","+f(e.y)+")"});a.select("rect").attr("width",function(e){return n*e.dx-1<0?0:n*e.dx-1}).attr("height",function(e){return o*e.dy-1<0?0:o*e.dy-1}),a.select("text").attr("x",function(e){return n*e.dx/2}).attr("y",function(e){return o*e.dy/2}).style("opacity",function(e){return n*e.dx>e.w?1:0}),u=t,e.event.stopPropagation()}console.log("call");var d,u,m=r.parent().width()-o.widthMargin,p=r.parent().parent().height()-o.heightMargin,h=e.scale.linear().range([0,m]),f=e.scale.linear().range([0,p]),v=e.scale.ordinal().range(["#7986CB","#808080","#FBC02D","#3F497F","#B3B3B3","#FFFFFF"]);0>m&&(m=0),0>p&&(p=0),o.width=r.parent().width(),o.height=p;var g=e.layout.treemap().round(!1).size([m,p]).sticky(!0).value(function(e){return e.cpu}),b=e.select(r[0]).append("div").attr("class","chart").style("width",m+"px").style("height",p+"px").append("svg:svg").attr("width",m).attr("height",p).append("svg:g").attr("transform","translate(.5,.5)");o.sourceJson?t():s().then(function(){t()})}}).then(function(){var e=function(){jQuery(r).animate({opacity:0,duration:30},function(){r.text(""),o.render(),jQuery(r).animate({opacity:1,duration:30})})};n(function(){r.parent().parent().height()-o.heightMargin!=o.height&&0!=r.height()&&0!=r.width&&e()},600)})}}}angular.module("qorDash.widget.container").directive("qlContainer",e);e.$inject=["d3","$window","$interval","$state","$http"]}(),function(){"use strict";var e=angular.createAuthorizedController("OrchestrateController",["$scope","$state","$stateParams","errorHandler","domainsLoader",function(e,t,n,o,a){a.load().then(function(o){e.domains=o.data,1===e.domains.length&&"app.orchestrate"==t.current.name&&t.go("app.orchestrate.domain",{id:e.domains[0].id}),e.domain=e.domains.filter(function(e){return e.id==n.id})[0]},function(t){e.error=o.showError(t)})}]);angular.module("qorDash.orchestrate").controller(e)}(),function(){"use strict";function e(e,t){e.state("app.manage",{url:"/manage",views:{"main@":{templateUrl:"app/modules/manage/manage.html",controller:"ManageController"}},authenticate:!0}),t.config("manage",{title:"Manage",nav:7,content:'<span ui-sref="app.manage" qor-sidebar-group-heading="Manage" data-icon-class="fa fa-edit"></span>'})}var t=angular.module("qorDash.manage",["ui.router","qorDash.manage.accounts","qorDash.manage.settings","qorDash.manage.accounts.account"]);t.config(e),e.$inject=["$stateProvider","$qorSidebarProvider"]}(),function(){"use strict";function e(e){return e.load()}var t=angular.createAuthorizedController("ManageController",["$scope",function(){}]);e.$inject=["manageLoader"],angular.module("qorDash.manage").controller(t).factory("currentUser",e)}(),function(){"use strict";var e=angular.createAuthorizedController("DomainsController",["$scope","$state","$stateParams","errorHandler","domainsLoader",function(e,t,n,o,a){a.load().then(function(n){e.domains=n.data,1===e.domains.length&&"app.domains"==t.current.name&&t.go("app.domains.domain",{id:e.domains[0].id})},function(t){e.error=o.showError(t)})}]);angular.module("qorDash.domains").controller(e)}(),function(){"use strict";var e=angular.createAuthorizedController("DockerController",["$state","resolvedDomains",function(e,t){var n=this;n.domains=t,1===n.domains.length&&"app.docker.domains"==e.current.name&&e.go(".domain",{domain:n.domains[0].id})}]);angular.module("qorDash.docker").controller(e)}(),function(){"use strict";function e(e){e.state("app.deployment",{url:"/deployment",templateUrl:"app/modules/deployment/deployment.html",controller:"DeploymentController",authenticate:!0})}var t=angular.module("qorDash.deployment",["ui.router","ui.layout","qorDash.widget","qorDash.widget.terminal","qorDash.widget.timeline"]);
t.config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";var e=angular.createAuthorizedController("DeploymentController",["$scope","$rootScope","$location","WS_URL",function(e,t,n,o){e.wsTimelineUrl=o+"/v1/ws/run/timeline1"}]);angular.module("qorDash.deployment").controller(e)}(),function(){"use strict";function e(e,t){e.state("app.dashboard",{url:"/dashboard",views:{"main@":{templateUrl:"app/modules/dashboard/dashboard.html",controller:"DashboardController"}},authenticate:!0}),t.config("dashboard",{title:"Dashboard",nav:1,content:'<span ui-sref="app.dashboard" qor-sidebar-group-heading="Events" data-icon-class="fa fa-newspaper-o"></span>'})}var t=angular.module("qorDash.dashboard",["ui.router","ui.layout","qorDash.widget","qorDash.widget.terminal","qorDash.widget.timeline","qorDash.widget.events"]);t.config(e),e.$inject=["$stateProvider","$qorSidebarProvider"]}(),function(){"use strict";var e=angular.createAuthorizedController("DashboardController",["$scope","$rootScope","$location","API_URL",function(e,t,n,o){e.eventsWsUrl=o+"/v1/test/events"}]);angular.module("qorDash.dashboard").controller(e)}(),function(){"use strict";function e(e,t){function n(){return t.get("data/permissions.json").then(function(e){return e.data})}function o(){if(!e.localStorage[this.permissionsJsonKey])throw new Error("No global permissions loaded. Ensure that dataLoader.loadGlobalPermission has been called first");return JSON.parse(e.localStorage[this.permissionsJsonKey])}function a(){return this.loadGlobalPermissions()}return this.permissionsJsonKey="permissions_json",{loadGlobalPermissions:n,getGlobalPermissions:o,init:a,permissionsJsonKey:"permissions_json"}}angular.module("qorDash.core").service("dataLoader",e),e.$inject=["$window","$http"]}(),function(){"use strict";function e(e,t,n){function o(){n.toggleSidebar()}var a=this;a.title=e.appTitle,a.toggleSidebar=o,t.app=e}function t(e){e.loadGlobalPermissions()}function n(){var e=this;e.messages={};var t=e.messages.hasOwnProperty;return{subscribe:function(n,o){t.call(e.messages,n)||(e.messages[n]=[]);var a=e.messages[n].push(o)-1;return{remove:function(){delete e.messages[n][a]}}},publish:function(n,o){t.call(e.messages,n)&&e.messages[n].forEach(function(e){e(o?info:{})})}}}function o(e,t,n){var o=this;o.permissionsJsonKey="permissions_json",o.loadGlobalPermissions=function(){return t.get("data/permissions.json").then(function(t){return e.localStorage[o.permissionsJsonKey]=JSON.stringify(t.data),t.data})},o.loadPageSections=function(n){var o=[];return t.get("data/sections-"+n+".json").then(function(t){return e.localStorage["sections_"+n]=JSON.stringify(t.data),t.data},function(){return e.localStorage["sections_"+n]=JSON.stringify(o),o})},o.getGlobalPermissions=function(){if(!e.localStorage[o.permissionsJsonKey])throw new Error("No global permissions loaded. Ensure that dataLoader.loadGlobalPermission has been called first");return JSON.parse(e.localStorage[o.permissionsJsonKey])},o.getPageSections=function(t){return e.localStorage["sections_"+t]?n(function(n){n(JSON.parse(e.localStorage["sections_"+t]))}):o.loadPageSections(t)},o.init=function(){return o.loadGlobalPermissions().then(function(){})}}function a(e,t,n){function o(){function t(){n.$apply(function(){a.resolve(window.d3)})}var o=e[0].createElement("script");o.type="text/javascript",o.async=!0,o.src="https://cdn.rawgit.com/Neilos/bihisankey/master/bihisankey.js",o.onreadystatechange=function(){"complete"==this.readyState&&t()},o.onload=t;var r=e[0].getElementsByTagName("body")[0];r.appendChild(o)}var a=t.defer(),r=e[0].createElement("script");r.type="text/javascript",r.async=!0,r.src="http://d3js.org/d3.v3.min.js",r.onreadystatechange=function(){"complete"==this.readyState&&o()},r.onload=o;var i=e[0].getElementsByTagName("body")[0];return i.appendChild(r),{d3:function(){return a.promise}}}function r(e){return e.jQuery}function i(e){return{showError:function(t){var n=t?t.data?t.data.error:"unknown server error":"unknown error";return e.error("Can't load data: "+n),n}}}angular.module("qorDash.core").controller("App",e).service("dataLoader",o).run(t).factory("d3",a).factory("jQuery",r).factory("pubSub",n).factory("errorHandler",i),e.$inject=["config","$scope","$qorSidebar"],t.$inject=["dataLoader"],o.$inject=["$window","$http","$q"],a.$inject=["$document","$q","$rootScope"],r.$inject=["$window"],i.$inject=["Notification"]}(),function(){"use strict";var e=angular.module("qorDash.core"),t={name:"Infradash",title:"Infradash",version:"1.0.0",debug:!0,settings:{colors:{white:"#fff",black:"#000","gray-light":"#999","gray-lighter":"#eee",gray:"#666","gray-dark":"#343434","gray-darker":"#222","gray-semi-light":"#777","gray-semi-lighter":"#ddd","brand-primary":"#5d8fc2","brand-success":"#64bd63","brand-warning":"#f0b518","brand-danger":"#dd5826","brand-info":"#5dc4bf"},screens:{"xs-max":767,"sm-min":768,"sm-max":991,"md-min":992,"md-max":1199,"lg-min":1200},navCollapseTimeout:2500},state:{"nav-static":!1}},n=function(){this._initResizeEvent(),this._initOnScreenSizeCallbacks()};n.prototype={_resizeCallbacks:[],_screenSizeCallbacks:{xs:{enter:[],exit:[]},sm:{enter:[],exit:[]},md:{enter:[],exit:[]},lg:{enter:[],exit:[]}},isScreen:function(e){var n=window.innerWidth;return(n>=t.settings.screens[e+"-min"]||"xs"==e)&&(n<=t.settings.screens[e+"-max"]||"lg"==e)},getScreenSize:function(){var e=window.innerWidth;return e<=t.settings.screens["xs-max"]?"xs":e>=t.settings.screens["sm-min"]&&e<=t.settings.screens["sm-max"]?"sm":e>=t.settings.screens["md-min"]&&e<=t.settings.screens["md-max"]?"md":e>=t.settings.screens["lg-min"]?"lg":void 0},onScreenSize:function(e,t,n){n="undefined"!=typeof n?n:!0,this._screenSizeCallbacks[e][n?"enter":"exit"].push(t)},changeColor:function(e,t,n){var o=function(e,t){var n="0";for(e+="";e.length<t;)e=n+e;return e};e=e.replace(/^\s*|\s*$/,""),e=e.replace(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i,"#$1$1$2$2$3$3");var a=Math.round(256*t)*(n?-1:1),r=e.match(new RegExp("^rgba?\\(\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])(?:\\s*,\\s*(0|1|0?\\.\\d+))?\\s*\\)$","i")),i=r&&null!=r[4]?r[4]:null,s=r?[r[1],r[2],r[3]]:e.replace(/^#?([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])/i,function(){return parseInt(arguments[1],16)+","+parseInt(arguments[2],16)+","+parseInt(arguments[3],16)}).split(/,/);return r?"rgb"+(null!==i?"a":"")+"("+Math[n?"max":"min"](parseInt(s[0],10)+a,n?0:255)+", "+Math[n?"max":"min"](parseInt(s[1],10)+a,n?0:255)+", "+Math[n?"max":"min"](parseInt(s[2],10)+a,n?0:255)+(null!==i?", "+i:"")+")":["#",o(Math[n?"max":"min"](parseInt(s[0],10)+a,n?0:255).toString(16),2),o(Math[n?"max":"min"](parseInt(s[1],10)+a,n?0:255).toString(16),2),o(Math[n?"max":"min"](parseInt(s[2],10)+a,n?0:255).toString(16),2)].join("")},lightenColor:function(e,t){return this.changeColor(e,t,!1)},darkenColor:function(e,t){return this.changeColor(e,t,!0)},max:function(e){return Math.max.apply(null,e)},min:function(e){return Math.min.apply(null,e)},_initResizeEvent:function(){var e;$(window).on("resize",function(){clearTimeout(e),e=setTimeout(function(){$(window).trigger("sn:resize")},100)})},_initOnScreenSizeCallbacks:function(){var e,t=this,n=this.getScreenSize();$(window).resize(function(){clearTimeout(e),e=setTimeout(function(){var e=t.getScreenSize();e!=n&&(t._screenSizeCallbacks[n].exit.forEach(function(t){t(e,n)}),t._screenSizeCallbacks[e].enter.forEach(function(t){t(e,n)}),console.log("screen changed. new: "+e+", old: "+n)),n=e},100)})}},t.helpers=new n,e.value("config",t)}(),function(){"use strict";function e(e,t){e.state("app.configurations",{url:"/configurations",views:{"main@":{templateUrl:"app/modules/configurations/configurations.html",controller:"ConfigurationsController"}},authenticate:!0}),t.config("configurations",{title:"Config",nav:5,content:'<span ui-sref="app.configurations" qor-sidebar-group-heading="Config" data-icon-class="fa fa-cogs"></span>'})}var t=angular.module("qorDash.configurations",["ui.router","qorDash.configurations.services","qorDash.configurations.services.state","qorDash.configurations.services.state.files","qorDash.configurations.services.state.files.files-view","qorDash.configurations.services.state.files.files-view.diff","qorDash.configurations.services.state.instances","qorDash.configurations.services.state.instances.editor","qorDash.configurations.services.state.packages","qorDash.configurations.services.state.packages.editor"]);t.config(e),e.$inject=["$stateProvider","$qorSidebarProvider"]}(),function(){"use strict";var e=angular.createAuthorizedController("ConfigurationsController",["$scope","$state","$stateParams","$timeout","errorHandler","domainsLoader",function(e,t,n,o,a,r){e.domainsPromise=r.load().then(function(o){e.domains=o.data,1===e.domains.length&&"app.configurations"==t.current.name&&t.go("app.configurations.services",{domain:e.domains[0].id}),e.domain=e.domains.filter(function(e){return e.id==n.id})[0]},function(t){e.error=a.showError(t)})}]);angular.module("qorDash.configurations").controller(e)}(),function(){"use strict";function e(e,t,n,o){function a(){var e=n.getParsedToken();return Boolean(e&&Math.round((new Date).getTime()/1e3)<=e.exp)}function r(){var e=n.getParsedToken();return e?e["passport/@scopes"].split(","):[]}function i(o,a){var r={method:"POST",url:t.get("AUTH_API_URL")+"/auth",headers:{"Content-Type":"application/json"},data:{username:o,password:a}};return e(r).then(function(e){e.data.token&&n.saveToken(e.data.token)})}function s(e){var t=this.getPermissions(),n=o.getGlobalPermissions(),a=n[e];return a?-1!=t.indexOf(a):!1}function l(){n.removeToken()}return{isAuthed:a,getPermissions:r,login:i,hasAccessTo:s,logout:l}}angular.module("qorDash.auth").service("user",e),e.$inject=["$http","$injector","auth","dataLoader"]}(),function(){"use strict";function e(e,t,n){function o(){s.isLoading=!0,t.login(s.userCredentials.login,s.userCredentials.password).then(a)["catch"](r)}function a(){e.go("app.dashboard")}function r(e){var t=e&&e.data&&e.data.error?e.data.error:"unknown";s.loginForm.$setValidity(t,!1),s.isLoading=!1}function i(){if(s.loginForm.$invalid&&s.loginForm.$submitted){s.loginForm.$setPristine(),s.loginForm.$setUntouched();for(var e in s.loginForm.$error)s.loginForm.$setValidity(e,!0)}}var s=this;return s.login=o,s.removeError=i,s.successCallback=a,s.isLoading=!1,s.ICON_URL=n,s.userCredentials={},t.isAuthed()?void e.go("app.dashboard"):void 0}angular.module("qorDash.auth").controller("LoginController",e),e.$inject=["$state","user","LOGIN_PAGE_ICON_URL"]}(),function(){"use strict";function e(e){function t(t){e.localStorage[r.tokenKey]=t}function n(){return e.localStorage[r.tokenKey]}function o(){e.localStorage.removeItem(r.tokenKey)}function a(){var t=n();if(!t)return!1;var o=t.split(".")[1],a=o.replace("-","+").replace("_","/");return JSON.parse(e.atob(a))}var r=this;return r.tokenKey="authToken",{saveToken:t,getToken:n,removeToken:o,getParsedToken:a}}angular.module("qorDash.auth").service("auth",e),e.$inject=["$window"]}(),function(){"use strict";function e(e){function t(t){var n=e.getToken();return n&&!t.headers.Authorization&&(t.headers.Authorization="Bearer "+n),t.headers.Accept="application/json",t}function n(e){return e}return{request:t,response:n}}angular.module("qorDash.auth").factory("authInterceptor",e),e.$inject=["auth"]}(),function(){"use strict";function e(e,t){e.state("app.compose",{url:"/compose",views:{"main@":{templateUrl:"app/modules/compose/compose.html",controller:"ComposeController"}},authenticate:!0}).state("app.compose.sub",{url:"/sub",templateUrl:"app/modules/compose/compose-sub.html"}).state("app.compose.sub.sub",{url:"/sub",templateUrl:"app/modules/compose/compose-sub-sub.html"}).state("app.compose.sub.sub.sub",{url:"/sub",templateUrl:"app/modules/compose/compose-sub-sub-sub.html"}).state("app.compose.sub.sub.sub.sub",{url:"/sub",templateUrl:"app/modules/compose/compose-sub-sub-sub-sub.html"}),t.config("compose",{title:"Compose",nav:4,content:'<span ui-sref="app.compose" qor-sidebar-group-heading="compose" data-icon-class="fa fa-envelope"></span>'})}var t=angular.module("qorDash.compose",["ui.router"]);t.config(e),e.$inject=["$stateProvider","$qorSidebarProvider"]}(),function(){"use strict";var e=angular.createAuthorizedController("ComposeController",["$scope","$rootScope","$location",function(e){e.number=1,e.plus=function(){e.number++}}]);angular.module("qorDash.compose").controller(e)}(),function(){"use strict";function e(){var e=angular.injector(["ng"]),t=e.get("$http");return t.get("data/global-config.json").then(function(e){var t=e.data["auth-url"],o=e.data["api-url"],a=e.data["ws-url"],r=e.data["icon-url"],i=e.data["login-page-icon-url"],s=e.data.auth_api_user,l=e.data.auth_api_secret,c=e.data.google_client_id;n.constant("AUTH_API_URL",t),n.constant("API_URL",o),n.constant("WS_URL",a),n.constant("ICON_URL",r),n.constant("LOGIN_PAGE_ICON_URL",i),n.constant("AUTH_API_USER",s),n.constant("DOCKER_ENDPOINT",o+"/v1/dockerapi"),n.constant("AUTH_API_SECRET",l),n.constant("GOOGLE_CLIENT_ID",c)},function(){})}function t(){angular.element(document).ready(function(){angular.bootstrap(document,["qorDash"])})}var n=angular.module("qorDash",["ui.router","chart.js","qorDash.loaders","qorDash.core","qorDash.auth","qorDash.dashboard","qorDash.domains","qorDash.deployment","qorDash.compose","qorDash.configurations","qorDash.orchestrate","qorDash.manage","qorDash.docker"]).config(["$httpProvider",function(e){e.defaults.headers.post["Content-Type"]="application/json"}]);e().then(t)}(),angular.module("qorDash").run(["$templateCache",function(e){e.put("app/modules/compose/compose-sub-sub-sub-sub.html",'<section horizontal-ui-sheet=""><header horizontal-ui-sheet-header="" title="Compose sub test"></header><div horizontal-ui-sheet-content=""><p>Compose sub page to test nested navigation</p></div></section>'),e.put("app/modules/compose/compose-sub-sub-sub.html",'<section horizontal-ui-sheet=""><header horizontal-ui-sheet-header="" title="Compose sub test"></header><div horizontal-ui-sheet-content=""><p>Compose sub page to test nested navigation</p><a ui-sref="app.compose.sub.sub.sub.sub">Test nested navigation</a></div></section>'),e.put("app/modules/compose/compose-sub-sub.html",'<section horizontal-ui-sheet=""><header horizontal-ui-sheet-header="" title="Compose sub test"></header><div horizontal-ui-sheet-content=""><p>Compose sub page to test nested navigation</p><a ui-sref="app.compose.sub.sub.sub">Test nested navigation</a></div></section>'),e.put("app/modules/compose/compose-sub.html",'<section horizontal-ui-sheet=""><header horizontal-ui-sheet-header="" title="Compose sub test"></header><div horizontal-ui-sheet-content=""><p>Compose sub page to test nested navigation</p><a ui-sref="app.compose.sub.sub">Test nested navigation</a></div></section>'),e.put("app/modules/compose/compose.html",'<section horizontal-ui-sheet="" class="qor-sheet-full"><div horizontal-ui-sheet-content=""><h1 class="page-title">Compose</h1><a ui-sref="app.compose.sub">Test nested navigation</a></div></section>'),e.put("app/modules/auth/login.html",'<div class="container center-vertical"><main id="content" role="main"><div class="row"><div class="col-lg-4 col-sm-6 col-xs-10 col-lg-offset-4 col-sm-offset-3 col-xs-offset-1"><section class="widget widget-login animated fadeInUp"><header><img src="{{vm.ICON_URL}}" class="login-logo" width="250"></header><div class="widget-body"><form class="login-form mt-lg" name="vm.loginForm" ng-submit="vm.login()"><ng-messages for="vm.loginForm.$error" role="alert"><p ng-message="error-account-not-found" class="error-message">Account not found</p><p ng-message="error-bad-credentials" class="error-message">Bad credentials</p><p ng-message="unknown" class="error-message">Unknown server error</p></ng-messages><div class="form-group has-feedback" ng-class="{\'has-error\' : vm.loginForm.$invalid && vm.loginForm.$submitted}"><input type="text" class="form-control" name="username" ng-model="vm.userCredentials.login" ng-keyup="vm.removeError()" placeholder="Username" required="required"> <span class="glyphicon glyphicon-user form-control-feedback"></span></div><div class="form-group has-feedback small-margin" ng-class="{\'has-error\' : vm.loginForm.$invalid && vm.loginForm.$submitted}"><input type="password" class="form-control" name="password" ng-model="vm.userCredentials.password" ng-keyup="vm.removeError()" placeholder="Password" required="required"> <span class="glyphicon glyphicon-lock form-control-feedback"></span></div><div class="clearfix"><div class="login-toolbar pull-right"><button type="submit" class="btn btn-inverse btn-sm btn-login" ng-disabled="vm.isLoading"><span ng-hide="vm.isLoading">Log In</span> <span ng-show="vm.isLoading">Loading...</span></button> <a g-signin="" on-success="vm.successCallback" class="btn btn-block btn-social btn-google btn-default btn-sm btn-signup g-signin2"><i class="fa fa-google"></i>Sign in with Google</a></div></div><div class="row widget-login-footer"><div class="col-sm-6 col-sm-push-6"><div class="clearfix"><div class="checkbox widget-login-info pull-right ml-n-lg"><input type="checkbox" id="checkbox1" value="1"> <label for="checkbox1">Keep me signed in</label></div></div></div><div class="col-sm-6 col-sm-pull-6"><a class="mr-n-lg login-trouble" href="#">Trouble with account?</a></div></div></form></div><div class="login-page-footer text-center">2015 &copy; {{app.title}}</div></section></div></div></main></div>'),e.put("app/modules/configurations/configurations.html",'<section horizontal-ui-sheet="" class="qor-sheet-s"><header horizontal-ui-sheet-header="" title="Domain Class"></header><div horizontal-ui-sheet-content=""><div class="list-group text-left ng-scope"><a class="list-group-item" ng-repeat="domain in domains | orderBy:\'\'" ui-sref-active="active" ui-sref=".services({domain : domain.id})">{{domain.name}}</a></div><div id="env-loader" ng-hide="domains || error"><img src="assets/images/cube.gif"></div><div id="reload" ng-hide="!error"><a ui-sref="app.configurations" data-ui-sref-opts="{reload: true}"><i class="fa fa-refresh reload-button"></i></a></div></div></section>'),e.put("app/modules/core/app.html",'<div class="qor-app" qor-sidebar-container=""><header class="qor-header"><a class="qor-sidebar-toggle" ng-click="vm.toggleSidebar()"><i class="fa fa-bars"></i></a> <span class="qor-header-userinfo pull-right">{{vm.title}}</span></header><nav qor-sidebar=""></nav><main horizontal-ui-view="main" horizontal-scroll="" class="shuffle-animation" qor-content=""></main></div>'),e.put("app/modules/dashboard/dashboard.html",'<section horizontal-ui-sheet="" class="qor-sheet-full"><div horizontal-ui-sheet-content=""><div class="widget-container"><div ql-widget="Events" ws-url="eventsWsUrl"></div></div></div></section>'),e.put("app/modules/deployment/deployment.html",'<div class="widget-container"><div ql-widget="Timeline" ws-url="wsTimelineUrl"></div></div>'),e.put("app/modules/docker/docker.html",'<section horizontal-ui-sheet="" class="qor-sheet-s"><header horizontal-ui-sheet-header="" title="Docker"></header><div horizontal-ui-sheet-content=""><div class="list-group text-left ng-scope"><a class="list-group-item" ng-repeat="domain in vm.domains | orderBy:\'\'" ui-sref-active="active" ui-sref=".domain({domain : domain.id})">{{domain.name}}</a></div></div></section>'),e.put("app/modules/domains/domains-sidebar.html",'<div class="group-block"><a class="group-list-item" ui-sref-active="active" ng-repeat="domain in domains" ui-sref="app.domains({id: domain.id})"><i class="group-icon fa fa-mobile"></i> <span class="group-nav-heading">{{domain.name}}</span></a></div>'),e.put("app/modules/domains/domains.html",'<section horizontal-ui-sheet="" class="qor-sheet-s"><header horizontal-ui-sheet-header="" title="Domains"></header><div horizontal-ui-sheet-content=""><div class="list-group text-left ng-scope"><a class="list-group-item" ng-repeat="domain in domains | orderBy:\'\'" ui-sref-active="active" ui-sref="app.domains.domain({id : domain.id})">{{domain.name}}</a></div><div id="env-loader" ng-hide="domains || error"><img src="assets/images/cube.gif"></div><div id="reload" ng-hide="!error"><a ui-sref="app.domains" data-ui-sref-opts="{reload: true}"><i class="fa fa-refresh reload-button"></i></a></div></div></section>'),e.put("app/modules/manage/manage.html",'<section horizontal-ui-sheet="" class="qor-sheet-s"><header horizontal-ui-sheet-header="" title="Manage"></header><div horizontal-ui-sheet-content=""><div class="list-group text-left ng-scope"><a class="list-group-item" ui-sref-active="active" ui-sref="app.manage.accounts">Accounts</a> <a class="list-group-item" ui-sref-active="active" ui-sref="app.manage.settings">Settings</a></div></div></section>'),e.put("app/modules/orchestrate/orchestrate.html",'<section horizontal-ui-sheet="" class="qor-sheet-half"><header horizontal-ui-sheet-header="" title="Domains"></header><div horizontal-ui-sheet-content=""><div class="list-group text-left ng-scope"><a class="list-group-item" ng-repeat="domain in domains | orderBy:\'\'" ui-sref-active="active" ui-sref="app.orchestrate.domain({id : domain.id})">{{domain.name}}</a></div><div id="env-loader" ng-hide="domains || error"><img src="assets/images/cube.gif"></div><div id="reload" ng-hide="!error"><a ui-sref="app.orchestrate" data-ui-sref-opts="{reload: true}"><i class="fa fa-refresh reload-button"></i></a></div></div></section>'),e.put("app/widgets/container/container.html",'<div class="container-select"><select id="select-type"><option value="hosts">By Hosts</option><option value="services">By Services</option><option value="az">By AZ</option></select></div><div class="container-select"><select id="select-prop"></select></div><ql-container class="container-view"></ql-container>'),e.put("app/widgets/domain_details/domain_details.html",'<div class="well" ng-if="node.logs"><div class="btn-group" dropdown="" dropdown-append-to-body=""><button type="button" class="btn btn-primary dropdown-toggle" dropdown-toggle="">Logs <span class="caret"></span></button><ul class="dropdown-menu" role="menu"><li ng-repeat="log in node.logs"><a ui-sref="app.domains.domain.env.network.node.logs">{{log}}</a></li></ul></div></div>'),e.put("app/widgets/domain_stat/domain_stat.html",'<div ng-controller="DomainStatController"><div class="row domain-stat domain-stat-details"><div class="col-md-4 col-sm-6" ng-repeat="service in services"><section class="widget widget-stat-details purple"><div class="widget-caption purple">{{service.name}}</div><div class="row"><div class="col-md-3 widget-stat-little-block no-left-border"><h3>{{service.containers}}</h3><p class="text-muted">container</p></div><div class="col-md-3 widget-stat-little-block"><h3>{{service.cpu}}</h3><p class="text-muted">cpu</p></div><div class="col-md-3 widget-stat-little-block"><h3>{{service.memory}}</h3><p class="text-muted">memory</p></div><div class="col-md-3 widget-stat-little-block"><h3>{{service.disk}}</h3><p class="text-muted">disk</p></div></div><div class="row widget-stat-other-details"><div class="col-md-3 right-text"><p class="text-muted">image</p><p class="text-muted">config</p><p class="text-muted">git_commit</p><p class="text-muted">last_update</p></div><div class="col-md-9"><p class="b" ng-bind-html="putVarOrSpace(service.image)"></p><p class="b" ng-bind-html="putVarOrSpace(service.config)"></p><p class="b" ng-bind-html="putVarOrSpace(service.git_commit)"></p><p class="b" ng-bind-html="putVarOrSpace(applyFilter(service.last_update * 1000, \'date\', \'yyyy-MM-dd HH:mm:ss\'))"></p></div></div></section></div></div></div>'),e.put("app/widgets/events/events.html",'<div id="events"><ul class="timeline" style="padding: 10px 0 0 0; margin-bottom: 0px;" ng-controller="EventsController"><li class="on-left" ng-repeat="event in events" id="{{::event.id | limitTo:7}}"><time class="event-time" datetime="{{::event.timestamp}}"><span class="date">{{::event.timestamp * 1000 | date: \'EEE\'}}</span> <span class="time">{{::event.timestamp * 1000 | date: \'shortTime\'}}</span></time><section class="event event-padding" ng-class="{\'fatal\' : event.status == \'fatal\', \'warning\' : event.status == \'warning\'}"><h4 class="event-heading"><a ng-click="showDetails(event)">{{event.title}}</a></h4><p class="fs-sm text-muted">{{::event.timestamp * 1000 | date:\'EEEE, MMMM d, y HH:mm:ss\'}}</p><p class="fs-mini">{{::event.description}}</p></section></li></ul></div>'),e.put("app/widgets/network/network.html",'<div ql-network="" class="network"></div>'),e.put("app/widgets/terminal/terminal.html",'<div id="terminal" ql-terminal="" ng-controller="TerminalController"></div>'),e.put("app/widgets/timeline/timeline.html",'<div id="timeline" ql-time-line=""><ul class="timeline" style="padding: 10px; margin-bottom: 0px;" ng-controller="TimelineController"><li class="on-left" ng-repeat="event in events" id="{{::event.id | limitTo:7}}"><time class="event-time" datetime="{{::event.timestamp}}"><span class="date">{{::event.timestamp * 1000 | date: \'EEE\'}}</span> <span class="time">{{::event.timestamp * 1000 | date: \'shortTime\'}}</span></time><section class="event"><h4 class="event-heading"><a ng-click="showDetails(event)">{{event.title}}</a></h4><p class="fs-sm text-muted">{{::event.timestamp * 1000 | date:\'EEEE, MMMM d, y HH:mm:ss\'}}</p><p class="fs-mini">{{::event.text}}</p><footer><ul class="post-links"><li><a href="#" data-original="{{::event.timestamp}}">{{::event.timestamp * 1000 | relativeDate }}</a></li><a class="details-link" style="visibility: hidden;" ng-click="showDetails(event)"><img src="assets/images/collapse-button.png" height="20px" width="20px"></a></ul><div collapse="event.isInfoCollapsed"><div class="terminal-wrapper mt-sm"><div></div></div></div></footer></section></li></ul></div>'),e.put("app/widgets/traffic/traffic.html",'<ql-traffic class="network" bar-height="20" bar-padding="5"></ql-traffic>'),e.put("app/modules/configurations/services/services.html",'<section horizontal-ui-sheet="" class="qor-sheet-s"><header horizontal-ui-sheet-header="" title="Services"></header><div horizontal-ui-sheet-content=""><div class="list-group text-left ng-scope"><a class="list-group-item" ng-repeat="service in services | orderBy:\'\'" ui-sref-active="active" ui-sref=".state({service: service})">{{service}}</a></div><div id="env-loader" ng-hide="services || error"><img src="assets/images/cube.gif"></div><div id="reload" ng-hide="!error"><a ui-sref="app.configurations.services" data-ui-sref-opts="{reload: true}"><i class="fa fa-refresh reload-button"></i></a></div></div></section>'),e.put("app/modules/core/nested-table/nested-table.html",'<table><tbody><tr data-ng-repeat="(key, value) in vm.data track by $index"><td class="white-bg" ng-if="!vm.isArray(vm.data)">{{key}} <i class="fa fa-angle-right"></i></td><td class="white-bg" ng-if="!vm.isObject(value)" editable-text="value" onbeforesave="vm.updateData(parentKey, $data)" buttons="no">{{value}}</td><td ng-if="vm.isObject(value)" colspan="100"><nested-table onchange="vm.onchange" parent-key="(parentKey + \'/\' + key)" data="value"></nested-table></td></tr><tr ng-if="vm.isArray(vm.data)"><td class="white-bg td-plus" ng-click="vm.addElementToArray(parentKey)">+</td></tr></tbody></table>'),e.put("app/modules/docker/container/container.html",'<section horizontal-ui-sheet="" class="qor-sheet-half"><header horizontal-ui-sheet-header="" title="{{vm.container.Name}}"></header><div horizontal-ui-sheet-content=""><div class="detail container-details"><div ng-if="!vm.container.edit" class="name"><h4>Container: {{ vm.container.Name }} <button class="btn btn-primary" ng-click="vm.container.edit = true;">Rename</button></h4></div><div ng-if="vm.container.edit" id="name-edit"><h4>Container: <input type="text" ng-model="vm.container.newContainerName"> <button class="btn btn-success" ng-click="vm.rename()">Save</button> <button class="btn btn-danger" ng-click="vm.container.edit = false;">&times;</button></h4></div><div class="btn-group detail" id="actions"><button class="btn btn-success" ng-click="vm.start()" ng-show="!vm.container.State.Running">Start</button> <button class="btn btn-warning" ng-click="vm.stop()" ng-show="vm.container.State.Running && !vm.container.State.Paused">Stop</button> <button class="btn btn-danger" ng-click="kill()" ng-show="vm.container.State.Running && !vm.container.State.Paused">Kill</button> <button class="btn btn-info" ng-click="vm.pause()" ng-show="vm.container.State.Running && !vm.container.State.Paused">Pause</button> <button class="btn btn-success" ng-click="vm.unpause()" ng-show="vm.container.State.Running && vm.container.State.Paused">Unpause</button> <button class="btn btn-success" ng-click="vm.restart()" ng-show="vm.container.State.Running && !vm.container.State.Stopped">Restart</button> <button class="btn btn-primary" ng-click="vm.commit()" ng-show="vm.container.State.Running && !vm.container.State.Paused">Commit</button></div><table class="table"><tbody><tr><td>Created:</td><td>{{ vm.container.Created }}</td></tr><tr><td>Path:</td><td>{{ vm.container.Path }}</td></tr><tr><td>Args:</td><td>{{ vm.container.Args }}</td></tr><tr><td>Exposed Ports:</td><td><ul style="display: inline-table"><li ng-repeat="(k, v) in vm.container.Config.ExposedPorts">{{ k }}</li></ul></td></tr><tr><td>Environment:</td><td><ul style="display: inline-table"><li ng-repeat="k in vm.container.Config.Env">{{ k }}</li></ul></td></tr><tr><td>Publish All:</td><td>{{ vm.container.HostConfig.PublishAllPorts }}</td></tr><tr><td>Ports:</td><td><ul style="display:inline-table"><li ng-repeat="(containerport, hostports) in vm.container.HostConfig.PortBindings">{{ containerport }} => <span class="label label-default" ng-repeat="(k,v) in hostports">{{ v.HostIp }}:{{ v.HostPort }}</span></li></ul></td></tr><tr><td>Hostname:</td><td>{{ vm.container.Config.Hostname }}</td></tr><tr><td>IPAddress:</td><td>{{ vm.container.NetworkSettings.IPAddress }}</td></tr><tr><td>Cmd:</td><td>{{ vm.container.Config.Cmd }}</td></tr><tr><td>Entrypoint:</td><td>{{ vm.container.Config.Entrypoint }}</td></tr><tr><td>Volumes:</td><td>{{ vm.container.Volumes }}</td></tr><tr><td>SysInitpath:</td><td>{{ vm.container.SysInitPath }}</td></tr><tr><td>Image:</td><td><a ui-sref="^.^.images.image({imageId: vm.container.Image})">{{ vm.container.Image }}</a></td></tr><tr><td>State:</td><td><span class="label {{ vm.container.State|getstatelabel }}">{{ vm.container.State|getstatetext }}</span></td></tr><tr><td>Logs:</td><td><a ui-sref=".logs">stdout/stderr</a></td></tr><tr><td>Stats:</td><td><a ui-sref=".stats">stats</a></td></tr><tr><td>Top:</td><td><a ui-sref=".top">Top</a></td></tr></tbody></table><div class="changes-container"><div>Changes: <i class="icon-refresh" style="width:32px;height:32px;" ng-click="vm.getChanges()"></i></div><div><ul><li ng-repeat="change in vm.changes | filter:vm.hasContent"><strong>{{ change.Path }}</strong> {{ change.Kind }}</li></ul></div></div><button class="btn btn-remove-container" ng-click="vm.remove()">Remove Container</button></div></div></section>'),e.put("app/modules/docker/container.logs/logs.html",'<section horizontal-ui-sheet="" class="qor-sheet-half"><header horizontal-ui-sheet-header="" title="Logs"></header><div horizontal-ui-sheet-content=""><div class="logs"><div class="docker-logs-left"><h4 class="display-inline">Logs for container: <a ui-sref="^.^.container({containerId: vm.container.Id})">{{ vm.container.Name }}</a></h4><div class="btn-group detail log-btns"><button class="btn btn-info" ng-click="vm.scrollTo(\'stdout\')">vm.stdout</button> <button class="btn btn-primary" ng-click="vm.scrollTo(\'stderr\')">vm.stderr</button></div></div><div class="reload-logs pull-right"><div><a class="btn btn-warning" ng-click="vm.toggleTail()" role="button">Reload logs</a> <input id="tailLines" type="number" ng-model="vm.tailLines" ng-keypress="($event.which === 13)? vm.toggleTail() : 0"> <label for="tailLines">lines</label> <input class="new-checkbox bordered" id="timestampToggle" ng-model="vm.showTimestamps" ng-change="vm.toggleTimestamps()" type="checkbox"><label for="timestampToggle"></label>Timestamp</div></div><div class="col-xs-12"><div class="panel panel-default logs-panel"><div class="panel-heading"><h3 id="stdout" class="panel-title">STDOUT</h3></div><div class="panel-body"><pre class="pre-scrollable pre-x-scrollable">{{vm.stdout}}</pre></div></div></div><div class="col-xs-12"><div class="panel panel-default logs-panel"><div class="panel-heading"><h3 id="stderr" class="panel-title">STDERR</h3></div><div class="panel-body"><pre class="pre-scrollable pre-x-scrollable">{{vm.stderr}}</pre></div></div></div></div></div></section>'),e.put("app/modules/docker/container.stats/stats.html",'<section horizontal-ui-sheet="" class="qor-sheet-half"><header horizontal-ui-sheet-header="" title="Stats"></header><div horizontal-ui-sheet-content=""><div class="row"><div class="col-xs-12"><h2>CPU</h2><div class="row"><div class="col-sm-7"><canvas class="chart chart-line" chart-colours="vm.cpuStyles" chart-options="vm.chartOtions" chart-data="vm.cpuData" chart-labels="vm.cpuLabels"></canvas></div></div><h2>Memory</h2><div class="row"><div class="col-sm-7"><canvas class="chart chart-line" chart-colours="vm.memoryStyles" chart-options="vm.memoryChartOptions" chart-data="vm.memoryData" chart-labels="vm.memoryLabels"></canvas></div><div class="col-sm-offset-1 col-sm-4"><table class="table"><tr><td>Max usage</td><td>{{ (vm.data.memory_stats.max_usage || 0) | humansize }}</td></tr><tr><td>Limit</td><td>{{ (vm.data.memory_stats.limit || 0) | humansize }}</td></tr><tr><td>Fail count</td><td>{{ vm.data.memory_stats.failcnt }}</td></tr></table><accordion><accordion-group heading="Other stats"><table class="table"><tr ng-repeat="(key, value) in vm.data.memory_stats.stats"><td>{{ key }}</td><td>{{ value }}</td></tr></table></accordion-group></accordion></div></div><h1>Network</h1><div class="row"><div class="col-sm-7"><canvas class="chart chart-line" chart-legend="true" chart-series="vm.networkLegendData" chart-colours="vm.networkStyles" chart-options="vm.networkChartOptions" chart-data="vm.networkData" chart-labels="vm.networkLabels"></canvas></div><div class="col-sm-offset-1 col-sm-4"><accordion><accordion-group heading="Other stats"><table class="table"><tr ng-repeat="(key, value) in vm.data.network"><td>{{ key }}</td><td>{{ value }}</td></tr></table></accordion-group></accordion></div></div></div></div></div></section>'),e.put("app/modules/docker/container.top/top.html",'<section horizontal-ui-sheet="" class="qor-sheet-half"><header horizontal-ui-sheet-header="" title="Top"></header><div horizontal-ui-sheet-content=""><div class="containerTop"><div class="form-group col-xs-2"><input type="text" class="form-control" placeholder="[options] (aux)" ng-model="vm.ps_args"></div><button type="button" class="btn qor-btn-primary" ng-click="vm.getTop()">Submit</button><table class="table table-striped"><thead><tr><th ng-repeat="title in vm.containerTop.Titles">{{title}}</th></tr></thead><tbody><tr ng-repeat="processInfos in vm.containerTop.Processes"><td ng-repeat="processInfo in processInfos track by $index">{{processInfo}}</td></tr></tbody></table></div></div></section>'),e.put("app/modules/docker/containers/containers.html",'<section horizontal-ui-sheet="" class="qor-sheet-half"><header horizontal-ui-sheet-header="" title="Containers"></header><div horizontal-ui-sheet-content=""><h3 class="config-table-header">Containers</h3><div class="btn-group pull-left"><div dropdown="" dropdown-append-to-body="" class="dropdown"><button class="btn btn-default config-table-header-button" dropdown-toggle="" aria-haspopup="true" aria-expanded="false">Action<span class="fa fa-angle-down pull-right"></span></button><ul class="dropdown-menu"><li><a ng-click="vm.startAction()">Start</a></li><li><a ng-click="vm.stopAction()">Stop</a></li><li><a ng-click="vm.restartAction()">Restart</a></li><li><a ng-click="vm.killAction()">Kill</a></li><li><a ng-click="vm.pauseAction()">Pause</a></li><li><a ng-click="vm.unpauseAction()">Unpause</a></li><li><a ng-click="vm.removeAction()">Remove</a></li></ul></div></div><div class="text-right containers-form"><input class="new-checkbox bordered" type="checkbox" ng-model="vm.displayAll" id="displayAll" ng-change="vm.toggleGetAll()"><label for="displayAll"></label><p>Display All</p><input type="text" class="form-control" id="filter" placeholder="Filter" ng-model="vm.filter"> <label class="sr-only" for="filter">Filter</label></div><table class="table containers-table"><thead><tr><th><input class="new-checkbox bordered" id="header-checkbox" ng-model="vm.toggle" ng-change="vm.toggleSelectAll()" type="checkbox"><label for="header-checkbox"></label> ACTION</th><th>NAME</th><th>IMAGE</th><th>COMMAND</th><th>CREATED</th><th>STATUS</th></tr></thead><tbody><tr ng-repeat="container in vm.containers | filter:vm.filter | orderBy:vm.predicate"><td class="center-text"><input class="new-checkbox bordered" id="check-{{container.Id}}" ng-model="container.Checked" type="checkbox"><label for="check-{{container.Id}}"></label></td><td><a ui-sref=".container({containerId: container.Id})">{{ container|containername}}</a></td><td><a ui-sref="^.images.image({imageId: container.Image})">{{ container.Image }}</a></td><td>{{ container.Command|truncate:40 }}</td><td>{{ container.Created|getdate }}</td><td><span class="label label-{{ container.Status|statusbadge }}">{{ container.Status }}</span></td></tr></tbody></table></div></section>'),e.put("app/modules/docker/dockers/dockers.html",'<section horizontal-ui-sheet="" class="qor-sheet-s"><header horizontal-ui-sheet-header="" title="{{vm.instance}}"></header><div horizontal-ui-sheet-content=""><div class="list-group text-left ng-scope"><a class="list-group-item" ng-repeat="(host, docker) in vm.dockers | orderBy:\'\'" ui-sref-active="active" ui-sref=".menu({dockerId: host})">{{host}}</a></div></div></section>'),e.put("app/modules/docker/domain/domain.html",'<section horizontal-ui-sheet="" class="qor-sheet-s"><header horizontal-ui-sheet-header="" title="{{vm.domain.name}}"></header><div horizontal-ui-sheet-content=""><div class="list-group text-left ng-scope"><a class="list-group-item" ng-repeat="instance in vm.domain.instances | orderBy:\'\'" ui-sref-active="active" ui-sref=".dockers({instance : instance})">{{instance}}</a></div></div></section>'),e.put("app/modules/docker/image/create-modal.html",'<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h3>Create And Start Container From Image</h3></div><div class="modal-body"><form role="form"><accordion close-others="true"><accordion-group heading="Container options" is-open="menuStatus.containerOpen"><fieldset><div class="row"><div class="col-xs-6"><div class="form-group"><label>Cmd:</label> <input type="text" placeholder=\'["/bin/echo", "Hello world"]\' ng-model="config.Cmd" class="form-control"> <small>Input commands as a raw string or JSON array</small></div><div class="form-group"><label>Entrypoint:</label> <input type="text" ng-model="config.Entrypoint" class="form-control" placeholder="./entrypoint.sh"></div><div class="form-group"><label>Name:</label> <input type="text" ng-model="config.name" class="form-control"></div><div class="form-group"><label>Hostname:</label> <input type="text" ng-model="config.Hostname" class="form-control"></div><div class="form-group"><label>Domainname:</label> <input type="text" ng-model="config.Domainname" class="form-control"></div><div class="form-group"><label>User:</label> <input type="text" ng-model="config.User" class="form-control"></div><div class="form-group"><label>Memory:</label> <input type="number" ng-model="config.Memory" class="form-control"></div><div class="form-group"><label>Volumes:</label><div ng-repeat="volume in config.Volumes"><div class="form-group form-inline"><input type="text" ng-model="volume.name" class="form-control" placeholder="/var/data"> <button type="button" class="btn btn-danger btn-sm" ng-click="rmEntry(config.Volumes, volume)">x</button></div></div><button type="button" class="btn btn-success btn-sm" ng-click="addEntry(config.Volumes, {name: \'\'})">Add Volume</button></div></div><div class="col-xs-6"><div class="form-group"><label>MemorySwap:</label> <input type="number" ng-model="config.MemorySwap" class="form-control"></div><div class="form-group"><label>CpuShares:</label> <input type="number" ng-model="config.CpuShares" class="form-control"></div><div class="form-group"><label>Cpuset:</label> <input type="text" ng-model="config.Cpuset" class="form-control" placeholder="1,2"> <small>Input as comma-separated list of numbers</small></div><div class="form-group"><label>WorkingDir:</label> <input type="text" ng-model="config.WorkingDir" class="form-control" placeholder="/app"></div><div class="form-group"><label>MacAddress:</label> <input type="text" ng-model="config.MacAddress" class="form-control" placeholder="12:34:56:78:9a:bc"></div><div class="form-group"><label for="networkDisabled">NetworkDisabled:</label> <input class="new-checkbox bordered" id="networkDisabled" ng-model="config.NetworkDisabled" type="checkbox"><label for="networkDisabled"></label></div><div class="form-group"><label for="tty">Tty:</label> <input class="new-checkbox bordered" id="tty" ng-model="config.Tty" type="checkbox"><label for="tty"></label></div><div class="form-group"><label for="openStdin">OpenStdin:</label> <input class="new-checkbox bordered" id="openStdin" ng-model="config.OpenStdin" type="checkbox"><label for="openStdin"></label></div><div class="form-group"><label for="stdinOnce">StdinOnce:</label> <input class="new-checkbox bordered" id="stdinOnce" ng-model="config.StdinOnce" type="checkbox"><label for="stdinOnce"></label></div><div class="form-group"><label>SecurityOpts:</label><div ng-repeat="opt in config.SecurityOpts"><div class="form-group form-inline"><input type="text" ng-model="opt.name" class="form-control" placeholder="label:type:svirt_apache"> <button type="button" class="btn btn-danger btn-sm" ng-click="rmEntry(config.SecurityOpts, opt)">x</button></div></div><button type="button" class="btn btn-success btn-sm" ng-click="addEntry(config.SecurityOpts, {name: \'\'})">Add Option</button></div></div></div><hr><div class="form-group"><label>Env:</label><div ng-repeat="envar in config.Env"><div class="form-group form-inline"><div class="form-group"><label class="sr-only">Variable Name:</label> <input type="text" ng-model="envar.name" class="form-control" placeholder="NAME"></div><div class="form-group"><label class="sr-only">Variable Value:</label> <input type="text" ng-model="envar.value" class="form-control" placeholder="value"></div><div class="form-group"><button class="btn btn-danger btn-xs form-control" ng-click="rmEntry(config.Env, envar)">x</button></div></div></div><button type="button" class="btn btn-success btn-sm" ng-click="addEntry(config.Env, {name: \'\', value: \'\'})">Add environment variable</button></div></fieldset></accordion-group><accordion-group heading="HostConfig options" is-open="menuStatus.hostConfigOpen"><fieldset><div class="row"><div class="col-xs-6"><div class="form-group"><label>Binds:</label><div ng-repeat="bind in config.HostConfig.Binds"><div class="form-group form-inline"><input type="text" ng-model="bind.name" class="form-control" placeholder="/host:/container"> <button type="button" class="btn btn-danger btn-sm" ng-click="rmEntry(config.HostConfig.Binds, bind)">x</button></div></div><button type="button" class="btn btn-success btn-sm" ng-click="addEntry(config.HostConfig.Binds, {name: \'\'})">Add Bind</button></div><div class="form-group"><label>Links:</label><div ng-repeat="link in config.HostConfig.Links"><div class="form-group form-inline"><input type="text" ng-model="link.name" class="form-control" placeholder="web:db"> <button type="button" class="btn btn-danger btn-sm" ng-click="rmEntry(config.HostConfig.Links, link)">x</button></div></div><button type="button" class="btn btn-success btn-sm" ng-click="addEntry(config.HostConfig.Links, {name: \'\'})">Add Link</button></div><div class="form-group"><label>Dns:</label><div ng-repeat="entry in config.HostConfig.Dns"><div class="form-group form-inline"><input type="text" ng-model="entry.name" class="form-control" placeholder="8.8.8.8"> <button type="button" class="btn btn-danger btn-sm" ng-click="rmEntry(config.HostConfig.Dns, entry)">x</button></div></div><button type="button" class="btn btn-success btn-sm" ng-click="addEntry(config.HostConfig.Dns, {name: \'\'})">Add entry</button></div><div class="form-group"><label>DnsSearch:</label><div ng-repeat="entry in config.HostConfig.DnsSearch"><div class="form-group form-inline"><input type="text" ng-model="entry.name" class="form-control" placeholder="example.com"> <button type="button" class="btn btn-danger btn-sm" ng-click="rmEntry(config.HostConfig.DnsSearch, entry)">x</button></div></div><button type="button" class="btn btn-success btn-sm" ng-click="addEntry(config.HostConfig.DnsSearch, {name: \'\'})">Add entry</button></div><div class="form-group"><label>CapAdd:</label><div ng-repeat="entry in config.HostConfig.CapAdd"><div class="form-group form-inline"><input type="text" ng-model="entry.name" class="form-control" placeholder="cap_sys_admin"> <button type="button" class="btn btn-danger btn-sm" ng-click="rmEntry(config.HostConfig.CapAdd, entry)">x</button></div></div><button type="button" class="btn btn-success btn-sm" ng-click="addEntry(config.HostConfig.CapAdd, {name: \'\'})">Add entry</button></div><div class="form-group"><label>CapDrop:</label><div ng-repeat="entry in config.HostConfig.CapDrop"><div class="form-group form-inline"><input type="text" ng-model="entry.name" class="form-control" placeholder="cap_sys_admin"> <button type="button" class="btn btn-danger btn-sm" ng-click="rmEntry(config.HostConfig.CapDrop, entry)">x</button></div></div><button type="button" class="btn btn-success btn-sm" ng-click="addEntry(config.HostConfig.CapDrop, {name: \'\'})">Add entry</button></div></div><div class="col-xs-6"><div class="form-group"><label>NetworkMode:</label> <input type="text" ng-model="config.HostConfig.NetworkMode" class="form-control" placeholder="bridge"></div><div class="form-group"><label for="publishAllPorts">PublishAllPorts:</label> <input class="new-checkbox bordered" id="publishAllPorts" ng-model="config.HostConfig.PublishAllPorts" type="checkbox"><label for="publishAllPorts"></label></div><div class="form-group"><label for="privileged">Privileged:</label> <input class="new-checkbox bordered" id="privileged" ng-model="config.HostConfig.Privileged" type="checkbox"><label for="privileged"></label></div><div class="form-group"><label>VolumesFrom:</label><div ng-repeat="volume in config.HostConfig.VolumesFrom"><div class="form-group form-inline"><select ng-model="volume.name" ng-options="name for name in containerNames track by name" class="form-control"></select><button class="btn btn-danger btn-xs form-control" ng-click="rmEntry(config.HostConfig.VolumesFrom, volume)">x</button></div></div><button type="button" class="btn btn-success btn-sm" ng-click="addEntry(config.HostConfig.VolumesFrom, {name: \'\'})">Add volume</button></div><div class="form-group"><label>RestartPolicy:</label><select ng-model="config.HostConfig.RestartPolicy.name"><option value="">disabled</option><option value="always">always</option><option value="on-failure">on-failure</option></select><label>MaximumRetryCount:</label> <input type="number" ng-model="config.HostConfig.RestartPolicy.MaximumRetryCount"></div></div></div><hr><div class="form-group"><label>ExtraHosts:</label><div ng-repeat="entry in config.HostConfig.ExtraHosts"><div class="form-group form-inline"><div class="form-group"><label class="sr-only">Hostname:</label> <input type="text" ng-model="entry.host" class="form-control" placeholder="hostname"></div><div class="form-group"><label class="sr-only">IP Address:</label> <input type="text" ng-model="entry.ip" class="form-control" placeholder="127.0.0.1"></div><div class="form-group"><button class="btn btn-danger btn-xs form-control" ng-click="rmEntry(config.HostConfig.ExtraHosts, entry)">x</button></div></div></div><button type="button" class="btn btn-success btn-sm" ng-click="addEntry(config.HostConfig.ExtraHosts, {host: \'\', ip: \'\'})">Add extra host</button></div><div class="form-group"><label>LxcConf:</label><div ng-repeat="entry in config.HostConfig.LxcConf"><div class="form-group form-inline"><div class="form-group"><label class="sr-only">Name:</label> <input type="text" ng-model="entry.name" class="form-control" placeholder="lxc.utsname"></div><div class="form-group"><label class="sr-only">Value:</label> <input type="text" ng-model="entry.value" class="form-control" placeholder="docker"></div><div class="form-group"><button class="btn btn-danger btn-xs form-control" ng-click="rmEntry(config.HostConfig.LxcConf, entry)">x</button></div></div></div><button type="button" class="btn btn-success btn-sm" ng-click="addEntry(config.HostConfig.LxcConf, {name: \'\', value: \'\'})">Add Entry</button></div><div class="form-group"><label>Devices:</label><div ng-repeat="device in config.HostConfig.Devices"><div class="form-group form-inline inline-four"><label class="sr-only">PathOnHost:</label> <input type="text" ng-model="device.PathOnHost" class="form-control" placeholder="PathOnHost"> <label class="sr-only">PathInContainer:</label> <input type="text" ng-model="device.PathInContainer" class="form-control" placeholder="PathInContainer"> <label class="sr-only">CgroupPermissions:</label> <input type="text" ng-model="device.CgroupPermissions" class="form-control" placeholder="CgroupPermissions"> <button class="btn btn-danger btn-xs form-control" ng-click="rmEntry(config.HostConfig.Devices, device)">x</button></div></div><button type="button" class="btn btn-success btn-sm" ng-click="addEntry(config.HostConfig.Devices, { PathOnHost: \'\', PathInContainer: \'\', CgroupPermissions: \'\'})">Add Device</button></div><div class="form-group"><label>PortBindings:</label><div ng-repeat="portBinding in config.HostConfig.PortBindings"><div class="form-group form-inline inline-four"><label class="sr-only">Host IP:</label> <input type="text" ng-model="portBinding.ip" class="form-control" placeholder="Host IP Address"> <label class="sr-only">Host Port:</label> <input type="text" ng-model="portBinding.extPort" class="form-control" placeholder="Host Port"> <label class="sr-only">Container port:</label> <input type="text" ng-model="portBinding.intPort" class="form-control" placeholder="Container Port"><select ng-model="portBinding.protocol"><option value="">tcp</option><option value="udp">udp</option></select><button class="btn btn-danger btn-xs form-control" ng-click="rmEntry(config.HostConfig.PortBindings, portBinding)">x</button></div></div><button type="button" class="btn btn-success btn-sm" ng-click="addEntry(config.HostConfig.PortBindings, {ip: \'\', extPort: \'\', intPort: \'\'})">Add Port Binding</button></div></fieldset></accordion-group></accordion></form></div><div class="modal-footer"><a href="" class="btn btn-primary btn-lg" ng-click="create()">Create</a></div>'),e.put("app/modules/docker/image/image.html",'<section horizontal-ui-sheet="" class="qor-sheet-half"><header horizontal-ui-sheet-header="" title="{{vm.image.Id}}"></header><div horizontal-ui-sheet-content=""><div class="alert alert-error" ng-show="vm.error">{{vm.error}}</div><div class="detail"><h4>Image: {{ vm.tag }}</h4><div class="btn-group detail"><button class="btn btn-success" ng-click="vm.openCreateImageModal()">Create</button></div><div><h4>Containers created:</h4><line-chart data="vm.containers"></line-chart></div><table class="table table-striped"><tbody><tr><td>Created:</td><td>{{ vm.image.Created }}</td></tr><tr><td>Parent:</td><td><a ui-sref=".({imageId: vm.image.Parent})">{{ vm.image.Parent }}</a></td></tr><tr><td>Size (Virtual Size):</td><td>{{ vm.image.Size|humansize }} ({{ vm.image.VirtualSize|humansize }})</td></tr><tr><td>Hostname:</td><td>{{ vm.image.ContainerConfig.Hostname }}</td></tr><tr><td>User:</td><td>{{ vm.image.ContainerConfig.User }}</td></tr><tr><td>Cmd:</td><td>{{ vm.image.ContainerConfig.Cmd }}</td></tr><tr><td>Volumes:</td><td>{{ vm.image.ContainerConfig.Volumes }}</td></tr><tr><td>Volumes from:</td><td>{{ vm.image.ContainerConfig.VolumesFrom }}</td></tr><tr><td>Built with:</td><td>Docker {{ vm.image.DockerVersion }} on {{ vm.image.Os}}, {{ vm.image.Architecture }}</td></tr></tbody></table><div class="row-fluid"><div class="span1">History:</div><div class="span5"><i class="icon-refresh" style="width:32px;height:32px;" ng-click="vm.getHistory()"></i></div></div><div class="well well-large"><ul><li ng-repeat="change in vm.history"><strong>{{ change.Id }}</strong>: Created: {{ change.Created|getdate }} Created by: {{ change.CreatedBy}}</li></ul></div><hr><div class="row-fluid"><form class="form-inline" role="form"><fieldset><legend>Tag image</legend><div class="form-group"><label>Tag:</label> <input type="text" placeholder="repo..." ng-model="vm.tag1.repo" class="form-control"></div><div class="form-group"><input class="new-checkbox bordered" id="check-tag" ng-model="vm.tag1.force" type="checkbox"><label for="check-tag"></label> Force?</div><input type="button" ng-click="vm.updateTag()" value="Tag" class="btn btn-primary"></fieldset></form></div><hr><div class="btn-remove"><button class="btn btn-large btn-block btn-primary btn-danger" ng-click="vm.remove()">Remove Image</button></div></div></div></section>'),e.put("app/modules/docker/images/images.html",'<section horizontal-ui-sheet="" class="qor-sheet-half"><header horizontal-ui-sheet-header="" title="{{dockerId}}"></header><div horizontal-ui-sheet-content=""><h3 class="config-table-header">Images</h3><div><div class="btn-group pull-left"><div dropdown="" dropdown-append-to-body="" class="dropdown"><button class="btn btn-default config-table-header-button" dropdown-toggle="" aria-haspopup="true" aria-expanded="false">Action<span class="fa fa-angle-down pull-right"></span></button><ul class="dropdown-menu"><li><a ng-click="vm.removeAction()">Remove</a></li></ul></div></div><button class="btn btn-default config-table-header-button" id="pull-image" ng-click="vm.pullImage()">Pull</button><div class="pull-right form-inline containers-form"><input type="text" class="form-control" id="filter" placeholder="Filter" ng-model="vm.filter"> <label class="sr-only" for="filter">Filter</label></div></div><table class="table images-table"><thead><tr><th><input class="new-checkbox bordered" id="header-checkbox" ng-model="vm.toggle" ng-change="vm.toggleSelectAll()" type="checkbox"><label for="header-checkbox"></label> ACTION</th><th>ID</th><th>REPOSITORY</th><th>VIRTUALSIZE</th><th>CREATED</th></tr></thead><tbody><tr ng-repeat="image in vm.images | filter:vm.filter | orderBy:vm.predicate"><td class="center-text"><input class="new-checkbox bordered" id="check-{{image.Id}}" ng-model="image.Checked" type="checkbox"><label for="check-{{image.Id}}"></label></td><td><a ui-sref=".image({imageId: image.Id, imageTag: (image|repotag)})">{{ image.Id|truncate:20}}</a></td><td>{{ image|repotag }}</td><td>{{ image.VirtualSize|humansize }}</td><td>{{ image.Created|getdate }}</td></tr></tbody></table></div></section>'),e.put("app/modules/docker/images/pull-image.html",'<div class="modal-header"><button type="button" class="close" ng-click="vm.close()" data-dismiss="modal" aria-hidden="true">&times;</button><h3>Pull Image</h3></div><div class="modal-body"><form novalidate="" role="form" name="pullForm"><div class="form-group"><label>Registry:</label> <input type="text" ng-model="vm.config.registry" class="form-control" placeholder="Registry. Leave empty to user docker hub"></div><div class="form-group"><label>Repo:</label> <input type="text" ng-model="vm.config.repo" class="form-control" placeholder="Repository - usually your username."></div><div class="form-group"><label>Image Name:</label> <input type="text" ng-model="vm.config.fromImage" class="form-control" placeholder="Image name" required=""></div><div class="form-group"><label>Tag Name:</label> <input type="text" ng-model="vm.config.tag" class="form-control" placeholder="Tag name. If empty it will download ALL tags."></div></form></div><div class="alert alert-error" ng-show="vm.error">{{ vm.error }}</div><div class="modal-footer"><a href="" class="btn btn-primary" ng-click="vm.pull()">Pull</a></div>'),e.put("app/modules/docker/info/info.html",'<section horizontal-ui-sheet="" class="qor-sheet-half"><header horizontal-ui-sheet-header="" title="Information"></header><div horizontal-ui-sheet-content=""><div class="detail"><h3 class="config-table-header">Docker Information</h3><table class="docker-info-small"><tbody><tr><td>API Endpoint:</td><td>{{ vm.endpoint }}</td></tr><tr><td>API Version:</td><td>{{ vm.docker.ApiVersion }}</td></tr><tr><td>Docker version:</td><td>{{ vm.docker.Version }}</td></tr><tr><td>Git Commit:</td><td>{{ vm.docker.GitCommit }}</td></tr><tr><td>Go Version:</td><td>{{ vm.docker.GoVersion }}</td></tr></tbody></table><table class="table docker-info-table"><tbody><tr><td>Containers:</td><td>{{ vm.info.Containers }}</td></tr><tr><td>Images:</td><td>{{ vm.info.Images }}</td></tr><tr><td>Debug:</td><td>{{ vm.info.Debug }}</td></tr><tr><td>CPUs:</td><td>{{ vm.info.NCPU }}</td></tr><tr><td>Total Memory:</td><td>{{ vm.info.MemTotal|humansize }}</td></tr><tr><td>Operating System:</td><td>{{ vm.info.OperatingSystem }}</td></tr><tr><td>Kernel Version:</td><td>{{ vm.info.KernelVersion }}</td></tr><tr><td>ID:</td><td>{{ vm.info.ID }}</td></tr><tr><td>Labels:</td><td>{{ vm.info.Labels }}</td></tr><tr><td>File Descriptors:</td><td>{{ vm.info.NFd }}</td></tr><tr><td>Goroutines:</td><td>{{ vm.info.NGoroutines }}</td></tr><tr><td>Storage Driver:</td><td>{{ vm.info.Driver }}</td></tr><tr><td>Storage Driver Status:</td><td><p ng-repeat="val in vm.info.DriverStatus">{{ val[0] }}: {{ val[1] }}</p></td></tr><tr><td>Execution Driver:</td><td>{{ vm.info.ExecutionDriver }}</td></tr><tr><td>Events:</td><td><a ui-sref=".events">Events</a></td></tr><tr><td>IPv4 Forwarding:</td><td>{{ vm.info.IPv4Forwarding }}</td></tr><tr><td>Index Server Address:</td><td>{{ vm.info.IndexServerAddress }}</td></tr><tr><td>Init Path:</td><td>{{ vm.info.InitPath }}</td></tr><tr><td>Docker Root Directory:</td><td>{{ vm.info.DockerRootDir }}</td></tr><tr><td>Init SHA1</td><td>{{ vm.info.InitSha1 }}</td></tr><tr><td>Memory Limit:</td><td>{{ vm.info.MemoryLimit }}</td></tr><tr><td>Swap Limit:</td><td>{{ vm.info.SwapLimit }}</td></tr></tbody></table></div></div></section>'),e.put("app/modules/docker/info.events/events.html",'<section horizontal-ui-sheet="" class="qor-sheet-half"><header horizontal-ui-sheet-header="" title="Events"></header><div horizontal-ui-sheet-content=""><div class="row"><div class="col-xs-12"><form class="form-inline"><div class="form-group"><label for="since">Since:</label> <input id="since" type="datetime-local" ng-model="vm.model.since" class="form-control" step="any"></div><div class="form-group"><label for="until">Until:</label> <input id="until" type="datetime-local" ng-model="vm.model.until" class="form-control" step="any"></div><button ng-click="vm.updateEvents()" class="btn btn-warning">Update</button></form><br><table class="table containers-table"><tbody><tr><th>Event</th><th>From</th><th>ID</th><th>Time</th></tr><tr ng-repeat="event in vm.dockerEvents"><td ng-bind="event.status"></td><td ng-bind="event.from"></td><td ng-bind="event.id"></td><td ng-bind="event.time * 1000 | date:\'medium\'"></td></tr></tbody></table></div></div></div></section>'),e.put("app/modules/docker/menu/menu.html",'<section horizontal-ui-sheet="" class="qor-sheet-s"><header horizontal-ui-sheet-header="" title="{{vm.dockerId}}"></header><div horizontal-ui-sheet-content=""><div class="list-group text-left ng-scope"><a class="list-group-item" ui-sref-active="active" ui-sref=".summary">Summary</a></div><div class="list-group text-left ng-scope"><a class="list-group-item" ui-sref-active="active" ui-sref=".containers">Containers</a></div><div class="list-group text-left ng-scope"><a class="list-group-item" ui-sref-active="active" ui-sref=".images">Images</a></div><div class="list-group text-left ng-scope"><a class="list-group-item" ui-sref-active="active" ui-sref=".info">Info</a></div></div></section>'),e.put("app/modules/docker/summary/summary.html",'<section horizontal-ui-sheet="" class="qor-sheet-half"><header horizontal-ui-sheet-header="" title="Summary"></header><div horizontal-ui-sheet-content=""><div class="row"><div class="col-xs-6 centered-text"><h3>Running Containers</h3><ul class="containers-list"><li ng-repeat="container in vm.containers|orderBy:predicate"><a ui-sref="^.containers.container({containerId: container.Id})">{{ container|containername }}</a> <span class="label label-{{ container.Status|statusbadge }}">{{ container.Status }}</span></li></ul></div><div class="col-xs-6 centered-text"><h3>Status</h3><canvas class="chart chart-doughnut" chart-colours="vm.colours" chart-legend="true" chart-data="vm.dataset" chart-labels="vm.labels"></canvas></div></div><div class="row containers-stat"><div class="col-xs-12 centered-text"><h3>Containers created</h3><line-chart data="vm.totalContainers"></line-chart><h3>Images created</h3><line-chart data="vm.totalImages"></line-chart></div></div></div></section>'),e.put("app/modules/domains/domain/domain.html",'<section horizontal-ui-sheet="" class="qor-sheet-s"><header horizontal-ui-sheet-header="" title="{{domain.name}}"></header><div horizontal-ui-sheet-content=""><div class="list-group text-left ng-scope"><a class="list-group-item" ng-repeat="environment in domain.instances | orderBy:\'\'" ui-sref-active="active" ui-sref="app.domains.domain.env({env : environment})">{{environment}}</a></div><div id="env-loader" ng-hide="domain || error"><img src="assets/images/cube.gif"></div><div id="reload" ng-hide="!error"><a ui-sref="app.domains.domain" data-ui-sref-opts="{reload: true}"><i class="fa fa-refresh reload-button"></i></a></div></div></section>'),e.put("app/modules/domains/environment/environment.html",'<section horizontal-ui-sheet="" class="qor-sheet-full"><header horizontal-ui-sheet-header="" title="{{domain.name}} > {{environment.name}}"></header><div horizontal-ui-sheet-content="" class="no-padding"><div ui-layout="{ flow : \'column\' }" class="domains-layout"><div ui-layout-container="" size="80%"><div class="col-lg-12" ql-widget="domain_stat"></div></div><div ui-layout-container=""><div class="row"><div ui-layout="{flow : \'row\'}"><div ui-layout-container="" class="col-lg-9" auto-scroll="" style="width: 100%;"><div ql-widget="Events" ws-url="eventsWsUrl"></div></div><div ui-layout-container="" class="col-lg-9" size="30%" style="overflow-x: hidden; width: 100%;"><button type="button" ui-sref="app.domains.domain.env.network" ui-sref-active="active" class="btn btn-lg env-button" style="top: 10px;">Network</button> <button type="button" ui-sref="app.domains.domain.env.resources" ui-sref-active="active" class="btn btn-lg env-button" style="top: 70px;">Resources</button> <button type="button" class="btn btn-lg env-button" style="top: 130px;">Traffic</button></div></div></div></div></div></div></section>'),e.put("app/modules/domains/network/network.html",'<section horizontal-ui-sheet="" class="qor-sheet-fill"><header horizontal-ui-sheet-header="" title="Network"></header><div horizontal-ui-sheet-content=""><div ql-widget="network"></div></div></section>'),e.put("app/modules/domains/node/node.html",'<section horizontal-ui-sheet=""><header horizontal-ui-sheet-header="" title="{{node.name}}"></header><div horizontal-ui-sheet-content=""><div ql-widget="domain_details"></div></div></section>'),e.put("app/modules/domains/node-logs/log-details.html",'<script type="text/javascript">\n    var domTerminal = $(\'#logs-terminal\');\n\n    setTimeout(function () {\n        var terminal = $(\'#terminal\').terminal();\n        var newData = terminal.get_output();\n        terminal.clear();\n        terminal.terminal().echo(currentData);\n        terminal.echo(newData);\n    }, 1000);\n\n    domTerminal.attr(\'ws-url\', url);\n</script><div id="logs-terminal" class="log-details" ql-widget="Terminal" ws-url="\'wss://ops-dev.blinker.com/v1/events\'"></div>'),e.put("app/modules/domains/node-logs/node-logs.html",'<section horizontal-ui-sheet="" class="qor-sheet-fill"><header horizontal-ui-sheet-header="" title="Logs"></header><div horizontal-ui-sheet-content="" class="logs"><span log-new-window="" class="fa fa-inverse fa-external-link new-window-icon"></span><div id="logs-terminal" ql-widget="Terminal" ws-url="\'wss://ops-dev.blinker.com/v1/events\'"></div></div></section>'),e.put("app/modules/domains/resources/resources.html",'<section horizontal-ui-sheet="" class="qor-sheet-full"><header horizontal-ui-sheet-header="" title="Resources"></header><div horizontal-ui-sheet-content=""><div ql-widget="container"></div></div></section>'),e.put("app/modules/manage/accounts/accounts.html",'<section horizontal-ui-sheet="" class="qor-sheet-xs"><header horizontal-ui-sheet-header="" title="Accounts"></header><div horizontal-ui-sheet-content=""><div class="list-group text-left ng-scope" ng-show="vm.accounts.length"><div class="align-text-right"><button class="btn btn-warning add-new-account-button" ng-click="vm.newUser()">Create new</button></div><div class="list-group"><a class="list-group-item" ng-repeat="account in vm.accounts" ui-sref-active="active" ui-sref="app.manage.accounts.account({id : account.id})"><i class="fa fa-user accounts-list-user-icon"></i> {{ account.primary.username || account.primary.email || account.primary.oauth2_account_id || \'???\'}}</a></div></div><div id="env-loader" ng-hide="vm.accounts.length || vm.error"><img src="assets/images/cube.gif"></div><div id="reload" ng-hide="!vm.error"><a ui-sref="." data-ui-sref-opts="{reload: true}"><i class="fa fa-refresh reload-button"></i></a></div></div></section>'),e.put("app/modules/manage/accounts/new-user-modal.html",'<div class="modal-header"></div><div class="modal-body text-center"><form class="form-horizontal"><div class="form-group"><div class="col-sm-12"><input type="text" class="form-control" ng-model="vm.username" placeholder="Username"></div></div><div class="form-group"><div class="col-sm-12"><input type="email" class="form-control" ng-model="vm.email" placeholder="Email"></div></div><div class="form-group"><div class="col-sm-12"><input type="password" class="form-control" ng-model="vm.password" placeholder="Password"></div></div><div class="form-group"><label for="custom_object" class="col-sm-2 control-label">Custom JSON</label><div class="col-sm-10"><textarea id="custom_object" class="form-control" ng-model="vm.custom_object"></textarea></div></div></form></div><div class="modal-footer"><button class="btn btn-primary" type="button" ng-click="vm.ok()">Yes</button> <button class="btn btn-warning" type="button" ng-click="vm.cancel()">Cancel</button></div>'),e.put("app/modules/manage/settings/settings.html",'<section horizontal-ui-sheet="" class="qor-sheet-s"><header horizontal-ui-sheet-header="" title="Settings"></header><div horizontal-ui-sheet-content=""><div class="list-group text-left ng-scope"><a class="list-group-item" ui-sref-active="active" ui-sref="app.manage.settings.authentication">Authentication Service</a></div></div></section>'),e.put("app/modules/orchestrate/domain/domain.html",'<section horizontal-ui-sheet="" class="qor-sheet-half"><header horizontal-ui-sheet-header="" title="{{domain.name}}"></header><div horizontal-ui-sheet-content=""><div class="list-group text-left ng-scope"><a class="list-group-item" ng-repeat="environment in domain.instances | orderBy:\'\'" ui-sref-active="active" ui-sref="app.orchestrate.domain.instance({inst : environment})">{{environment}}</a></div><div id="env-loader" ng-hide="domain || error"><img src="assets/images/cube.gif"></div><div id="reload" ng-hide="!error"><a ui-sref="app.orchestrate.domain\'" data-ui-sref-opts="{reload: true}"><i class="fa fa-refresh reload-button"></i></a></div></div></section>'),e.put("app/modules/orchestrate/history/history.html",'<section horizontal-ui-sheet="" class="qor-sheet-half"><header horizontal-ui-sheet-header="" title="{{title}}"></header><div horizontal-ui-sheet-content=""><button class="btn btn-warning orchestrate-run-new-button" ui-sref="app.orchestrate.domain.instance.history.option({opt_id : \'new\'})">New</button><div class="list-group text-left ng-scope" ng-show="previousCalls.length > 0"><table class="orchestrate-history-table"><thead><tr><th class="p10">Status</th><th class="p20">Started on</th><th class="p15">User name</th><th class="p30">Note</th><th class="p20">Completed on</th></tr></thead><tbody><tr ng-repeat="call in previousCalls" ui-sref="app.orchestrate.domain.instance.history.option({opt_id : call.id})" ui-sref-active="active"><td class="history-table-icon-item"><span class="glyphicon" ng-class="{\'error glyphicon-remove-sign\': call.status == \'error\', \'warning glyphicon-info-sign\': call.status == \'Started\', \'success glyphicon-ok-sign\': call.status == \'completed\'}"></span></td><td>{{call.start_time | date : \'medium\'}}</td><td>{{call.user}}</td><td>{{call.note}}</td><td>{{call.completion_time | date : \'medium\'}}</td></tr></tbody></table></div><div id="env-loader" ng-hide="previousCalls || error"><img src="assets/images/cube.gif"></div><div id="reload" ng-hide="!error"><a ui-sref="app.orchestrate.domain.instance.history" data-ui-sref-opts="{reload: true}"><i class="fa fa-refresh reload-button"></i></a></div></div></section>'),e.put("app/modules/orchestrate/instance/instance.html",'<section horizontal-ui-sheet="" class="qor-sheet-half"><header horizontal-ui-sheet-header="" title="{{title}}"></header><div horizontal-ui-sheet-content=""><div class="list-group text-left ng-scope"><a class="list-group-item" ng-repeat="workflow in workflows | orderBy:\'label\'" ui-sref-active="active" ui-sref="app.orchestrate.domain.instance.history({opt : workflow.name})">{{workflow.label}}</a></div><div id="env-loader" ng-hide="workflows.length || error"><img src="assets/images/cube.gif"></div><div id="reload" ng-hide="!error"><a ui-sref="app.orchestrate.domain.instance" data-ui-sref-opts="{reload: true}"><i class="fa fa-refresh reload-button"></i></a></div></div></section>'),e.put("app/modules/orchestrate/option/option.html",'<section horizontal-ui-sheet="" class="qor-sheet-half"><header horizontal-ui-sheet-header="" title="{{title}}"></header><div horizontal-ui-sheet-content=""><div id="env-loader" ng-hide="workflow || error"><img src="assets/images/cube.gif"></div><div id="reload" ng-hide="!error"><a ui-sref="app.orchestrate.domain.instance.history.option" data-ui-sref-opts="{reload: true}"><i class="fa fa-refresh reload-button"></i></a></div><form class="form-horizontal orchestration-parameters"><fieldset id="dynamic-form"></fieldset><div class="form-group"><div class="col-md-4"></div><div class="col-md-4 text-align-right"><button type="button" ng-click="sendMessage()" ng-show="workflow" id="sendMessageButton" class="btn btn-warning">Run</button></div></div></form><hr><div id="timelineContainer"></div></div></section>'),e.put("app/modules/configurations/services/state/state.html",'<section horizontal-ui-sheet="" class="qor-sheet-s"><header horizontal-ui-sheet-header="" title="Configurations"></header><div horizontal-ui-sheet-content=""><div class="list-group text-left ng-scope"><a class="list-group-item" ui-sref-active="active" ui-sref=".files">Configuration Files</a> <a class="list-group-item" ui-sref-active="active" ui-sref=".instances">Environment Variables</a> <a class="list-group-item" ui-sref-active="active" ui-sref=".packages">Packages</a></div></div></section>'),e.put("app/modules/manage/accounts/account/account.html",'<section horizontal-ui-sheet="" class="qor-sheet-xs"><header horizontal-ui-sheet-header="" title="{{ account.primary.username }}"></header><div horizontal-ui-sheet-content=""><div class="list-group text-left ng-scope" ng-show="account"><div class="row"><div class="col-md-4 user-info-titles"><p>ID:</p><p ng-show="account.primary.username">Username:</p><p ng-show="account.primary.email">Email:</p><p ng-show="account.primary.phone">Phone:</p><p ng-show="account.primary.oauth2_provider">OAuth2 Provider:</p><p ng-show="account.primary.oauth2_account_id">Oauth2 Account ID:</p></div><div class="col-md-8"><p>{{ account.id}}</p><p ng-show="account.primary.username">{{account.primary.username}}</p><p ng-show="account.primary.email">{{ account.primary.email }}</p><p ng-show="account.primary.phone">{{ account.primary.phone }}</p><p ng-show="account.primary.oauth2_provider">{{account.primary.oauth2_provider}}</p><p ng-show="account.primary.oauth2_account_id">{{account.primary.oauth2_account_id}}</p></div></div><table class="table"><thead><tr><th>ID</th><th>Scopes</th></tr></thead><tbody><tr ng-repeat="service in account.services"><td>{{service.id}}</td><td><li ng-repeat="scope in service.scopes">{{ scope }}</li></td></tr></tbody></table></div><div id="env-loader" ng-hide="account || error"><img src="assets/images/cube.gif"></div><div id="reload" ng-hide="!error"><a ui-sref="app.manage.accounts.account\'" data-ui-sref-opts="{reload: true}"><i class="fa fa-refresh reload-button"></i></a></div></div></section>'),e.put("app/modules/manage/settings/authentication/authentication.html",'<section horizontal-ui-sheet="" class="qor-sheet-s"><header horizontal-ui-sheet-header="" title="Authentication Service"></header><div horizontal-ui-sheet-content=""><div class="list-group text-left ng-scope"><a class="list-group-item" ui-sref-active="active" ui-sref="app.manage.settings.authentication.domain({authDomain: domain.domain})" ng-repeat="domain in domains">{{domain.domain}}</a></div><div id="env-loader" ng-hide="domains || error"><img src="assets/images/cube.gif"></div><div id="reload" ng-hide="!error"><a ui-sref="." data-ui-sref-opts="{reload: true}"><i class="fa fa-refresh reload-button"></i></a></div></div></section>'),e.put("app/modules/configurations/services/state/files/files.html",'<section horizontal-ui-sheet="" class="qor-sheet-s"><header horizontal-ui-sheet-header="" title="Files"></header><div horizontal-ui-sheet-content=""><div class="list-group text-left ng-scope"><a class="list-group-item" ng-repeat="file in instance.objects | orderBy:\'\'" ui-sref-active="active" ui-sref=".files-view({file: file})">{{file}}</a></div><div id="env-loader" ng-hide="instance || error"><img src="assets/images/cube.gif"></div><div id="reload" ng-hide="!error"><a ui-sref="app.configurations.services.state.files" data-ui-sref-opts="{reload: true}"><i class="fa fa-refresh reload-button"></i></a></div><div class="new-file-button"><button class="btn btn-warning" ng-click="openNewFileModal()" type="button">Add new</button></div></div></section>'),e.put("app/modules/configurations/services/state/files/new-file-modal.html",'<div class="modal-header"><button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4>Create new file</h4></div><div class="modal-body text-center"><form class="form-horizontal"><div class="form-group"><div class="col-sm-12"><input type="text" class="form-control" ng-model="fileName" placeholder="File name"></div></div><div class="form-group"><div class="col-lg-12"><textarea id="new_file_content" class="form-control" type="text" ng-model="fileContent"></textarea></div></div></form></div><div class="modal-footer"><button class="btn btn-primary" type="button" ng-click="ok($event)">Create</button> <button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button></div>'),e.put("app/modules/configurations/services/state/files/new-version-modal.html",'<div class="modal-header"><button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4>Create new version</h4></div><div class="modal-body text-center"><form class="form-horizontal"><div class="form-group"><div class="col-sm-12"><input type="text" class="form-control" ng-model="versionName" placeholder="New version name"></div></div></form></div><div class="modal-footer"><button class="btn btn-primary" type="button" ng-click="ok($event)">Create</button> <button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button></div>'),e.put("app/modules/configurations/services/state/instances/instances.html",'<section horizontal-ui-sheet="" class="qor-sheet-s"><header horizontal-ui-sheet-header="" title="Instances"></header><div horizontal-ui-sheet-content=""><table class="instances-table"><thead><tr><th></th><th></th></tr></thead><tbody><tr ng-repeat="instance in instances | orderBy:\'\'"><td>{{instance}}</td><td><input ng-click="changeState(checked[instance])" class="new-checkbox" id="input-{{instance}}" name="input-{{instance}}" ng-model="checked[instance]" type="checkbox"><label class="pull-right" for="input-{{instance}}"></label></td></tr></tbody></table><button ng-show="saveAvailableHelper > 0" type="button" ng-click="show()" id="sendMessageButton" class="btn btn-warning config-instances-button">Show</button><div id="env-loader" ng-hide="services || error"><img src="assets/images/cube.gif"></div><div id="reload" ng-hide="!error"><a ui-sref="app.configurations.services.state.instances" data-ui-sref-opts="{reload: true}"><i class="fa fa-refresh reload-button"></i></a></div></div></section>'),e.put("app/modules/configurations/services/state/packages/packages.html",'<section horizontal-ui-sheet="" class="qor-sheet-s"><header horizontal-ui-sheet-header="" title="Packages"></header><div horizontal-ui-sheet-content=""><table class="instances-table"><thead><tr><th></th><th></th></tr></thead><tbody><tr ng-repeat="instance in instances | orderBy:\'\'"><td>{{instance}}</td><td><input ng-click="changeState(checked[instance])" class="new-checkbox" id="input-{{instance}}" name="input-{{instance}}" ng-model="checked[instance]" type="checkbox"><label class="pull-right" for="input-{{instance}}"></label></td></tr></tbody></table><button ng-show="saveAvailableHelper > 0" type="button" ng-click="show()" id="sendMessageButton" class="btn btn-warning config-instances-button">Show</button><div id="env-loader" ng-hide="services || error"><img src="assets/images/cube.gif"></div><div id="reload" ng-hide="!error"><a ui-sref="app.configurations.services.state.packages" data-ui-sref-opts="{reload: true}"><i class="fa fa-refresh reload-button"></i></a></div></div></section>'),e.put("app/modules/manage/settings/authentication/domain/domain.html",'<section horizontal-ui-sheet="" class="qor-sheet-two-three"><header horizontal-ui-sheet-header="" title="{{vm.domain.domain}}"></header><div horizontal-ui-sheet-content=""><nested-table ng-repeat="(serviceName,service) in vm.domain.services" onchange="vm.dataChanged" class="table auth-table" data="service"></nested-table><button class="btn btn-warning save-auth-button" ng-click="vm.save()" ng-show="vm.itemsForSave.length !== 0">Save</button></div></section>'),e.put("app/modules/configurations/services/state/files/files-diff/files-diff.html",'<section horizontal-ui-sheet="" class="qor-sheet-full"><header horizontal-ui-sheet-header="" title="{{fileName}} - {{selectedInstance}} - {{selectedVersion}} vs {{fileName}} - {{selectedSecondInstance}} - {{selectedSecondVersion}}"></header><div horizontal-ui-sheet-content=""><div class="editor-content"><div class="btn-toolbar pull-right mt-0"><div class="btn-group"><div dropdown="" dropdown-append-to-body="" class="dropdown"><button class="btn btn-default config-table-header-button" dropdown-toggle="">{{selectedSecondInstance ? selectedSecondInstance : \'- Choose instance -\'}}<span class="fa fa-angle-down pull-right"></span></button><ul class="dropdown-menu"><li ng-repeat="instance in instance.instances" ng-class="{\'li-active\' : isSecondInstanceActive(instance)}"><a ng-click="selectSecondInstance(instance)">{{instance}}</a></li></ul></div></div><div class="btn-group"><div dropdown="" dropdown-append-to-body="" class="dropdown"><button class="btn btn-default config-table-header-button" dropdown-toggle="">{{selectedSecondVersion ? selectedSecondVersion : \'- Choose version -\'}} <span class="label label-success" ng-show="isSecondVersionLive(selectedSecondVersion)">Live</span><span class="fa fa-angle-down pull-right"></span></button><ul class="dropdown-menu"><li ng-repeat="version in instance.versions" ng-class="{\'li-active\' : isSecondVersionActive(version)}"><a ng-click="selectSecondVersion(version)">{{version}} <span class="label label-success pull-right" ng-show="isSecondVersionLive(version)">Live</span></a></li></ul></div></div></div><div class="btn-toolbar mt-0 mb-0"><div class="btn-group"><div dropdown="" dropdown-append-to-body="" class="dropdown"><button class="btn btn-default config-table-header-button" dropdown-toggle="">{{selectedFirstInstance ? selectedFirstInstance : \'- Choose instance -\'}}<span class="fa fa-angle-down pull-right"></span></button><ul class="dropdown-menu"><li ng-repeat="instance in instance.instances" ng-class="{\'li-active\' : isFirstInstanceActive(instance)}"><a ng-click="selectFirstInstance(instance)">{{instance}}</a></li></ul></div></div><div class="btn-group"><div dropdown="" dropdown-append-to-body="" class="dropdown"><button class="btn btn-default config-table-header-button" dropdown-toggle="">{{selectedFirstVersion ? selectedFirstVersion : \'- Choose version -\'}} <span class="label label-success" ng-show="isFirstVersionLive(selectedFirstVersion)">Live</span><span class="fa fa-angle-down pull-right"></span></button><ul class="dropdown-menu"><li ng-repeat="version in instance.versions" ng-class="{\'li-active\' : isFirstVersionActive(version)}"><a ng-click="selectFirstVersion(version)">{{version}} <span class="label label-success pull-right" ng-show="isFirstVersionLive(version)">Live</span></a></li></ul></div></div></div><div class="filled-content"><pre ng-show="firstFileData && secondFileData" class="textdiff" line-diff="" left-obj="firstFileData" right-obj="secondFileData">\n        </pre></div></div></div></section>'),e.put("app/modules/configurations/services/state/files/files-view/files-clone-modal.html",'<div class="modal-header"><button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">Clone <span class="fw-semi-bold">{{instance}}</span>-<span class="fw-semi-bold">{{version}}</span> to</h4></div><div class="modal-body"><div class="row"><div class="col-md-7"><input type="text" class="form-control" ng-model="newVersionName" placeholder="New version name"></div><div class="col-md-1 config-modal-devider">in</div><div class="col-md-4"><select id="select-type" ng-model="targetInstance" class="form-control"><option value="">---Target instance---</option><option ng-repeat="instance in instances" value="{{instance}}">{{instance}}</option></select></div></div></div><div class="modal-footer"><button class="btn btn-primary" id="config-modal-ok-button" type="button" ng-click="ok()">OK</button> <button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button></div>'),e.put("app/modules/configurations/services/state/files/files-view/files-delete-modal.html",'<div class="modal-header"><button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">Delete file</h4></div><div class="modal-body text-center"><p>Are you sure you want to permanently delete this file?<br><span class="fw-semi-bold">{{fileName}}-{{instance}}-{{version}}</span></p></div><div class="modal-footer"><button class="btn btn-primary" id="config-modal-ok-button" type="button" ng-click="ok()">Yes</button> <button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button></div>'),e.put("app/modules/configurations/services/state/files/files-view/files-view.html",'<section horizontal-ui-sheet="" class="qor-sheet-full"><header horizontal-ui-sheet-header="" title="{{domain.name}} > {{service}} > Configuraion Files > {{fileName}}"></header><div horizontal-ui-sheet-content=""><div class="btn-toolbar no-margin ml-n-xs"><div class="btn-group"><div dropdown="" dropdown-append-to-body="" class="dropdown"><button class="btn btn-default config-table-header-button" dropdown-toggle="">{{selectedInstance ? selectedInstance : \'- Choose instance -\'}}<span class="fa fa-angle-down pull-right"></span></button><ul class="dropdown-menu"><li ng-repeat="instance in instances track by $index" ng-class="{\'active\' : isInstanceActive(instance)}"><a ng-click="selectInstance(instance)">{{instance}}</a></li></ul></div></div><div class="btn-group"><div dropdown="" dropdown-append-to-body="" class="dropdown"><button class="btn btn-default config-table-header-button" dropdown-toggle="" ng-disabled="!selectedInstance">{{addNewVersionClicked ? \'-Create new version-\' : (selectedVersion ? selectedVersion : \'- Choose version -\')}} <span class="fa fa-angle-down pull-right"></span> <span class="label label-success pull-right mr-xs" ng-show="isVersionLive(selectedVersion)">Live</span></button><ul class="dropdown-menu"><li ng-click="clickAddNewVersion" ng-class="{\'active\' : addNewVersionClicked}"><a ng-click="clickAddNewVersion()">-Create new version-</a></li><li ng-repeat="version in versions[selectedInstance]" ng-class="{\'active\' : isVersionActive(version)}"><a ng-click="selectVersion(version)">{{version}} <span class="label label-success pull-right" ng-show="isVersionLive(version)">Live</span></a></li></ul></div></div></div><form ng-submit="saveFile()" class="file-content" ng-init="contentsChanged = false"><div class="btn-toolbar pull-right"><button class="btn btn-success mr-xs" ng-show="!isVersionLive(selectedVersion) && selectedInstance && selectedVersion && !addNewVersionClicked" mwl-confirm="" title="Are you sure?" message="Make {{selectedVersion}} live for {{selectedInstance}}" confirm-text="Yes" cancel-text="No" placement="bottom" on-confirm="makeLive(selectedInstance, selectedVersion)" type="button">Set live</button> <button class="btn btn-danger mr-xs" ng-disabled="!(fileContents && contentsChanged || addNewVersionClicked)" type="submit">Save</button> <button class="btn btn-default mr-n-xs" ng-disabled="!fileContents" type="button" ng-click="cloneFile()">Clone <i class="fa fa-clone ml-xs"></i></button> <a class="btn btn-default mr-xs" ng-disabled="!fileContents" ui-sref=".diff">Diff <i class="fa fa-exchange ml-xs"></i></a> <button class="btn btn-default" ng-disabled="!fileContents" type="button" ng-click="deleteFile()">Delete <i class="fa fa-trash-o ml-xs"></i></button></div><textarea class="form-control" ng-model="fileContents" ng-show="fileContents" ng-change="contentsChanged = true"></textarea></form></div></section>'),e.put("app/modules/configurations/services/state/instances/editor/editor.html",'<section horizontal-ui-sheet="" class="qor-sheet-full"><header horizontal-ui-sheet-header="" title="{{domain.name}} > {{service.service}}"></header><div horizontal-ui-sheet-content=""><div class="editor-content"><div class="loading" ng-if="!values">Loading...</div><div class="filled-content"><h3 class="config-table-header">Environment Variables</h3><table class="table table-bordered config-table"><thead table-fixed-header=""><tr><th></th><th ng-repeat="instance in editorService.instances | orderBy:\'\'" class="config-table-th"><h4>{{instance}}</h4><span dropdown="" dropdown-append-to-body="" class="dropdown" ng-hide="requestsCounter != 0"><button class="btn config-table-header-button" dropdown-toggle="">{{selectedVersion[instance]}} <span class="label label-success" ng-show="isLive(instance, selectedVersion[instance])">Live</span> <span class="fa fa-chevron-down pull-right"></span></button><ul class="dropdown-menu"><li ng-repeat="version in versions[instance] track by $index"><a ng-click="changeSelectedVersion(instance, version);" ng-class="{\'li-active\': selectedVersion[instance] == version}">{{version}} <span class="label label-success pull-right" ng-show="isLive(instance, version)">Live</span></a></li><li ng-click="clickAddNewVersion" ng-class="{\'li-active\' : addNewVersionClicked[instance]}"><a ng-click="clickAddNewVersion(instance)">-Create new version-</a></li></ul><span class="fa fa-copy copy-version" ng-click="makeCopy(instance, selectedVersion[instance])"></span> <span class="label label-success set-live-button" ng-hide="isLive(instance, selectedVersion[instance])" mwl-confirm="" instance="{{instance}}" title="Are you sure?" message="Make {{selectedVersion[instance]}} live for {{instance}}" confirm-text="Yes" cancel-text="No" placement="bottom" on-confirm="makeLive(instance, selectedVersion[instance], $event)">Set live</span></span></th><th class="rox-40px"></th></tr></thead><tbody><tr ng-repeat="value in values"><th inline-edit="value.name" is-name="true" on-save="updateName(oldName, newName)">{{value.name}}</th><th ng-repeat="instance in editorService.instances | orderBy:\'\'" parent="value[instance]" key="value.name" versions="editorService.versions" ng-class="{\'no-value\': !value[instance][selectedVersion[instance]][\'value\']}" instance="instance" version="selectedVersion[instance]" inline-edit="value[instance][selectedVersion[instance]][\'value\']" change-selected="changeSelectedVersion" on-delete="deleteValue(name, instance, version)" on-save="updateValues(name, newValue, instance, selectedVersion[instance], xDashVersion)" class="config-input-th"></th><th><div class="config-table-actions"><span ng-click="deleteInAllVersions(value.name)" class="fa fa-remove config-table-action-btn"></span></div></th></tr></tbody></table><div id="env-loader" ng-show="requestsCounter != 0"><img src="assets/images/cube.gif"></div></div><button class="btn btn-warning save-config-button" id="env-save-button" ng-click="save()" ng-show="isSavable()">Save</button> <button class="btn btn-warning add-config-button" ng-click="addValue()" ng-hide="requestsCounter != 0">Add new</button></div></div><script type="text/ng-template" id="inlineEdit.html"><span ng-show="isEditAvailable()" ng-click="edit()" class="config-table-action-btn fa fa-edit pull-right"></span> <textarea rows="1" type="text" on-enter="save()" on-esc="cancel()" ng-model="model" ng-show="editMode" class="config-input-edit"></textarea> <span ng-click="save()" ng-show="editMode && isSaveAvailable()" class="config-table-action-btn fa fa-check pull-right"></span> <span class="config-input-span" ng-hide="editMode" ng-click="edit()">{{model}}</span> <span ng-hide="isDeleteUnavailable()" ng-click="delete()" class="config-table-action-btn fa fa-remove pull-right"></span></script><script type="text/ng-template" id="newVersionModal.html"><div class="modal-header"> <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title">Create copy of {{version}} in {{instance}}</h4> </div> <div class="modal-body"> <div class="row"> <div class="col-md-7"> <input type="text" class="form-control" ng-model="newVersionName" placeholder="New version name"> </div> <div class="col-md-1 config-modal-devider">to</div> <div class="col-md-4"> <select id="select-type" ng-model="targetInstance" class="form-control"> <option value="">---Target instance---</option> <option ng-repeat="instance in instances" value="{{instance}}">{{instance}}</option> </select> </div> </div> </div> <div class="modal-footer"> <button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button> <button class="btn btn-primary" id="config-modal-ok-button" type="button" ng-click="ok()">OK</button> </div></script></section>'),e.put("app/modules/configurations/services/state/instances/editor/new-version-modal.html",'<div class="modal-header"><button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4>Create new version for {{instance}}</h4></div><div class="modal-body text-center"><form class="form-horizontal"><div class="form-group"><div class="col-sm-12"><input type="text" class="form-control" ng-model="versionName" placeholder="New version name"></div></div></form></div><div class="modal-footer"><button class="btn btn-primary" type="button" ng-click="ok($event)">Create</button> <button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button></div>'),e.put("app/modules/configurations/services/state/packages/editor/editor.html",'<section horizontal-ui-sheet="" class="qor-sheet-full"><header horizontal-ui-sheet-header="" title="{{domain.name}} > {{service.service}}"></header><div horizontal-ui-sheet-content=""><div class="editor-content"><div class="loading" ng-if="!values">Loading...</div><div class="filled-content"><h3 class="config-table-header">Packages</h3><table class="table table-bordered config-table"><thead table-fixed-header=""><tr><th></th><th ng-repeat="instance in editorService.instances | orderBy:\'\'" class="config-table-th"><h4>{{instance}}</h4><span dropdown="" dropdown-append-to-body="" class="dropdown"><button class="btn config-table-header-button" dropdown-toggle="" ng-hide="requestsCounter != 0">{{selectedVersion[instance]}} <span class="label label-success" ng-show="isLive(instance, selectedVersion[instance])">Live</span> <span class="fa fa-chevron-down pull-right"></span></button><ul class="dropdown-menu"><li ng-repeat="version in versions[instance] track by $index"><a ng-if="changeSelected(instance, version)" ng-hide="isVersionDeleted(instance, version)" ng-click="changeSelectedVersion(instance, version);" ng-class="{\'li-active\': selectedVersion[instance] == version}">{{version}} <span class="label label-success pull-right" ng-show="isLive(instance, version)">Live</span></a></li></ul><span class="fa fa-copy copy-version" ng-click="makeCopy(instance, selectedVersion[instance])" ng-hide="requestsCounter != 0"></span> <span class="label label-success set-live-button" ng-hide="isLive(instance, selectedVersion[instance]) || requestsCounter != 0" mwl-confirm="" instance="{{instance}}" title="Are you sure?" message="Make {{selectedVersion[instance]}} live for {{instance}}" confirm-text="Yes" cancel-text="No" placement="bottom" on-confirm="makeLive(instance, selectedVersion[instance], $event)">Set live</span></span></th></tr></thead><tbody ng-hide="requestsCounter != 0"><tr ng-repeat="(valueName, allValues) in values"><th>{{valueName}}</th><th ng-repeat="instance in editorService.instances | orderBy:\'\'" parent="value[instance]" key="valueName" versions="editorService.versions" ng-class="{\'no-value\': !values[valueName][instance][selectedVersion[instance]]}" instance="instance" version="selectedVersion[instance]" inline-edit="values[valueName][instance][selectedVersion[instance]]" change-selected="changeSelectedVersion" on-save="updateValues(name, newValue, instance, selectedVersion[instance], xDashVersion)" class="config-input-th"></th></tr></tbody></table><div id="env-loader" ng-show="requestsCounter != 0"><img src="assets/images/cube.gif"></div></div><button class="btn btn-warning save-config-button" id="env-save-button" ng-click="save()" ng-show="isSavable()">Save</button></div></div><script type="text/ng-template" id="inlineEdit.html"><span ng-show="isEditAvailable()" ng-click="edit()" class="config-table-action-btn fa fa-edit pull-right"></span> <textarea rows="1" type="text" on-enter="save()" on-esc="cancel()" ng-model="model" ng-show="editMode" class="config-input-edit"></textarea> <span ng-click="save()" ng-show="editMode && isSaveAvailable()" class="config-table-action-btn fa fa-check pull-right"></span> <span class="config-input-span" ng-hide="editMode" ng-click="edit()">{{model}}</span></script><script type="text/ng-template" id="newVersionModal.html"><div class="modal-header"> <button type="button" class="close" ng-click="cancel()" aria-label="Close"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title">Create copy of {{version}} in {{instance}}</h4> </div> <div class="modal-body"> <div class="row"> <div class="col-md-7"> <input type="text" class="form-control" ng-model="newVersionName" placeholder="New version name"> </div> <div class="col-md-1 config-modal-devider">to</div> <div class="col-md-4"> <select id="select-type" ng-model="targetInstance" class="form-control"> <option value="">---Target instance---</option> <option ng-repeat="instance in instances" value="{{instance}}">{{instance}}</option> </select> </div> </div> </div> <div class="modal-footer"> <button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button> <button class="btn btn-primary" id="config-modal-ok-button" type="button" ng-click="ok()">OK</button> </div></script></section>')
}]);