/*!
 * jQuery JavaScript Library v2.1.3
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-18T15:11Z
 */
function legend(t,e){t.className="legend";for(var n=e.hasOwnProperty("datasets")?e.datasets:e;t.hasChildNodes();)t.removeChild(t.lastChild);n.forEach(function(e){var n=document.createElement("span");n.className="title",n.style.borderColor=e.hasOwnProperty("strokeColor")?e.strokeColor:e.color,n.style.borderStyle="solid",t.appendChild(n);var r=document.createTextNode(e.label);n.appendChild(r)})}function uiCodemirrorDirective(t,e){function n(t,n,s,l){var u=angular.extend({value:n.text()},e.codemirror||{},t.$eval(s.uiCodemirror),t.$eval(s.uiCodemirrorOpts)),c=r(n,u);i(c,s.uiCodemirror||s.uiCodemirrorOpts,t),o(c,l,t),a(c,s.uiRefresh,t),t.$on("CodeMirror",function(t,e){if(!angular.isFunction(e))throw new Error("the CodeMirror event requires a callback function");e(c)}),angular.isFunction(u.onLoad)&&u.onLoad(c)}function r(t,e){var n;return"TEXTAREA"===t[0].tagName?n=window.CodeMirror.fromTextArea(t[0],e):(t.html(""),n=new window.CodeMirror(function(e){t.append(e)},e)),n}function i(t,e,n){function r(e,n){angular.isObject(e)&&i.forEach(function(r){if(e.hasOwnProperty(r)){if(n&&e[r]===n[r])return;t.setOption(r,e[r])}})}if(e){var i=Object.keys(window.CodeMirror.defaults);n.$watch(e,r,!0)}}function o(t,e,n){e&&(e.$formatters.push(function(t){if(angular.isUndefined(t)||null===t)return"";if(angular.isObject(t)||angular.isArray(t))throw new Error("ui-codemirror cannot use an object or an array as a model");return t}),e.$render=function(){var n=e.$viewValue||"";t.setValue(n)},t.on("change",function(t){var r=t.getValue();r!==e.$viewValue&&n.$evalAsync(function(){e.$setViewValue(r)})}))}function a(e,n,r){n&&r.$watch(n,function(n,r){n!==r&&t(function(){e.refresh()})})}return{restrict:"EA",require:"?ngModel",compile:function(){if(angular.isUndefined(window.CodeMirror))throw new Error("ui-codemirror needs CodeMirror to work... (o rly?)");return n}}}/*!
 * Bootstrap v3.3.5 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under the MIT license
 */
if(function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=t.length,n=J.type(t);return"function"===n||J.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function r(t,e,n){if(J.isFunction(e))return J.grep(t,function(t,r){return!!e.call(t,r,t)!==n});if(e.nodeType)return J.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(se.test(e))return J.filter(e,t,n);e=J.filter(e,t)}return J.grep(t,function(t){return U.call(e,t)>=0!==n})}function i(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e=de[t]={};return J.each(t.match(pe)||[],function(t,n){e[n]=!0}),e}function a(){Q.removeEventListener("DOMContentLoaded",a,!1),t.removeEventListener("load",a,!1),J.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=J.expando+s.uid++}function l(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(we,"-$1").toLowerCase(),n=t.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:be.test(n)?J.parseJSON(n):n}catch(i){}ye.set(t,e,n)}else n=void 0;return n}function u(){return!0}function c(){return!1}function f(){try{return Q.activeElement}catch(t){}}function h(t,e){return J.nodeName(t,"table")&&J.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function p(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function d(t){var e=Ie.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function g(t,e){for(var n=0,r=t.length;r>n;n++)ve.set(t[n],"globalEval",!e||ve.get(e[n],"globalEval"))}function m(t,e){var n,r,i,o,a,s,l,u;if(1===e.nodeType){if(ve.hasData(t)&&(o=ve.access(t),a=ve.set(e,o),u=o.events)){delete a.handle,a.events={};for(i in u)for(n=0,r=u[i].length;r>n;n++)J.event.add(e,i,u[i][n])}ye.hasData(t)&&(s=ye.access(t),l=J.extend({},s),ye.set(e,l))}}function v(t,e){var n=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&J.nodeName(t,e)?J.merge([t],n):n}function y(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Se.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function b(e,n){var r,i=J(n.createElement(e)).appendTo(n.body),o=t.getDefaultComputedStyle&&(r=t.getDefaultComputedStyle(i[0]))?r.display:J.css(i[0],"display");return i.detach(),o}function w(t){var e=Q,n=ze[t];return n||(n=b(t,e),"none"!==n&&n||(Re=(Re||J("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Re[0].contentDocument,e.write(),e.close(),n=b(t,e),Re.detach()),ze[t]=n),n}function x(t,e,n){var r,i,o,a,s=t.style;return n=n||qe(t),n&&(a=n.getPropertyValue(e)||n[e]),n&&(""!==a||J.contains(t.ownerDocument,t)||(a=J.style(t,e)),Be.test(a)&&He.test(e)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function $(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function C(t,e){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),r=e,i=Xe.length;i--;)if(e=Xe[i]+n,e in t)return e;return r}function S(t,e,n){var r=Ve.exec(e);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):e}function k(t,e,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===e?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=J.css(t,n+$e[o],!0,i)),r?("content"===n&&(a-=J.css(t,"padding"+$e[o],!0,i)),"margin"!==n&&(a-=J.css(t,"border"+$e[o]+"Width",!0,i))):(a+=J.css(t,"padding"+$e[o],!0,i),"padding"!==n&&(a+=J.css(t,"border"+$e[o]+"Width",!0,i)));return a}function T(t,e,n){var r=!0,i="width"===e?t.offsetWidth:t.offsetHeight,o=qe(t),a="border-box"===J.css(t,"boxSizing",!1,o);if(0>=i||null==i){if(i=x(t,e,o),(0>i||null==i)&&(i=t.style[e]),Be.test(i))return i;r=a&&(K.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+k(t,e,n||(a?"border":"content"),r,o)+"px"}function M(t,e){for(var n,r,i,o=[],a=0,s=t.length;s>a;a++)r=t[a],r.style&&(o[a]=ve.get(r,"olddisplay"),n=r.style.display,e?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Ce(r)&&(o[a]=ve.access(r,"olddisplay",w(r.nodeName)))):(i=Ce(r),"none"===n&&i||ve.set(r,"olddisplay",i?n:J.css(r,"display"))));for(a=0;s>a;a++)r=t[a],r.style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?o[a]||"":"none"));return t}function _(t,e,n,r,i){return new _.prototype.init(t,e,n,r,i)}function A(){return setTimeout(function(){Ke=void 0}),Ke=J.now()}function E(t,e){var n,r=0,i={height:t};for(e=e?1:0;4>r;r+=2-e)n=$e[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function D(t,e,n){for(var r,i=(nn[e]||[]).concat(nn["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,e,t))return r}function F(t,e,n){var r,i,o,a,s,l,u,c,f=this,h={},p=t.style,d=t.nodeType&&Ce(t),g=ve.get(t,"fxshow");n.queue||(s=J._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,J.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],u=J.css(t,"display"),c="none"===u?ve.get(t,"olddisplay")||w(t.nodeName):u,"inline"===c&&"none"===J.css(t,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in e)if(i=e[r],Ze.exec(i)){if(delete e[r],o=o||"toggle"===i,i===(d?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;d=!0}h[r]=g&&g[r]||J.style(t,r)}else u=void 0;if(J.isEmptyObject(h))"inline"===("none"===u?w(t.nodeName):u)&&(p.display=u);else{g?"hidden"in g&&(d=g.hidden):g=ve.access(t,"fxshow",{}),o&&(g.hidden=!d),d?J(t).show():f.done(function(){J(t).hide()}),f.done(function(){var e;ve.remove(t,"fxshow");for(e in h)J.style(t,e,h[e])});for(r in h)a=D(d?g[r]:0,r,f),r in g||(g[r]=a.start,d&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function O(t,e){var n,r,i,o,a;for(n in t)if(r=J.camelCase(n),i=e[r],o=t[n],J.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),a=J.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete t[r];for(n in o)n in t||(t[n]=o[n],e[n]=i)}else e[r]=i}function P(t,e,n){var r,i,o=0,a=en.length,s=J.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var e=Ke||A(),n=Math.max(0,u.startTime+u.duration-e),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;l>a;a++)u.tweens[a].run(o);return s.notifyWith(t,[u,o,n]),1>o&&l?n:(s.resolveWith(t,[u]),!1)},u=s.promise({elem:t,props:J.extend({},e),opts:J.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Ke||A(),duration:n.duration,tweens:[],createTween:function(e,n){var r=J.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(r),r},stop:function(e){var n=0,r=e?u.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)u.tweens[n].run(1);return e?s.resolveWith(t,[u,e]):s.rejectWith(t,[u,e]),this}}),c=u.props;for(O(c,u.opts.specialEasing);a>o;o++)if(r=en[o].call(u,t,c,u.opts))return r;return J.map(c,D,u),J.isFunction(u.opts.start)&&u.opts.start.call(t,u),J.fx.timer(J.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function L(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(pe)||[];if(J.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function I(t,e,n,r){function i(s){var l;return o[s]=!0,J.each(t[s]||[],function(t,s){var u=s(e,n,r);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(e.dataTypes.unshift(u),i(u),!1)}),l}var o={},a=t===wn;return i(e.dataTypes[0])||!o["*"]&&i("*")}function N(t,e){var n,r,i=J.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&J.extend(!0,t,r),t}function j(t,e,n){for(var r,i,o,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||t.converters[i+" "+l[0]]){o=i;break}a||(a=i)}o=o||a}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function R(t,e,n,r){var i,o,a,s,l,u={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)u[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(i in u)if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[i]:u[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(f){return{state:"parsererror",error:a?f:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function z(t,e,n,r){var i;if(J.isArray(e))J.each(e,function(e,i){n||kn.test(t)?r(t,i):z(t+"["+("object"==typeof i?e:"")+"]",i,n,r)});else if(n||"object"!==J.type(e))r(t,e);else for(i in e)z(t+"["+i+"]",e[i],n,r)}function H(t){return J.isWindow(t)?t:9===t.nodeType&&t.defaultView}var B=[],q=B.slice,W=B.concat,V=B.push,U=B.indexOf,Y={},G=Y.toString,X=Y.hasOwnProperty,K={},Q=t.document,Z="2.1.3",J=function(t,e){return new J.fn.init(t,e)},te=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ee=/^-ms-/,ne=/-([\da-z])/gi,re=function(t,e){return e.toUpperCase()};J.fn=J.prototype={jquery:Z,constructor:J,selector:"",length:0,toArray:function(){return q.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:q.call(this)},pushStack:function(t){var e=J.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return J.each(this,t,e)},map:function(t){return this.pushStack(J.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(q.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:V,sort:B.sort,splice:B.splice},J.extend=J.fn.extend=function(){var t,e,n,r,i,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||J.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],r=t[e],a!==r&&(u&&r&&(J.isPlainObject(r)||(i=J.isArray(r)))?(i?(i=!1,o=n&&J.isArray(n)?n:[]):o=n&&J.isPlainObject(n)?n:{},a[e]=J.extend(u,o,r)):void 0!==r&&(a[e]=r));return a},J.extend({expando:"jQuery"+(Z+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===J.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!J.isArray(t)&&t-parseFloat(t)+1>=0},isPlainObject:function(t){return"object"!==J.type(t)||t.nodeType||J.isWindow(t)?!1:t.constructor&&!X.call(t.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?Y[G.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=J.trim(t),t&&(1===t.indexOf("use strict")?(e=Q.createElement("script"),e.text=t,Q.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(ee,"ms-").replace(ne,re)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,r){var i,o=0,a=t.length,s=n(t);if(r){if(s)for(;a>o&&(i=e.apply(t[o],r),i!==!1);o++);else for(o in t)if(i=e.apply(t[o],r),i===!1)break}else if(s)for(;a>o&&(i=e.call(t[o],o,t[o]),i!==!1);o++);else for(o in t)if(i=e.call(t[o],o,t[o]),i===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(te,"")},makeArray:function(t,e){var r=e||[];return null!=t&&(n(Object(t))?J.merge(r,"string"==typeof t?[t]:t):V.call(r,t)),r},inArray:function(t,e,n){return null==e?-1:U.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;n>r;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r,i=[],o=0,a=t.length,s=!n;a>o;o++)r=!e(t[o],o),r!==s&&i.push(t[o]);return i},map:function(t,e,r){var i,o=0,a=t.length,s=n(t),l=[];if(s)for(;a>o;o++)i=e(t[o],o,r),null!=i&&l.push(i);else for(o in t)i=e(t[o],o,r),null!=i&&l.push(i);return W.apply([],l)},guid:1,proxy:function(t,e){var n,r,i;return"string"==typeof e&&(n=t[e],e=t,t=n),J.isFunction(t)?(r=q.call(arguments,2),i=function(){return t.apply(e||this,r.concat(q.call(arguments)))},i.guid=t.guid=t.guid||J.guid++,i):void 0},now:Date.now,support:K}),J.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Y["[object "+e+"]"]=e.toLowerCase()});var ie=/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
function(t){function e(t,e,n,r){var i,o,a,s,l,u,f,p,d,g;if((e?e.ownerDocument||e:z)!==F&&D(e),e=e||F,n=n||[],s=e.nodeType,"string"!=typeof t||!t||1!==s&&9!==s&&11!==s)return n;if(!r&&P){if(11!==s&&(i=ye.exec(t)))if(a=i[1]){if(9===s){if(o=e.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(a))&&j(e,o)&&o.id===a)return n.push(o),n}else{if(i[2])return Z.apply(n,e.getElementsByTagName(t)),n;if((a=i[3])&&x.getElementsByClassName)return Z.apply(n,e.getElementsByClassName(a)),n}if(x.qsa&&(!L||!L.test(t))){if(p=f=R,d=e,g=1!==s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(u=k(t),(f=e.getAttribute("id"))?p=f.replace(we,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",l=u.length;l--;)u[l]=p+h(u[l]);d=be.test(t)&&c(e.parentNode)||e,g=u.join(",")}if(g)try{return Z.apply(n,d.querySelectorAll(g)),n}catch(m){}finally{f||e.removeAttribute("id")}}}return M(t.replace(le,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>$.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[R]=!0,t}function i(t){var e=F.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),r=t.length;r--;)$.attrHandle[n[r]]=e}function a(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Y)-(~t.sourceIndex||Y);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return r(function(e){return e=+e,r(function(n,r){for(var i,o=t([],n.length,e),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function f(){}function h(t){for(var e=0,n=t.length,r="";n>e;e++)r+=t[e].value;return r}function p(t,e,n){var r=e.dir,i=n&&"parentNode"===r,o=B++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||i)return t(e,n,o)}:function(e,n,a){var s,l,u=[H,o];if(a){for(;e=e[r];)if((1===e.nodeType||i)&&t(e,n,a))return!0}else for(;e=e[r];)if(1===e.nodeType||i){if(l=e[R]||(e[R]={}),(s=l[r])&&s[0]===H&&s[1]===o)return u[2]=s[2];if(l[r]=u,u[2]=t(e,n,a))return!0}}}function d(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function g(t,n,r){for(var i=0,o=n.length;o>i;i++)e(t,n[i],r);return r}function m(t,e,n,r,i){for(var o,a=[],s=0,l=t.length,u=null!=e;l>s;s++)(o=t[s])&&(!n||n(o,r,i))&&(a.push(o),u&&e.push(s));return a}function v(t,e,n,i,o,a){return i&&!i[R]&&(i=v(i)),o&&!o[R]&&(o=v(o,a)),r(function(r,a,s,l){var u,c,f,h=[],p=[],d=a.length,v=r||g(e||"*",s.nodeType?[s]:s,[]),y=!t||!r&&e?v:m(v,h,t,s,l),b=n?o||(r?t:d||i)?[]:a:y;if(n&&n(y,b,s,l),i)for(u=m(b,p),i(u,[],s,l),c=u.length;c--;)(f=u[c])&&(b[p[c]]=!(y[p[c]]=f));if(r){if(o||t){if(o){for(u=[],c=b.length;c--;)(f=b[c])&&u.push(y[c]=f);o(null,b=[],u,l)}for(c=b.length;c--;)(f=b[c])&&(u=o?te(r,f):h[c])>-1&&(r[u]=!(a[u]=f))}}else b=m(b===a?b.splice(d,b.length):b),o?o(null,a,b,l):Z.apply(a,b)})}function y(t){for(var e,n,r,i=t.length,o=$.relative[t[0].type],a=o||$.relative[" "],s=o?1:0,l=p(function(t){return t===e},a,!0),u=p(function(t){return te(e,t)>-1},a,!0),c=[function(t,n,r){var i=!o&&(r||n!==_)||((e=n).nodeType?l(t,n,r):u(t,n,r));return e=null,i}];i>s;s++)if(n=$.relative[t[s].type])c=[p(d(c),n)];else{if(n=$.filter[t[s].type].apply(null,t[s].matches),n[R]){for(r=++s;i>r&&!$.relative[t[r].type];r++);return v(s>1&&d(c),s>1&&h(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(le,"$1"),n,r>s&&y(t.slice(s,r)),i>r&&y(t=t.slice(r)),i>r&&h(t))}c.push(n)}return d(c)}function b(t,n){var i=n.length>0,o=t.length>0,a=function(r,a,s,l,u){var c,f,h,p=0,d="0",g=r&&[],v=[],y=_,b=r||o&&$.find.TAG("*",u),w=H+=null==y?1:Math.random()||.1,x=b.length;for(u&&(_=a!==F&&a);d!==x&&null!=(c=b[d]);d++){if(o&&c){for(f=0;h=t[f++];)if(h(c,a,s)){l.push(c);break}u&&(H=w)}i&&((c=!h&&c)&&p--,r&&g.push(c))}if(p+=d,i&&d!==p){for(f=0;h=n[f++];)h(g,v,a,s);if(r){if(p>0)for(;d--;)g[d]||v[d]||(v[d]=K.call(l));v=m(v)}Z.apply(l,v),u&&!r&&v.length>0&&p+n.length>1&&e.uniqueSort(l)}return u&&(H=w,_=y),g};return i?r(a):a}var w,x,$,C,S,k,T,M,_,A,E,D,F,O,P,L,I,N,j,R="sizzle"+1*new Date,z=t.document,H=0,B=0,q=n(),W=n(),V=n(),U=function(t,e){return t===e&&(E=!0),0},Y=1<<31,G={}.hasOwnProperty,X=[],K=X.pop,Q=X.push,Z=X.push,J=X.slice,te=function(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n;return-1},ee="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=re.replace("w","w#"),oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",ae=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),fe=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),he=new RegExp(ae),pe=new RegExp("^"+ie+"$"),de={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+ee+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},ge=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,we=/'|\\/g,xe=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),$e=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Ce=function(){D()};try{Z.apply(X=J.call(z.childNodes),z.childNodes),X[z.childNodes.length].nodeType}catch(Se){Z={apply:X.length?function(t,e){Q.apply(t,J.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}x=e.support={},S=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},D=e.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:z;return r!==F&&9===r.nodeType&&r.documentElement?(F=r,O=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),P=!S(r),x.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=i(function(t){return t.appendChild(r.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=ve.test(r.getElementsByClassName),x.getById=i(function(t){return O.appendChild(t).id=R,!r.getElementsByName||!r.getElementsByName(R).length}),x.getById?($.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&P){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},$.filter.ID=function(t){var e=t.replace(xe,$e);return function(t){return t.getAttribute("id")===e}}):(delete $.find.ID,$.filter.ID=function(t){var e=t.replace(xe,$e);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),$.find.TAG=x.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},$.find.CLASS=x.getElementsByClassName&&function(t,e){return P?e.getElementsByClassName(t):void 0},I=[],L=[],(x.qsa=ve.test(r.querySelectorAll))&&(i(function(t){O.appendChild(t).innerHTML="<a id='"+R+"'></a><select id='"+R+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+ne+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||L.push("\\["+ne+"*(?:value|"+ee+")"),t.querySelectorAll("[id~="+R+"-]").length||L.push("~="),t.querySelectorAll(":checked").length||L.push(":checked"),t.querySelectorAll("a#"+R+"+*").length||L.push(".#.+[+~]")}),i(function(t){var e=r.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&L.push("name"+ne+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(x.matchesSelector=ve.test(N=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&i(function(t){x.disconnectedMatch=N.call(t,"div"),N.call(t,"[s!='']:x"),I.push("!=",ae)}),L=L.length&&new RegExp(L.join("|")),I=I.length&&new RegExp(I.join("|")),e=ve.test(O.compareDocumentPosition),j=e||ve.test(O.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},U=e?function(t,e){if(t===e)return E=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!x.sortDetached&&e.compareDocumentPosition(t)===n?t===r||t.ownerDocument===z&&j(z,t)?-1:e===r||e.ownerDocument===z&&j(z,e)?1:A?te(A,t)-te(A,e):0:4&n?-1:1)}:function(t,e){if(t===e)return E=!0,0;var n,i=0,o=t.parentNode,s=e.parentNode,l=[t],u=[e];if(!o||!s)return t===r?-1:e===r?1:o?-1:s?1:A?te(A,t)-te(A,e):0;if(o===s)return a(t,e);for(n=t;n=n.parentNode;)l.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;l[i]===u[i];)i++;return i?a(l[i],u[i]):l[i]===z?-1:u[i]===z?1:0},r):F},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==F&&D(t),n=n.replace(fe,"='$1']"),!(!x.matchesSelector||!P||I&&I.test(n)||L&&L.test(n)))try{var r=N.call(t,n);if(r||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(i){}return e(n,F,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==F&&D(t),j(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==F&&D(t);var n=$.attrHandle[e.toLowerCase()],r=n&&G.call($.attrHandle,e.toLowerCase())?n(t,e,!P):void 0;return void 0!==r?r:x.attributes||!P?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,i=0;if(E=!x.detectDuplicates,A=!x.sortStable&&t.slice(0),t.sort(U),E){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return A=null,t},C=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=C(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=C(e);return n},$=e.selectors={cacheLength:50,createPseudo:r,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(xe,$e),t[3]=(t[3]||t[4]||t[5]||"").replace(xe,$e),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return de.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&he.test(n)&&(e=k(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(xe,$e).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=q[t+" "];return e||(e=new RegExp("(^|"+ne+")"+t+"("+ne+"|$)"))&&q(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(se," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,l){var u,c,f,h,p,d,g=o!==a?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s;if(m){if(o){for(;g;){for(f=e;f=f[g];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;d=g="only"===t&&!d&&"nextSibling"}return!0}if(d=[a?m.firstChild:m.lastChild],a&&y){for(c=m[R]||(m[R]={}),u=c[t]||[],p=u[0]===H&&u[1],h=u[0]===H&&u[2],f=p&&m.childNodes[p];f=++p&&f&&f[g]||(h=p=0)||d.pop();)if(1===f.nodeType&&++h&&f===e){c[t]=[H,p,h];break}}else if(y&&(u=(e[R]||(e[R]={}))[t])&&u[0]===H)h=u[1];else for(;(f=++p&&f&&f[g]||(h=p=0)||d.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++h||(y&&((f[R]||(f[R]={}))[t]=[H,h]),f!==e)););return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(t,n){var i,o=$.pseudos[t]||$.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[R]?o(n):o.length>1?(i=[t,t,"",n],$.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,i=o(t,n),a=i.length;a--;)r=te(t,i[a]),t[r]=!(e[r]=i[a])}):function(t){return o(t,0,i)}):o}},pseudos:{not:r(function(t){var e=[],n=[],i=T(t.replace(le,"$1"));return i[R]?r(function(t,e,n,r){for(var o,a=i(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return t=t.replace(xe,$e),function(e){return(e.textContent||e.innerText||C(e)).indexOf(t)>-1}}),lang:r(function(t){return pe.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(xe,$e).toLowerCase(),function(e){var n;do if(n=P?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===O},focus:function(t){return t===F.activeElement&&(!F.hasFocus||F.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!$.pseudos.empty(t)},header:function(t){return me.test(t.nodeName)},input:function(t){return ge.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[0>n?n+e:n]}),even:u(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var r=0>n?n+e:n;--r>=0;)t.push(r);return t}),gt:u(function(t,e,n){for(var r=0>n?n+e:n;++r<e;)t.push(r);return t})}},$.pseudos.nth=$.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})$.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})$.pseudos[w]=l(w);return f.prototype=$.filters=$.pseudos,$.setFilters=new f,k=e.tokenize=function(t,n){var r,i,o,a,s,l,u,c=W[t+" "];if(c)return n?0:c.slice(0);for(s=t,l=[],u=$.preFilter;s;){(!r||(i=ue.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=ce.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(le," ")}),s=s.slice(r.length));for(a in $.filter)!(i=de[a].exec(s))||u[a]&&!(i=u[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?e.error(t):W(t,l).slice(0)},T=e.compile=function(t,e){var n,r=[],i=[],o=V[t+" "];if(!o){for(e||(e=k(t)),n=e.length;n--;)o=y(e[n]),o[R]?r.push(o):i.push(o);o=V(t,b(i,r)),o.selector=t}return o},M=e.select=function(t,e,n,r){var i,o,a,s,l,u="function"==typeof t&&t,f=!r&&k(t=u.selector||t);if(n=n||[],1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&x.getById&&9===e.nodeType&&P&&$.relative[o[1].type]){if(e=($.find.ID(a.matches[0].replace(xe,$e),e)||[])[0],!e)return n;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=de.needsContext.test(t)?0:o.length;i--&&(a=o[i],!$.relative[s=a.type]);)if((l=$.find[s])&&(r=l(a.matches[0].replace(xe,$e),be.test(o[0].type)&&c(e.parentNode)||e))){if(o.splice(i,1),t=r.length&&h(o),!t)return Z.apply(n,r),n;break}}return(u||T(t,f))(r,e,!P,n,be.test(t)&&c(e.parentNode)||e),n},x.sortStable=R.split("").sort(U).join("")===R,x.detectDuplicates=!!E,D(),x.sortDetached=i(function(t){return 1&t.compareDocumentPosition(F.createElement("div"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||o(ee,function(t,e,n){var r;return n?void 0:t[e]===!0?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),e}(t);J.find=ie,J.expr=ie.selectors,J.expr[":"]=J.expr.pseudos,J.unique=ie.uniqueSort,J.text=ie.getText,J.isXMLDoc=ie.isXML,J.contains=ie.contains;var oe=J.expr.match.needsContext,ae=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,se=/^.[^:#\[\.,]*$/;J.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?J.find.matchesSelector(r,t)?[r]:[]:J.find.matches(t,J.grep(e,function(t){return 1===t.nodeType}))},J.fn.extend({find:function(t){var e,n=this.length,r=[],i=this;if("string"!=typeof t)return this.pushStack(J(t).filter(function(){for(e=0;n>e;e++)if(J.contains(i[e],this))return!0}));for(e=0;n>e;e++)J.find(t,i[e],r);return r=this.pushStack(n>1?J.unique(r):r),r.selector=this.selector?this.selector+" "+t:t,r},filter:function(t){return this.pushStack(r(this,t||[],!1))},not:function(t){return this.pushStack(r(this,t||[],!0))},is:function(t){return!!r(this,"string"==typeof t&&oe.test(t)?J(t):t||[],!1).length}});var le,ue=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ce=J.fn.init=function(t,e){var n,r;if(!t)return this;if("string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:ue.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||le).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof J?e[0]:e,J.merge(this,J.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:Q,!0)),ae.test(n[1])&&J.isPlainObject(e))for(n in e)J.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return r=Q.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=Q,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):J.isFunction(t)?"undefined"!=typeof le.ready?le.ready(t):t(J):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),J.makeArray(t,this))};ce.prototype=J.fn,le=J(Q);var fe=/^(?:parents|prev(?:Until|All))/,he={children:!0,contents:!0,next:!0,prev:!0};J.extend({dir:function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&J(t).is(n))break;r.push(t)}return r},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),J.fn.extend({has:function(t){var e=J(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(J.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,r=0,i=this.length,o=[],a=oe.test(t)||"string"!=typeof t?J(t,e||this.context):0;i>r;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&J.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?J.unique(o):o)},index:function(t){return t?"string"==typeof t?U.call(J(t),this[0]):U.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(J.unique(J.merge(this.get(),J(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),J.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return J.dir(t,"parentNode")},parentsUntil:function(t,e,n){return J.dir(t,"parentNode",n)},next:function(t){return i(t,"nextSibling")},prev:function(t){return i(t,"previousSibling")},nextAll:function(t){return J.dir(t,"nextSibling")},prevAll:function(t){return J.dir(t,"previousSibling")},nextUntil:function(t,e,n){return J.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return J.dir(t,"previousSibling",n)},siblings:function(t){return J.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return J.sibling(t.firstChild)},contents:function(t){return t.contentDocument||J.merge([],t.childNodes)}},function(t,e){J.fn[t]=function(n,r){var i=J.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=J.filter(r,i)),this.length>1&&(he[t]||J.unique(i),fe.test(t)&&i.reverse()),this.pushStack(i)}});var pe=/\S+/g,de={};J.Callbacks=function(t){t="string"==typeof t?de[t]||o(t):J.extend({},t);var e,n,r,i,a,s,l=[],u=!t.once&&[],c=function(o){for(e=t.memory&&o,n=!0,s=i||0,i=0,a=l.length,r=!0;l&&a>s;s++)if(l[s].apply(o[0],o[1])===!1&&t.stopOnFalse){e=!1;break}r=!1,l&&(u?u.length&&c(u.shift()):e?l=[]:f.disable())},f={add:function(){if(l){var n=l.length;!function o(e){J.each(e,function(e,n){var r=J.type(n);"function"===r?t.unique&&f.has(n)||l.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),r?a=l.length:e&&(i=n,c(e))}return this},remove:function(){return l&&J.each(arguments,function(t,e){for(var n;(n=J.inArray(e,l,n))>-1;)l.splice(n,1),r&&(a>=n&&a--,s>=n&&s--)}),this},has:function(t){return t?J.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=u=e=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,e||f.disable(),this},locked:function(){return!u},fireWith:function(t,e){return!l||n&&!u||(e=e||[],e=[t,e.slice?e.slice():e],r?u.push(e):c(e)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!n}};return f},J.extend({Deferred:function(t){var e=[["resolve","done",J.Callbacks("once memory"),"resolved"],["reject","fail",J.Callbacks("once memory"),"rejected"],["notify","progress",J.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var t=arguments;return J.Deferred(function(n){J.each(e,function(e,o){var a=J.isFunction(t[e])&&t[e];i[o[1]](function(){var t=a&&a.apply(this,arguments);t&&J.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?J.extend(t,r):r}},i={};return r.pipe=r.then,J.each(e,function(t,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),t&&t.call(i,i),i},when:function(t){var e,n,r,i=0,o=q.call(arguments),a=o.length,s=1!==a||t&&J.isFunction(t.promise)?a:0,l=1===s?t:J.Deferred(),u=function(t,n,r){return function(i){n[t]=this,r[t]=arguments.length>1?q.call(arguments):i,r===e?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(a>1)for(e=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&J.isFunction(o[i].promise)?o[i].promise().done(u(i,r,o)).fail(l.reject).progress(u(i,n,e)):--s;return s||l.resolveWith(r,o),l.promise()}});var ge;J.fn.ready=function(t){return J.ready.promise().done(t),this},J.extend({isReady:!1,readyWait:1,holdReady:function(t){t?J.readyWait++:J.ready(!0)},ready:function(t){(t===!0?--J.readyWait:J.isReady)||(J.isReady=!0,t!==!0&&--J.readyWait>0||(ge.resolveWith(Q,[J]),J.fn.triggerHandler&&(J(Q).triggerHandler("ready"),J(Q).off("ready"))))}}),J.ready.promise=function(e){return ge||(ge=J.Deferred(),"complete"===Q.readyState?setTimeout(J.ready):(Q.addEventListener("DOMContentLoaded",a,!1),t.addEventListener("load",a,!1))),ge.promise(e)},J.ready.promise();var me=J.access=function(t,e,n,r,i,o,a){var s=0,l=t.length,u=null==n;if("object"===J.type(n)){i=!0;for(s in n)J.access(t,e,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,J.isFunction(r)||(a=!0),u&&(a?(e.call(t,r),e=null):(u=e,e=function(t,e,n){return u.call(J(t),n)})),e))for(;l>s;s++)e(t[s],n,a?r:r.call(t[s],s,e(t[s],n)));return i?t:u?e.call(t):l?e(t[0],n):o};J.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},s.uid=1,s.accepts=J.acceptData,s.prototype={key:function(t){if(!s.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=s.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(r){e[this.expando]=n,J.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var r,i=this.key(t),o=this.cache[i];if("string"==typeof e)o[e]=n;else if(J.isEmptyObject(o))J.extend(this.cache[i],e);else for(r in e)o[r]=e[r];return o},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var r;return void 0===e||e&&"string"==typeof e&&void 0===n?(r=this.get(t,e),void 0!==r?r:this.get(t,J.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r,i,o=this.key(t),a=this.cache[o];if(void 0===e)this.cache[o]={};else{J.isArray(e)?r=e.concat(e.map(J.camelCase)):(i=J.camelCase(e),e in a?r=[e,i]:(r=i,r=r in a?[r]:r.match(pe)||[])),n=r.length;for(;n--;)delete a[r[n]]}},hasData:function(t){return!J.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var ve=new s,ye=new s,be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,we=/([A-Z])/g;J.extend({hasData:function(t){return ye.hasData(t)||ve.hasData(t)},data:function(t,e,n){return ye.access(t,e,n)},removeData:function(t,e){ye.remove(t,e)},_data:function(t,e,n){return ve.access(t,e,n)},_removeData:function(t,e){ve.remove(t,e)}}),J.fn.extend({data:function(t,e){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(i=ye.get(o),1===o.nodeType&&!ve.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=J.camelCase(r.slice(5)),l(o,r,i[r])));ve.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){ye.set(this,t)}):me(this,function(e){var n,r=J.camelCase(t);if(o&&void 0===e){if(n=ye.get(o,t),void 0!==n)return n;if(n=ye.get(o,r),void 0!==n)return n;if(n=l(o,r,void 0),void 0!==n)return n}else this.each(function(){var n=ye.get(this,r);ye.set(this,r,e),-1!==t.indexOf("-")&&void 0!==n&&ye.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){ye.remove(this,t)})}}),J.extend({queue:function(t,e,n){var r;return t?(e=(e||"fx")+"queue",r=ve.get(t,e),n&&(!r||J.isArray(n)?r=ve.access(t,e,J.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=J.queue(t,e),r=n.length,i=n.shift(),o=J._queueHooks(t,e),a=function(){J.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ve.get(t,n)||ve.access(t,n,{empty:J.Callbacks("once memory").add(function(){ve.remove(t,[e+"queue",n])})})}}),J.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?J.queue(this[0],t):void 0===e?this:this.each(function(){var n=J.queue(this,t,e);J._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&J.dequeue(this,t)})},dequeue:function(t){return this.each(function(){J.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=J.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)n=ve.get(o[a],t+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(e)}});var xe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,$e=["Top","Right","Bottom","Left"],Ce=function(t,e){return t=e||t,"none"===J.css(t,"display")||!J.contains(t.ownerDocument,t)},Se=/^(?:checkbox|radio)$/i;!function(){var t=Q.createDocumentFragment(),e=t.appendChild(Q.createElement("div")),n=Q.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),K.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",K.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var ke="undefined";K.focusinBubbles="onfocusin"in t;var Te=/^key/,Me=/^(?:mouse|pointer|contextmenu)|click/,_e=/^(?:focusinfocus|focusoutblur)$/,Ae=/^([^.]*)(?:\.(.+)|)$/;J.event={global:{},add:function(t,e,n,r,i){var o,a,s,l,u,c,f,h,p,d,g,m=ve.get(t);if(m)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=J.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(e){return typeof J!==ke&&J.event.triggered!==e.type?J.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(pe)||[""],u=e.length;u--;)s=Ae.exec(e[u])||[],p=g=s[1],d=(s[2]||"").split(".").sort(),p&&(f=J.event.special[p]||{},p=(i?f.delegateType:f.bindType)||p,f=J.event.special[p]||{},c=J.extend({type:p,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&J.expr.match.needsContext.test(i),namespace:d.join(".")},o),(h=l[p])||(h=l[p]=[],h.delegateCount=0,f.setup&&f.setup.call(t,r,d,a)!==!1||t.addEventListener&&t.addEventListener(p,a,!1)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,c):h.push(c),J.event.global[p]=!0)},remove:function(t,e,n,r,i){var o,a,s,l,u,c,f,h,p,d,g,m=ve.hasData(t)&&ve.get(t);if(m&&(l=m.events)){for(e=(e||"").match(pe)||[""],u=e.length;u--;)if(s=Ae.exec(e[u])||[],p=g=s[1],d=(s[2]||"").split(".").sort(),p){for(f=J.event.special[p]||{},p=(r?f.delegateType:f.bindType)||p,h=l[p]||[],s=s[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)c=h[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(h.splice(o,1),c.selector&&h.delegateCount--,f.remove&&f.remove.call(t,c));a&&!h.length&&(f.teardown&&f.teardown.call(t,d,m.handle)!==!1||J.removeEvent(t,p,m.handle),delete l[p])}else for(p in l)J.event.remove(t,p+e[u],n,r,!0);J.isEmptyObject(l)&&(delete m.handle,ve.remove(t,"events"))}},trigger:function(e,n,r,i){var o,a,s,l,u,c,f,h=[r||Q],p=X.call(e,"type")?e.type:e,d=X.call(e,"namespace")?e.namespace.split("."):[];if(a=s=r=r||Q,3!==r.nodeType&&8!==r.nodeType&&!_e.test(p+J.event.triggered)&&(p.indexOf(".")>=0&&(d=p.split("."),p=d.shift(),d.sort()),u=p.indexOf(":")<0&&"on"+p,e=e[J.expando]?e:new J.Event(p,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=d.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:J.makeArray(n,[e]),f=J.event.special[p]||{},i||!f.trigger||f.trigger.apply(r,n)!==!1)){if(!i&&!f.noBubble&&!J.isWindow(r)){for(l=f.delegateType||p,_e.test(l+p)||(a=a.parentNode);a;a=a.parentNode)h.push(a),s=a;
s===(r.ownerDocument||Q)&&h.push(s.defaultView||s.parentWindow||t)}for(o=0;(a=h[o++])&&!e.isPropagationStopped();)e.type=o>1?l:f.bindType||p,c=(ve.get(a,"events")||{})[e.type]&&ve.get(a,"handle"),c&&c.apply(a,n),c=u&&a[u],c&&c.apply&&J.acceptData(a)&&(e.result=c.apply(a,n),e.result===!1&&e.preventDefault());return e.type=p,i||e.isDefaultPrevented()||f._default&&f._default.apply(h.pop(),n)!==!1||!J.acceptData(r)||u&&J.isFunction(r[p])&&!J.isWindow(r)&&(s=r[u],s&&(r[u]=null),J.event.triggered=p,r[p](),J.event.triggered=void 0,s&&(r[u]=s)),e.result}},dispatch:function(t){t=J.event.fix(t);var e,n,r,i,o,a=[],s=q.call(arguments),l=(ve.get(this,"events")||{})[t.type]||[],u=J.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,t)!==!1){for(a=J.event.handlers.call(this,t,l),e=0;(i=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(o.namespace))&&(t.handleObj=o,t.data=o.data,r=((J.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s),void 0!==r&&(t.result=r)===!1&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,r,i,o,a=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==t.type){for(r=[],n=0;s>n;n++)o=e[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?J(i,this).index(l)>=0:J.find(i,this,null,[l]).length),r[i]&&r.push(o);r.length&&a.push({elem:l,handlers:r})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,r,i,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||Q,r=n.documentElement,i=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[J.expando])return t;var e,n,r,i=t.type,o=t,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Me.test(i)?this.mouseHooks:Te.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,t=new J.Event(o),e=r.length;e--;)n=r[e],t[n]=o[n];return t.target||(t.target=Q),3===t.target.nodeType&&(t.target=t.target.parentNode),a.filter?a.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==f()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&J.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return J.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,r){var i=J.extend(new J.Event,n,{type:t,isSimulated:!0,originalEvent:{}});r?J.event.trigger(i,null,e):J.event.dispatch.call(e,i),i.isDefaultPrevented()&&n.preventDefault()}},J.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},J.Event=function(t,e){return this instanceof J.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?u:c):this.type=t,e&&J.extend(this,e),this.timeStamp=t&&t.timeStamp||J.now(),void(this[J.expando]=!0)):new J.Event(t,e)},J.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=u,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=u,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=u,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},J.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){J.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return(!i||i!==r&&!J.contains(r,i))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),K.focusinBubbles||J.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){J.event.simulate(e,t.target,J.event.fix(t),!0)};J.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=ve.access(r,e);i||r.addEventListener(t,n,!0),ve.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ve.access(r,e)-1;i?ve.access(r,e,i):(r.removeEventListener(t,n,!0),ve.remove(r,e))}}}),J.fn.extend({on:function(t,e,n,r,i){var o,a;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(a in t)this.on(a,e,n,t[a],i);return this}if(null==n&&null==r?(r=e,n=e=void 0):null==r&&("string"==typeof e?(r=n,n=void 0):(r=n,n=e,e=void 0)),r===!1)r=c;else if(!r)return this;return 1===i&&(o=r,r=function(t){return J().off(t),o.apply(this,arguments)},r.guid=o.guid||(o.guid=J.guid++)),this.each(function(){J.event.add(this,t,r,n,e)})},one:function(t,e,n,r){return this.on(t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,J(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=c),this.each(function(){J.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){J.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?J.event.trigger(t,e,n,!0):void 0}});var Ee=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,De=/<([\w:]+)/,Fe=/<|&#?\w+;/,Oe=/<(?:script|style|link)/i,Pe=/checked\s*(?:[^=]|=\s*.checked.)/i,Le=/^$|\/(?:java|ecma)script/i,Ie=/^true\/(.*)/,Ne=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,je={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};je.optgroup=je.option,je.tbody=je.tfoot=je.colgroup=je.caption=je.thead,je.th=je.td,J.extend({clone:function(t,e,n){var r,i,o,a,s=t.cloneNode(!0),l=J.contains(t.ownerDocument,t);if(!(K.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||J.isXMLDoc(t)))for(a=v(s),o=v(t),r=0,i=o.length;i>r;r++)y(o[r],a[r]);if(e)if(n)for(o=o||v(t),a=a||v(s),r=0,i=o.length;i>r;r++)m(o[r],a[r]);else m(t,s);return a=v(s,"script"),a.length>0&&g(a,!l&&v(t,"script")),s},buildFragment:function(t,e,n,r){for(var i,o,a,s,l,u,c=e.createDocumentFragment(),f=[],h=0,p=t.length;p>h;h++)if(i=t[h],i||0===i)if("object"===J.type(i))J.merge(f,i.nodeType?[i]:i);else if(Fe.test(i)){for(o=o||c.appendChild(e.createElement("div")),a=(De.exec(i)||["",""])[1].toLowerCase(),s=je[a]||je._default,o.innerHTML=s[1]+i.replace(Ee,"<$1></$2>")+s[2],u=s[0];u--;)o=o.lastChild;J.merge(f,o.childNodes),o=c.firstChild,o.textContent=""}else f.push(e.createTextNode(i));for(c.textContent="",h=0;i=f[h++];)if((!r||-1===J.inArray(i,r))&&(l=J.contains(i.ownerDocument,i),o=v(c.appendChild(i),"script"),l&&g(o),n))for(u=0;i=o[u++];)Le.test(i.type||"")&&n.push(i);return c},cleanData:function(t){for(var e,n,r,i,o=J.event.special,a=0;void 0!==(n=t[a]);a++){if(J.acceptData(n)&&(i=n[ve.expando],i&&(e=ve.cache[i]))){if(e.events)for(r in e.events)o[r]?J.event.remove(n,r):J.removeEvent(n,r,e.handle);ve.cache[i]&&delete ve.cache[i]}delete ye.cache[n[ye.expando]]}}}),J.fn.extend({text:function(t){return me(this,function(t){return void 0===t?J.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=h(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=h(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,r=t?J.filter(t,this):this,i=0;null!=(n=r[i]);i++)e||1!==n.nodeType||J.cleanData(v(n)),n.parentNode&&(e&&J.contains(n.ownerDocument,n)&&g(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(J.cleanData(v(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return J.clone(this,t,e)})},html:function(t){return me(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Oe.test(t)&&!je[(De.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Ee,"<$1></$2>");try{for(;r>n;n++)e=this[n]||{},1===e.nodeType&&(J.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(i){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,J.cleanData(v(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=W.apply([],t);var n,r,i,o,a,s,l=0,u=this.length,c=this,f=u-1,h=t[0],g=J.isFunction(h);if(g||u>1&&"string"==typeof h&&!K.checkClone&&Pe.test(h))return this.each(function(n){var r=c.eq(n);g&&(t[0]=h.call(this,n,r.html())),r.domManip(t,e)});if(u&&(n=J.buildFragment(t,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(i=J.map(v(n,"script"),p),o=i.length;u>l;l++)a=n,l!==f&&(a=J.clone(a,!0,!0),o&&J.merge(i,v(a,"script"))),e.call(this[l],a,l);if(o)for(s=i[i.length-1].ownerDocument,J.map(i,d),l=0;o>l;l++)a=i[l],Le.test(a.type||"")&&!ve.access(a,"globalEval")&&J.contains(s,a)&&(a.src?J._evalUrl&&J._evalUrl(a.src):J.globalEval(a.textContent.replace(Ne,"")))}return this}}),J.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){J.fn[t]=function(t){for(var n,r=[],i=J(t),o=i.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),J(i[a])[e](n),V.apply(r,n.get());return this.pushStack(r)}});var Re,ze={},He=/^margin/,Be=new RegExp("^("+xe+")(?!px)[a-z%]+$","i"),qe=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)};!function(){function e(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",i.appendChild(o);var e=t.getComputedStyle(a,null);n="1%"!==e.top,r="4px"===e.width,i.removeChild(o)}var n,r,i=Q.documentElement,o=Q.createElement("div"),a=Q.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",K.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(a),t.getComputedStyle&&J.extend(K,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==r&&e(),r},reliableMarginRight:function(){var e,n=a.appendChild(Q.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",i.appendChild(o),e=!parseFloat(t.getComputedStyle(n,null).marginRight),i.removeChild(o),a.removeChild(n),e}}))}(),J.swap=function(t,e,n,r){var i,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];i=n.apply(t,r||[]);for(o in e)t.style[o]=a[o];return i};var We=/^(none|table(?!-c[ea]).+)/,Ve=new RegExp("^("+xe+")(.*)$","i"),Ue=new RegExp("^([+-])=("+xe+")","i"),Ye={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:"0",fontWeight:"400"},Xe=["Webkit","O","Moz","ms"];J.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=x(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,a,s=J.camelCase(e),l=t.style;return e=J.cssProps[s]||(J.cssProps[s]=C(l,s)),a=J.cssHooks[e]||J.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(t,!1,r))?i:l[e]:(o=typeof n,"string"===o&&(i=Ue.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(J.css(t,e)),o="number"),null!=n&&n===n&&("number"!==o||J.cssNumber[s]||(n+="px"),K.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,r))||(l[e]=n)),void 0)}},css:function(t,e,n,r){var i,o,a,s=J.camelCase(e);return e=J.cssProps[s]||(J.cssProps[s]=C(t.style,s)),a=J.cssHooks[e]||J.cssHooks[s],a&&"get"in a&&(i=a.get(t,!0,n)),void 0===i&&(i=x(t,e,r)),"normal"===i&&e in Ge&&(i=Ge[e]),""===n||n?(o=parseFloat(i),n===!0||J.isNumeric(o)?o||0:i):i}}),J.each(["height","width"],function(t,e){J.cssHooks[e]={get:function(t,n,r){return n?We.test(J.css(t,"display"))&&0===t.offsetWidth?J.swap(t,Ye,function(){return T(t,e,r)}):T(t,e,r):void 0},set:function(t,n,r){var i=r&&qe(t);return S(t,n,r?k(t,e,r,"border-box"===J.css(t,"boxSizing",!1,i),i):0)}}}),J.cssHooks.marginRight=$(K.reliableMarginRight,function(t,e){return e?J.swap(t,{display:"inline-block"},x,[t,"marginRight"]):void 0}),J.each({margin:"",padding:"",border:"Width"},function(t,e){J.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[t+$e[r]+e]=o[r]||o[r-2]||o[0];return i}},He.test(t)||(J.cssHooks[t+e].set=S)}),J.fn.extend({css:function(t,e){return me(this,function(t,e,n){var r,i,o={},a=0;if(J.isArray(e)){for(r=qe(t),i=e.length;i>a;a++)o[e[a]]=J.css(t,e[a],!1,r);return o}return void 0!==n?J.style(t,e,n):J.css(t,e)},t,e,arguments.length>1)},show:function(){return M(this,!0)},hide:function(){return M(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ce(this)?J(this).show():J(this).hide()})}}),J.Tween=_,_.prototype={constructor:_,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||"swing",this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(J.cssNumber[n]?"":"px")},cur:function(){var t=_.propHooks[this.prop];return t&&t.get?t.get(this):_.propHooks._default.get(this)},run:function(t){var e,n=_.propHooks[this.prop];return this.pos=e=this.options.duration?J.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):_.propHooks._default.set(this),this}},_.prototype.init.prototype=_.prototype,_.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=J.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){J.fx.step[t.prop]?J.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[J.cssProps[t.prop]]||J.cssHooks[t.prop])?J.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},_.propHooks.scrollTop=_.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},J.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},J.fx=_.prototype.init,J.fx.step={};var Ke,Qe,Ze=/^(?:toggle|show|hide)$/,Je=new RegExp("^(?:([+-])=|)("+xe+")([a-z%]*)$","i"),tn=/queueHooks$/,en=[F],nn={"*":[function(t,e){var n=this.createTween(t,e),r=n.cur(),i=Je.exec(e),o=i&&i[3]||(J.cssNumber[t]?"":"px"),a=(J.cssNumber[t]||"px"!==o&&+r)&&Je.exec(J.css(n.elem,t)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,J.style(n.elem,t,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--l)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};J.Animation=J.extend(P,{tweener:function(t,e){J.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,r=0,i=t.length;i>r;r++)n=t[r],nn[n]=nn[n]||[],nn[n].unshift(e)},prefilter:function(t,e){e?en.unshift(t):en.push(t)}}),J.speed=function(t,e,n){var r=t&&"object"==typeof t?J.extend({},t):{complete:n||!n&&e||J.isFunction(t)&&t,duration:t,easing:n&&e||e&&!J.isFunction(e)&&e};return r.duration=J.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in J.fx.speeds?J.fx.speeds[r.duration]:J.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){J.isFunction(r.old)&&r.old.call(this),r.queue&&J.dequeue(this,r.queue)},r},J.fn.extend({fadeTo:function(t,e,n,r){return this.filter(Ce).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=J.isEmptyObject(t),o=J.speed(e,n,r),a=function(){var e=P(this,J.extend({},t),o);(i||ve.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=J.timers,a=ve.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&tn.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));(e||!n)&&J.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=ve.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=J.timers,a=r?r.length:0;for(n.finish=!0,J.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;a>e;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),J.each(["toggle","show","hide"],function(t,e){var n=J.fn[e];J.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(E(e,!0),t,r,i)}}),J.each({slideDown:E("show"),slideUp:E("hide"),slideToggle:E("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){J.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),J.timers=[],J.fx.tick=function(){var t,e=0,n=J.timers;for(Ke=J.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||J.fx.stop(),Ke=void 0},J.fx.timer=function(t){J.timers.push(t),t()?J.fx.start():J.timers.pop()},J.fx.interval=13,J.fx.start=function(){Qe||(Qe=setInterval(J.fx.tick,J.fx.interval))},J.fx.stop=function(){clearInterval(Qe),Qe=null},J.fx.speeds={slow:600,fast:200,_default:400},J.fn.delay=function(t,e){return t=J.fx?J.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var r=setTimeout(e,t);n.stop=function(){clearTimeout(r)}})},function(){var t=Q.createElement("input"),e=Q.createElement("select"),n=e.appendChild(Q.createElement("option"));t.type="checkbox",K.checkOn=""!==t.value,K.optSelected=n.selected,e.disabled=!0,K.optDisabled=!n.disabled,t=Q.createElement("input"),t.value="t",t.type="radio",K.radioValue="t"===t.value}();var rn,on,an=J.expr.attrHandle;J.fn.extend({attr:function(t,e){return me(this,J.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){J.removeAttr(this,t)})}}),J.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===ke?J.prop(t,e,n):(1===o&&J.isXMLDoc(t)||(e=e.toLowerCase(),r=J.attrHooks[e]||(J.expr.match.bool.test(e)?on:rn)),void 0===n?r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=J.find.attr(t,e),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):void J.removeAttr(t,e))},removeAttr:function(t,e){var n,r,i=0,o=e&&e.match(pe);if(o&&1===t.nodeType)for(;n=o[i++];)r=J.propFix[n]||n,J.expr.match.bool.test(n)&&(t[r]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!K.radioValue&&"radio"===e&&J.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),on={set:function(t,e,n){return e===!1?J.removeAttr(t,n):t.setAttribute(n,n),n}},J.each(J.expr.match.bool.source.match(/\w+/g),function(t,e){var n=an[e]||J.find.attr;an[e]=function(t,e,r){var i,o;return r||(o=an[e],an[e]=i,i=null!=n(t,e,r)?e.toLowerCase():null,an[e]=o),i}});var sn=/^(?:input|select|textarea|button)$/i;J.fn.extend({prop:function(t,e){return me(this,J.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[J.propFix[t]||t]})}}),J.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var r,i,o,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return o=1!==a||!J.isXMLDoc(t),o&&(e=J.propFix[e]||e,i=J.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||sn.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),K.optSelected||(J.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),J.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){J.propFix[this.toLowerCase()]=this});var ln=/[\t\r\n\f]/g;J.fn.extend({addClass:function(t){var e,n,r,i,o,a,s="string"==typeof t&&t,l=0,u=this.length;if(J.isFunction(t))return this.each(function(e){J(this).addClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(pe)||[];u>l;l++)if(n=this[l],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ln," "):" ")){for(o=0;i=e[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=J.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(t){var e,n,r,i,o,a,s=0===arguments.length||"string"==typeof t&&t,l=0,u=this.length;if(J.isFunction(t))return this.each(function(e){J(this).removeClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(pe)||[];u>l;l++)if(n=this[l],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ln," "):"")){for(o=0;i=e[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=t?J.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(J.isFunction(t)?function(n){J(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"===n)for(var e,r=0,i=J(this),o=t.match(pe)||[];e=o[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else(n===ke||"boolean"===n)&&(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||t===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(ln," ").indexOf(e)>=0)return!0;return!1}});var un=/\r/g;J.fn.extend({val:function(t){var e,n,r,i=this[0];{if(arguments.length)return r=J.isFunction(t),this.each(function(n){var i;1===this.nodeType&&(i=r?t.call(this,n,J(this).val()):t,null==i?i="":"number"==typeof i?i+="":J.isArray(i)&&(i=J.map(i,function(t){return null==t?"":t+""})),e=J.valHooks[this.type]||J.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))});if(i)return e=J.valHooks[i.type]||J.valHooks[i.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(un,""):null==n?"":n)}}}),J.extend({valHooks:{option:{get:function(t){var e=J.find.attr(t,"value");return null!=e?e:J.trim(J.text(t))}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,o="select-one"===t.type||0>i,a=o?null:[],s=o?i+1:r.length,l=0>i?s:o?i:0;s>l;l++)if(n=r[l],!(!n.selected&&l!==i||(K.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&J.nodeName(n.parentNode,"optgroup"))){if(e=J(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,r,i=t.options,o=J.makeArray(e),a=i.length;a--;)r=i[a],(r.selected=J.inArray(r.value,o)>=0)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),J.each(["radio","checkbox"],function(){J.valHooks[this]={set:function(t,e){return J.isArray(e)?t.checked=J.inArray(J(t).val(),e)>=0:void 0}},K.checkOn||(J.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),J.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){J.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),J.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var cn=J.now(),fn=/\?/;J.parseJSON=function(t){return JSON.parse(t+"")},J.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{n=new DOMParser,e=n.parseFromString(t,"text/xml")}catch(r){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&J.error("Invalid XML: "+t),e};var hn=/#.*$/,pn=/([?&])_=[^&]*/,dn=/^(.*?):[ \t]*([^\r\n]*)$/gm,gn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,mn=/^(?:GET|HEAD)$/,vn=/^\/\//,yn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,bn={},wn={},xn="*/".concat("*"),$n=t.location.href,Cn=yn.exec($n.toLowerCase())||[];J.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:$n,type:"GET",isLocal:gn.test(Cn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":xn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":J.parseJSON,"text xml":J.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?N(N(t,J.ajaxSettings),e):N(J.ajaxSettings,t)},ajaxPrefilter:L(bn),ajaxTransport:L(wn),ajax:function(t,e){function n(t,e,n,a){var l,c,v,y,w,$=e;2!==b&&(b=2,s&&clearTimeout(s),r=void 0,o=a||"",x.readyState=t>0?4:0,l=t>=200&&300>t||304===t,n&&(y=j(f,x,n)),y=R(f,y,x,l),l?(f.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(J.lastModified[i]=w),w=x.getResponseHeader("etag"),w&&(J.etag[i]=w)),204===t||"HEAD"===f.type?$="nocontent":304===t?$="notmodified":($=y.state,c=y.data,v=y.error,l=!v)):(v=$,(t||!$)&&($="error",0>t&&(t=0))),x.status=t,x.statusText=(e||$)+"",l?d.resolveWith(h,[c,$,x]):d.rejectWith(h,[x,$,v]),x.statusCode(m),m=void 0,u&&p.trigger(l?"ajaxSuccess":"ajaxError",[x,f,l?c:v]),g.fireWith(h,[x,$]),u&&(p.trigger("ajaxComplete",[x,f]),--J.active||J.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,i,o,a,s,l,u,c,f=J.ajaxSetup({},e),h=f.context||f,p=f.context&&(h.nodeType||h.jquery)?J(h):J.event,d=J.Deferred(),g=J.Callbacks("once memory"),m=f.statusCode||{},v={},y={},b=0,w="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!a)for(a={};e=dn.exec(o);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return b||(t=y[n]=y[n]||t,v[t]=e),this},overrideMimeType:function(t){return b||(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>b)for(e in t)m[e]=[m[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||w;return r&&r.abort(e),n(0,e),this}};if(d.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,f.url=((t||f.url||$n)+"").replace(hn,"").replace(vn,Cn[1]+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=J.trim(f.dataType||"*").toLowerCase().match(pe)||[""],null==f.crossDomain&&(l=yn.exec(f.url.toLowerCase()),f.crossDomain=!(!l||l[1]===Cn[1]&&l[2]===Cn[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(Cn[3]||("http:"===Cn[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=J.param(f.data,f.traditional)),I(bn,f,e,x),2===b)return x;u=J.event&&f.global,u&&0===J.active++&&J.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!mn.test(f.type),i=f.url,f.hasContent||(f.data&&(i=f.url+=(fn.test(i)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=pn.test(i)?i.replace(pn,"$1_="+cn++):i+(fn.test(i)?"&":"?")+"_="+cn++)),f.ifModified&&(J.lastModified[i]&&x.setRequestHeader("If-Modified-Since",J.lastModified[i]),J.etag[i]&&x.setRequestHeader("If-None-Match",J.etag[i])),(f.data&&f.hasContent&&f.contentType!==!1||e.contentType)&&x.setRequestHeader("Content-Type",f.contentType),x.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+xn+"; q=0.01":""):f.accepts["*"]);for(c in f.headers)x.setRequestHeader(c,f.headers[c]);if(f.beforeSend&&(f.beforeSend.call(h,x,f)===!1||2===b))return x.abort();w="abort";for(c in{success:1,error:1,complete:1})x[c](f[c]);if(r=I(wn,f,e,x)){x.readyState=1,u&&p.trigger("ajaxSend",[x,f]),f.async&&f.timeout>0&&(s=setTimeout(function(){x.abort("timeout")},f.timeout));try{b=1,r.send(v,n)}catch($){if(!(2>b))throw $;n(-1,$)}}else n(-1,"No Transport");return x},getJSON:function(t,e,n){return J.get(t,e,n,"json")},getScript:function(t,e){return J.get(t,void 0,e,"script")}}),J.each(["get","post"],function(t,e){J[e]=function(t,n,r,i){return J.isFunction(n)&&(i=i||r,r=n,n=void 0),J.ajax({url:t,type:e,dataType:i,data:n,success:r})}}),J._evalUrl=function(t){return J.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},J.fn.extend({wrapAll:function(t){var e;return J.isFunction(t)?this.each(function(e){J(this).wrapAll(t.call(this,e))}):(this[0]&&(e=J(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return this.each(J.isFunction(t)?function(e){J(this).wrapInner(t.call(this,e))}:function(){var e=J(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=J.isFunction(t);return this.each(function(n){J(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){J.nodeName(this,"body")||J(this).replaceWith(this.childNodes)}).end()}}),J.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},J.expr.filters.visible=function(t){return!J.expr.filters.hidden(t)};var Sn=/%20/g,kn=/\[\]$/,Tn=/\r?\n/g,Mn=/^(?:submit|button|image|reset|file)$/i,_n=/^(?:input|select|textarea|keygen)/i;J.param=function(t,e){var n,r=[],i=function(t,e){e=J.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=J.ajaxSettings&&J.ajaxSettings.traditional),J.isArray(t)||t.jquery&&!J.isPlainObject(t))J.each(t,function(){i(this.name,this.value)});else for(n in t)z(n,t[n],e,i);
return r.join("&").replace(Sn,"+")},J.fn.extend({serialize:function(){return J.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=J.prop(this,"elements");return t?J.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!J(this).is(":disabled")&&_n.test(this.nodeName)&&!Mn.test(t)&&(this.checked||!Se.test(t))}).map(function(t,e){var n=J(this).val();return null==n?null:J.isArray(n)?J.map(n,function(t){return{name:e.name,value:t.replace(Tn,"\r\n")}}):{name:e.name,value:n.replace(Tn,"\r\n")}}).get()}}),J.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var An=0,En={},Dn={0:200,1223:204},Fn=J.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in En)En[t]()}),K.cors=!!Fn&&"withCredentials"in Fn,K.ajax=Fn=!!Fn,J.ajaxTransport(function(t){var e;return K.cors||Fn&&!t.crossDomain?{send:function(n,r){var i,o=t.xhr(),a=++An;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(i in t.xhrFields)o[i]=t.xhrFields[i];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)o.setRequestHeader(i,n[i]);e=function(t){return function(){e&&(delete En[a],e=o.onload=o.onerror=null,"abort"===t?o.abort():"error"===t?r(o.status,o.statusText):r(Dn[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=e(),o.onerror=e("error"),e=En[a]=e("abort");try{o.send(t.hasContent&&t.data||null)}catch(s){if(e)throw s}},abort:function(){e&&e()}}:void 0}),J.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return J.globalEval(t),t}}}),J.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),J.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,i){e=J("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),Q.head.appendChild(e[0])},abort:function(){n&&n()}}}});var On=[],Pn=/(=)\?(?=&|$)|\?\?/;J.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=On.pop()||J.expando+"_"+cn++;return this[t]=!0,t}}),J.ajaxPrefilter("json jsonp",function(e,n,r){var i,o,a,s=e.jsonp!==!1&&(Pn.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Pn.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(i=e.jsonpCallback=J.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Pn,"$1"+i):e.jsonp!==!1&&(e.url+=(fn.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||J.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=t[i],t[i]=function(){a=arguments},r.always(function(){t[i]=o,e[i]&&(e.jsonpCallback=n.jsonpCallback,On.push(i)),a&&J.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),J.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||Q;var r=ae.exec(t),i=!n&&[];return r?[e.createElement(r[1])]:(r=J.buildFragment([t],e,i),i&&i.length&&J(i).remove(),J.merge([],r.childNodes))};var Ln=J.fn.load;J.fn.load=function(t,e,n){if("string"!=typeof t&&Ln)return Ln.apply(this,arguments);var r,i,o,a=this,s=t.indexOf(" ");return s>=0&&(r=J.trim(t.slice(s)),t=t.slice(0,s)),J.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),a.length>0&&J.ajax({url:t,type:i,dataType:"html",data:e}).done(function(t){o=arguments,a.html(r?J("<div>").append(J.parseHTML(t)).find(r):t)}).complete(n&&function(t,e){a.each(n,o||[t.responseText,e,t])}),this},J.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){J.fn[e]=function(t){return this.on(e,t)}}),J.expr.filters.animated=function(t){return J.grep(J.timers,function(e){return t===e.elem}).length};var In=t.document.documentElement;J.offset={setOffset:function(t,e,n){var r,i,o,a,s,l,u,c=J.css(t,"position"),f=J(t),h={};"static"===c&&(t.style.position="relative"),s=f.offset(),o=J.css(t,"top"),l=J.css(t,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(r=f.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),J.isFunction(e)&&(e=e.call(t,n,s)),null!=e.top&&(h.top=e.top-s.top+a),null!=e.left&&(h.left=e.left-s.left+i),"using"in e?e.using.call(t,h):f.css(h)}},J.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){J.offset.setOffset(this,t,e)});var e,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;if(o)return e=o.documentElement,J.contains(e,r)?(typeof r.getBoundingClientRect!==ke&&(i=r.getBoundingClientRect()),n=H(o),{top:i.top+n.pageYOffset-e.clientTop,left:i.left+n.pageXOffset-e.clientLeft}):i},position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===J.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),J.nodeName(t[0],"html")||(r=t.offset()),r.top+=J.css(t[0],"borderTopWidth",!0),r.left+=J.css(t[0],"borderLeftWidth",!0)),{top:e.top-r.top-J.css(n,"marginTop",!0),left:e.left-r.left-J.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||In;t&&!J.nodeName(t,"html")&&"static"===J.css(t,"position");)t=t.offsetParent;return t||In})}}),J.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r="pageYOffset"===n;J.fn[e]=function(i){return me(this,function(e,i,o){var a=H(e);return void 0===o?a?a[n]:e[i]:void(a?a.scrollTo(r?t.pageXOffset:o,r?o:t.pageYOffset):e[i]=o)},e,i,arguments.length,null)}}),J.each(["top","left"],function(t,e){J.cssHooks[e]=$(K.pixelPosition,function(t,n){return n?(n=x(t,e),Be.test(n)?J(t).position()[e]+"px":n):void 0})}),J.each({Height:"height",Width:"width"},function(t,e){J.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){J.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return me(this,function(e,n,r){var i;return J.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+t],i["scroll"+t],e.body["offset"+t],i["offset"+t],i["client"+t])):void 0===r?J.css(e,n,a):J.style(e,n,r,a)},e,o?r:void 0,o,null)}})}),J.fn.size=function(){return this.length},J.fn.andSelf=J.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return J});var Nn=t.jQuery,jn=t.$;return J.noConflict=function(e){return t.$===J&&(t.$=jn),e&&t.jQuery===J&&(t.jQuery=Nn),J},typeof e===ke&&(t.jQuery=t.$=J),J}),/*!
 * Chart.js
 * http://chartjs.org/
 * Version: 1.0.2
 *
 * Copyright 2015 Nick Downie
 * Released under the MIT license
 * https://github.com/nnnick/Chart.js/blob/master/LICENSE.md
 */
function(){"use strict";var t=this,e=t.Chart,n=function(t){this.canvas=t.canvas,this.ctx=t;var e=function(t,e){return t["offset"+e]?t["offset"+e]:document.defaultView.getComputedStyle(t).getPropertyValue(e)},n=this.width=e(t.canvas,"Width"),i=this.height=e(t.canvas,"Height");t.canvas.width=n,t.canvas.height=i;var n=this.width=t.canvas.width,i=this.height=t.canvas.height;return this.aspectRatio=this.width/this.height,r.retinaScale(this),this};n.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,customTooltips:!1,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}},n.types={};var r=n.helpers={},i=r.each=function(t,e,n){var r=Array.prototype.slice.call(arguments,3);if(t)if(t.length===+t.length){var i;for(i=0;i<t.length;i++)e.apply(n,[t[i],i].concat(r))}else for(var o in t)e.apply(n,[t[o],o].concat(r))},o=r.clone=function(t){var e={};return i(t,function(n,r){t.hasOwnProperty(r)&&(e[r]=n)}),e},a=r.extend=function(t){return i(Array.prototype.slice.call(arguments,1),function(e){i(e,function(n,r){e.hasOwnProperty(r)&&(t[r]=n)})}),t},s=r.merge=function(){var t=Array.prototype.slice.call(arguments,0);return t.unshift({}),a.apply(null,t)},l=r.indexOf=function(t,e){if(Array.prototype.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1},u=(r.where=function(t,e){var n=[];return r.each(t,function(t){e(t)&&n.push(t)}),n},r.findNextWhere=function(t,e,n){n||(n=-1);for(var r=n+1;r<t.length;r++){var i=t[r];if(e(i))return i}},r.findPreviousWhere=function(t,e,n){n||(n=t.length);for(var r=n-1;r>=0;r--){var i=t[r];if(e(i))return i}},r.inherits=function(t){var e=this,n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},r=function(){this.constructor=n};return r.prototype=e.prototype,n.prototype=new r,n.extend=u,t&&a(n.prototype,t),n.__super__=e.prototype,n}),c=r.noop=function(){},f=r.uid=function(){var t=0;return function(){return"chart-"+t++}}(),h=r.warn=function(t){window.console&&"function"==typeof window.console.warn&&console.warn(t)},p=r.amd="function"==typeof define&&define.amd,d=r.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},g=r.max=function(t){return Math.max.apply(Math,t)},m=r.min=function(t){return Math.min.apply(Math,t)},v=(r.cap=function(t,e,n){if(d(e)){if(t>e)return e}else if(d(n)&&n>t)return n;return t},r.getDecimalPlaces=function(t){return t%1!==0&&d(t)?t.toString().split(".")[1].length:0}),y=r.radians=function(t){return t*(Math.PI/180)},b=(r.getAngleFromPoint=function(t,e){var n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r),o=2*Math.PI+Math.atan2(r,n);return 0>n&&0>r&&(o+=2*Math.PI),{angle:o,distance:i}},r.aliasPixel=function(t){return t%2===0?0:.5}),w=(r.splineCurve=function(t,e,n,r){var i=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)),o=Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2)),a=r*i/(i+o),s=r*o/(i+o);return{inner:{x:e.x-a*(n.x-t.x),y:e.y-a*(n.y-t.y)},outer:{x:e.x+s*(n.x-t.x),y:e.y+s*(n.y-t.y)}}},r.calculateOrderOfMagnitude=function(t){return Math.floor(Math.log(t)/Math.LN10)}),x=(r.calculateScaleRange=function(t,e,n,r,i){var o=2,a=Math.floor(e/(1.5*n)),s=o>=a,l=g(t),u=m(t);l===u&&(l+=.5,u>=.5&&!r?u-=.5:l+=.5);for(var c=Math.abs(l-u),f=w(c),h=Math.ceil(l/(1*Math.pow(10,f)))*Math.pow(10,f),p=r?0:Math.floor(u/(1*Math.pow(10,f)))*Math.pow(10,f),d=h-p,v=Math.pow(10,f),y=Math.round(d/v);(y>a||a>2*y)&&!s;)if(y>a)v*=2,y=Math.round(d/v),y%1!==0&&(s=!0);else if(i&&f>=0){if(v/2%1!==0)break;v/=2,y=Math.round(d/v)}else v/=2,y=Math.round(d/v);return s&&(y=o,v=d/y),{steps:y,stepValue:v,min:p,max:p+y*v}},r.template=function(t,e){function n(t,e){var n=/\W/.test(t)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):r[t]=r[t];return e?n(e):n}if(t instanceof Function)return t(e);var r={};return n(t,e)}),$=(r.generateLabels=function(t,e,n,r){var o=new Array(e);return labelTemplateString&&i(o,function(e,i){o[i]=x(t,{value:n+r*(i+1)})}),o},r.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-0.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-0.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-0.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(-Math.pow(2,-10*t/1)+1)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-0.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,n=0,r=1;return 0===t?0:1==(t/=1)?1:(n||(n=.3),r<Math.abs(1)?(r=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/r),-(r*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-e)*Math.PI/n)))},easeOutElastic:function(t){var e=1.70158,n=0,r=1;return 0===t?0:1==(t/=1)?1:(n||(n=.3),r<Math.abs(1)?(r=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/r),r*Math.pow(2,-10*t)*Math.sin(2*(1*t-e)*Math.PI/n)+1)},easeInOutElastic:function(t){var e=1.70158,n=0,r=1;return 0===t?0:2==(t/=.5)?1:(n||(n=.3*1.5),r<Math.abs(1)?(r=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/r),1>t?-.5*r*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-e)*Math.PI/n):r*Math.pow(2,-10*(t-=1))*Math.sin(2*(1*t-e)*Math.PI/n)*.5+1)},easeInBack:function(t){var e=1.70158;return 1*(t/=1)*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return 1*((t=t/1-1)*t*((e+1)*t+e)+1)},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?.5*t*t*(((e*=1.525)+1)*t-e):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:function(t){return 1-$.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?7.5625*t*t:2/2.75>t?1*(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return.5>t?.5*$.easeInBounce(2*t):.5*$.easeOutBounce(2*t-1)+.5}}),C=r.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),S=r.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t,1e3/60)}}(),k=(r.animationLoop=function(t,e,n,r,i,o){var a=0,s=$[n]||$.linear,l=function(){a++;var n=a/e,u=s(n);t.call(o,u,n,a),r.call(o,u,n),e>a?o.animationFrame=C(l):i.apply(o)};C(l)},r.getRelativePosition=function(t){var e,n,r=t.originalEvent||t,i=t.currentTarget||t.srcElement,o=i.getBoundingClientRect();return r.touches?(e=r.touches[0].clientX-o.left,n=r.touches[0].clientY-o.top):(e=r.clientX-o.left,n=r.clientY-o.top),{x:e,y:n}},r.addEvent=function(t,e,n){t.addEventListener?t.addEventListener(e,n):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}),T=r.removeEvent=function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=c},M=(r.bindEvents=function(t,e,n){t.events||(t.events={}),i(e,function(e){t.events[e]=function(){n.apply(t,arguments)},k(t.chart.canvas,e,t.events[e])})},r.unbindEvents=function(t,e){i(e,function(e,n){T(t.chart.canvas,n,e)})}),_=r.getMaximumWidth=function(t){var e=t.parentNode;return e.clientWidth},A=r.getMaximumHeight=function(t){var e=t.parentNode;return e.clientHeight},E=(r.getMaximumSize=r.getMaximumWidth,r.retinaScale=function(t){var e=t.ctx,n=t.canvas.width,r=t.canvas.height;window.devicePixelRatio&&(e.canvas.style.width=n+"px",e.canvas.style.height=r+"px",e.canvas.height=r*window.devicePixelRatio,e.canvas.width=n*window.devicePixelRatio,e.scale(window.devicePixelRatio,window.devicePixelRatio))}),D=r.clear=function(t){t.ctx.clearRect(0,0,t.width,t.height)},F=r.fontString=function(t,e,n){return e+" "+t+"px "+n},O=r.longestText=function(t,e,n){t.font=e;var r=0;return i(n,function(e){var n=t.measureText(e).width;r=n>r?n:r}),r},P=r.drawRoundedRectangle=function(t,e,n,r,i,o){t.beginPath(),t.moveTo(e+o,n),t.lineTo(e+r-o,n),t.quadraticCurveTo(e+r,n,e+r,n+o),t.lineTo(e+r,n+i-o),t.quadraticCurveTo(e+r,n+i,e+r-o,n+i),t.lineTo(e+o,n+i),t.quadraticCurveTo(e,n+i,e,n+i-o),t.lineTo(e,n+o),t.quadraticCurveTo(e,n,e+o,n),t.closePath()};n.instances={},n.Type=function(t,e,r){this.options=e,this.chart=r,this.id=f(),n.instances[this.id]=this,e.responsive&&this.resize(),this.initialize.call(this,t)},a(n.Type.prototype,{initialize:function(){return this},clear:function(){return D(this.chart),this},stop:function(){return S(this.animationFrame),this},resize:function(t){this.stop();var e=this.chart.canvas,n=_(this.chart.canvas),r=this.options.maintainAspectRatio?n/this.chart.aspectRatio:A(this.chart.canvas);return e.width=this.chart.width=n,e.height=this.chart.height=r,E(this.chart),"function"==typeof t&&t.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:c,render:function(t){return t&&this.reflow(),this.options.animation&&!t?r.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return x(this.options.legendTemplate,this)},destroy:function(){this.clear(),M(this,this.events);var t=this.chart.canvas;t.width=this.chart.width,t.height=this.chart.height,t.style.removeProperty?(t.style.removeProperty("width"),t.style.removeProperty("height")):(t.style.removeAttribute("width"),t.style.removeAttribute("height")),delete n.instances[this.id]},showTooltip:function(t,e){"undefined"==typeof this.activeElements&&(this.activeElements=[]);var o=function(t){var e=!1;return t.length!==this.activeElements.length?e=!0:(i(t,function(t,n){t!==this.activeElements[n]&&(e=!0)},this),e)}.call(this,t);if(o||e){if(this.activeElements=t,this.draw(),this.options.customTooltips&&this.options.customTooltips(!1),t.length>0)if(this.datasets&&this.datasets.length>1){for(var a,s,u=this.datasets.length-1;u>=0&&(a=this.datasets[u].points||this.datasets[u].bars||this.datasets[u].segments,s=l(a,t[0]),-1===s);u--);var c=[],f=[],h=function(){var t,e,n,i,o,a=[],l=[],u=[];return r.each(this.datasets,function(e){t=e.points||e.bars||e.segments,t[s]&&t[s].hasValue()&&a.push(t[s])}),r.each(a,function(t){l.push(t.x),u.push(t.y),c.push(r.template(this.options.multiTooltipTemplate,t)),f.push({fill:t._saved.fillColor||t.fillColor,stroke:t._saved.strokeColor||t.strokeColor})},this),o=m(u),n=g(u),i=m(l),e=g(l),{x:i>this.chart.width/2?i:e,y:(o+n)/2}}.call(this,s);new n.MultiTooltip({x:h.x,y:h.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:c,legendColors:f,legendColorBackground:this.options.multiTooltipKeyBackground,title:t[0].label,chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else i(t,function(t){var e=t.tooltipPosition();new n.Tooltip({x:Math.round(e.x),y:Math.round(e.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:x(this.options.tooltipTemplate,t),chart:this.chart,custom:this.options.customTooltips}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),n.Type.extend=function(t){var e=this,r=function(){return e.apply(this,arguments)};if(r.prototype=o(e.prototype),a(r.prototype,t),r.extend=n.Type.extend,t.name||e.prototype.name){var i=t.name||e.prototype.name,l=n.defaults[e.prototype.name]?o(n.defaults[e.prototype.name]):{};n.defaults[i]=a(l,t.defaults),n.types[i]=r,n.prototype[i]=function(t,e){var o=s(n.defaults.global,n.defaults[i],e||{});return new r(t,o,this)}}else h("Name not provided for this chart, so it hasn't been registered");return e},n.Element=function(t){a(this,t),this.initialize.apply(this,arguments),this.save()},a(n.Element.prototype,{initialize:function(){},restore:function(t){return t?i(t,function(t){this[t]=this._saved[t]},this):a(this,this._saved),this},save:function(){return this._saved=o(this),delete this._saved._saved,this},update:function(t){return i(t,function(t,e){this._saved[e]=this[e],this[e]=t},this),this},transition:function(t,e){return i(t,function(t,n){this[n]=(t-this._saved[n])*e+this._saved[n]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return d(this.value)}}),n.Element.extend=u,n.Point=n.Element.extend({display:!0,inRange:function(t,e){var n=this.hitDetectionRadius+this.radius;return Math.pow(t-this.x,2)+Math.pow(e-this.y,2)<Math.pow(n,2)},draw:function(){if(this.display){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.stroke()}}}),n.Arc=n.Element.extend({inRange:function(t,e){var n=r.getAngleFromPoint(this,{x:t,y:e}),i=n.angle>=this.startAngle&&n.angle<=this.endAngle,o=n.distance>=this.innerRadius&&n.distance<=this.outerRadius;return i&&o},tooltipPosition:function(){var t=this.startAngle+(this.endAngle-this.startAngle)/2,e=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(t)*e,y:this.y+Math.sin(t)*e}},draw:function(t){var e=this.ctx;e.beginPath(),e.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),e.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),e.closePath(),e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.fillStyle=this.fillColor,e.fill(),e.lineJoin="bevel",this.showStroke&&e.stroke()}}),n.Rectangle=n.Element.extend({draw:function(){var t=this.ctx,e=this.width/2,n=this.x-e,r=this.x+e,i=this.base-(this.base-this.y),o=this.strokeWidth/2;this.showStroke&&(n+=o,r-=o,i+=o),t.beginPath(),t.fillStyle=this.fillColor,t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.moveTo(n,this.base),t.lineTo(n,i),t.lineTo(r,i),t.lineTo(r,this.base),t.fill(),this.showStroke&&t.stroke()},height:function(){return this.base-this.y},inRange:function(t,e){return t>=this.x-this.width/2&&t<=this.x+this.width/2&&e>=this.y&&e<=this.base}}),n.Tooltip=n.Element.extend({draw:function(){var t=this.chart.ctx;t.font=F(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var e=this.caretPadding=2,n=t.measureText(this.text).width+2*this.xPadding,r=this.fontSize+2*this.yPadding,i=r+this.caretHeight+e;this.x+n/2>this.chart.width?this.xAlign="left":this.x-n/2<0&&(this.xAlign="right"),this.y-i<0&&(this.yAlign="below");var o=this.x-n/2,a=this.y-i;if(t.fillStyle=this.fillColor,this.custom)this.custom(this);else{switch(this.yAlign){case"above":t.beginPath(),t.moveTo(this.x,this.y-e),t.lineTo(this.x+this.caretHeight,this.y-(e+this.caretHeight)),t.lineTo(this.x-this.caretHeight,this.y-(e+this.caretHeight)),t.closePath(),t.fill();break;case"below":a=this.y+e+this.caretHeight,t.beginPath(),t.moveTo(this.x,this.y+e),t.lineTo(this.x+this.caretHeight,this.y+e+this.caretHeight),t.lineTo(this.x-this.caretHeight,this.y+e+this.caretHeight),t.closePath(),t.fill()}switch(this.xAlign){case"left":o=this.x-n+(this.cornerRadius+this.caretHeight);break;case"right":o=this.x-(this.cornerRadius+this.caretHeight)}P(t,o,a,n,r,this.cornerRadius),t.fill(),t.fillStyle=this.textColor,t.textAlign="center",t.textBaseline="middle",t.fillText(this.text,o+n/2,a+r/2)}}}),n.MultiTooltip=n.Element.extend({initialize:function(){this.font=F(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=F(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var t=this.ctx.measureText(this.title).width,e=O(this.ctx,this.font,this.labels)+this.fontSize+3,n=g([e,t]);this.width=n+2*this.xPadding;var r=this.height/2;this.y-r<0?this.y=r:this.y+r>this.chart.height&&(this.y=this.chart.height-r),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(t){var e=this.y-this.height/2+this.yPadding,n=t-1;return 0===t?e+this.titleFontSize/2:e+(1.5*this.fontSize*n+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){if(this.custom)this.custom(this);else{P(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var t=this.ctx;t.fillStyle=this.fillColor,t.fill(),t.closePath(),t.textAlign="left",t.textBaseline="middle",t.fillStyle=this.titleTextColor,t.font=this.titleFont,t.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),t.font=this.font,r.each(this.labels,function(e,n){t.fillStyle=this.textColor,t.fillText(e,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(n+1)),t.fillStyle=this.legendColorBackground,t.fillRect(this.x+this.xPadding,this.getLineHeight(n+1)-this.fontSize/2,this.fontSize,this.fontSize),t.fillStyle=this.legendColors[n].fill,t.fillRect(this.x+this.xPadding,this.getLineHeight(n+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}}),n.Scale=n.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var t=v(this.stepValue),e=0;e<=this.steps;e++)this.yLabels.push(x(this.templateString,{value:(this.min+e*this.stepValue).toFixed(t)}));this.yLabelWidth=this.display&&this.showLabels?O(this.ctx,this.font,this.yLabels):0},addXLabel:function(t){this.xLabels.push(t),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var t,e=this.endPoint-this.startPoint;for(this.calculateYRange(e),this.buildYLabels(),this.calculateXLabelRotation();e>this.endPoint-this.startPoint;)e=this.endPoint-this.startPoint,t=this.yLabelWidth,this.calculateYRange(e),this.buildYLabels(),t<this.yLabelWidth&&this.calculateXLabelRotation()},calculateXLabelRotation:function(){this.ctx.font=this.font;var t,e,n=this.ctx.measureText(this.xLabels[0]).width,r=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=r/2+3,this.xScalePaddingLeft=n/2>this.yLabelWidth+10?n/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var i,o=O(this.ctx,this.font,this.xLabels);this.xLabelWidth=o;for(var a=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>a&&0===this.xLabelRotation||this.xLabelWidth>a&&this.xLabelRotation<=90&&this.xLabelRotation>0;)i=Math.cos(y(this.xLabelRotation)),t=i*n,e=i*r,t+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=t+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=i*o;this.xLabelRotation>0&&(this.endPoint-=Math.sin(y(this.xLabelRotation))*o+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:c,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(t){var e=this.drawingArea()/(this.min-this.max);return this.endPoint-e*(t-this.min)},calculateX:function(t){var e=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),n=e/Math.max(this.valuesCount-(this.offsetGridLines?0:1),1),r=n*t+this.xScalePaddingLeft;return this.offsetGridLines&&(r+=n/2),Math.round(r)},update:function(t){r.extend(this,t),this.fit()},draw:function(){var t=this.ctx,e=(this.endPoint-this.startPoint)/this.steps,n=Math.round(this.xScalePaddingLeft);this.display&&(t.fillStyle=this.textColor,t.font=this.font,i(this.yLabels,function(i,o){var a=this.endPoint-e*o,s=Math.round(a),l=this.showHorizontalLines;t.textAlign="right",t.textBaseline="middle",this.showLabels&&t.fillText(i,n-10,a),0!==o||l||(l=!0),l&&t.beginPath(),o>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),s+=r.aliasPixel(t.lineWidth),l&&(t.moveTo(n,s),t.lineTo(this.width,s),t.stroke(),t.closePath()),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(n-5,s),t.lineTo(n,s),t.stroke(),t.closePath()},this),i(this.xLabels,function(e,n){var r=this.calculateX(n)+b(this.lineWidth),i=this.calculateX(n-(this.offsetGridLines?.5:0))+b(this.lineWidth),o=this.xLabelRotation>0,a=this.showVerticalLines;0!==n||a||(a=!0),a&&t.beginPath(),n>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),a&&(t.moveTo(i,this.endPoint),t.lineTo(i,this.startPoint-3),t.stroke(),t.closePath()),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(i,this.endPoint),t.lineTo(i,this.endPoint+5),t.stroke(),t.closePath(),t.save(),t.translate(r,o?this.endPoint+12:this.endPoint+8),t.rotate(-1*y(this.xLabelRotation)),t.font=this.font,t.textAlign=o?"right":"center",t.textBaseline=o?"middle":"top",t.fillText(e,0,0),t.restore()},this))}}),n.RadialScale=n.Element.extend({initialize:function(){this.size=m([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(t){var e=this.drawingArea/(this.max-this.min);return(t-this.min)*e},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var t=v(this.stepValue),e=0;e<=this.steps;e++)this.yLabels.push(x(this.templateString,{value:(this.min+e*this.stepValue).toFixed(t)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var t,e,n,r,i,o,a,s,l,u,c,f,h=m([this.height/2-this.pointLabelFontSize-5,this.width/2]),p=this.width,g=0;for(this.ctx.font=F(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),e=0;e<this.valuesCount;e++)t=this.getPointPosition(e,h),n=this.ctx.measureText(x(this.templateString,{value:this.labels[e]})).width+5,0===e||e===this.valuesCount/2?(r=n/2,t.x+r>p&&(p=t.x+r,i=e),t.x-r<g&&(g=t.x-r,a=e)):e<this.valuesCount/2?t.x+n>p&&(p=t.x+n,i=e):e>this.valuesCount/2&&t.x-n<g&&(g=t.x-n,a=e);l=g,u=Math.ceil(p-this.width),o=this.getIndexAngle(i),s=this.getIndexAngle(a),c=u/Math.sin(o+Math.PI/2),f=l/Math.sin(s+Math.PI/2),c=d(c)?c:0,f=d(f)?f:0,this.drawingArea=h-(f+c)/2,this.setCenterPoint(f,c)},setCenterPoint:function(t,e){var n=this.width-e-this.drawingArea,r=t+this.drawingArea;this.xCenter=(r+n)/2,this.yCenter=this.height/2},getIndexAngle:function(t){var e=2*Math.PI/this.valuesCount;return t*e-Math.PI/2},getPointPosition:function(t,e){var n=this.getIndexAngle(t);return{x:Math.cos(n)*e+this.xCenter,y:Math.sin(n)*e+this.yCenter}},draw:function(){if(this.display){var t=this.ctx;if(i(this.yLabels,function(e,n){if(n>0){var r,i=n*(this.drawingArea/this.steps),o=this.yCenter-i;if(this.lineWidth>0)if(t.strokeStyle=this.lineColor,t.lineWidth=this.lineWidth,this.lineArc)t.beginPath(),t.arc(this.xCenter,this.yCenter,i,0,2*Math.PI),t.closePath(),t.stroke();else{t.beginPath();for(var a=0;a<this.valuesCount;a++)r=this.getPointPosition(a,this.calculateCenterOffset(this.min+n*this.stepValue)),0===a?t.moveTo(r.x,r.y):t.lineTo(r.x,r.y);t.closePath(),t.stroke()}if(this.showLabels){if(t.font=F(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var s=t.measureText(e).width;t.fillStyle=this.backdropColor,t.fillRect(this.xCenter-s/2-this.backdropPaddingX,o-this.fontSize/2-this.backdropPaddingY,s+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}t.textAlign="center",t.textBaseline="middle",t.fillStyle=this.fontColor,t.fillText(e,this.xCenter,o)}}},this),!this.lineArc){t.lineWidth=this.angleLineWidth,t.strokeStyle=this.angleLineColor;for(var e=this.valuesCount-1;e>=0;e--){if(this.angleLineWidth>0){var n=this.getPointPosition(e,this.calculateCenterOffset(this.max));t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(n.x,n.y),t.stroke(),t.closePath()}var r=this.getPointPosition(e,this.calculateCenterOffset(this.max)+5);t.font=F(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),t.fillStyle=this.pointLabelFontColor;var o=this.labels.length,a=this.labels.length/2,s=a/2,l=s>e||e>o-s,u=e===s||e===o-s;t.textAlign=0===e?"center":e===a?"center":a>e?"left":"right",t.textBaseline=u?"middle":l?"bottom":"top",t.fillText(this.labels[e],r.x,r.y)}}}}}),r.addEvent(window,"resize",function(){var t;return function(){clearTimeout(t),t=setTimeout(function(){i(n.instances,function(t){t.options.responsive&&t.resize(t.render,!0)})},50)}}()),p?define(function(){return n}):"object"==typeof module&&module.exports&&(module.exports=n),t.Chart=n,n.noConflict=function(){return t.Chart=e,n}}.call(this),function(){"use strict";var t=this,e=t.Chart,n=e.helpers,r={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"Bar",defaults:r,initialize:function(t){var r=this.options;this.ScaleClass=e.Scale.extend({offsetGridLines:!0,calculateBarX:function(t,e,n){var i=this.calculateBaseWidth(),o=this.calculateX(n)-i/2,a=this.calculateBarWidth(t);return o+a*e+e*r.barDatasetSpacing+a/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*r.barValueSpacing},calculateBarWidth:function(t){var e=this.calculateBaseWidth()-(t-1)*r.barDatasetSpacing;return e/t}}),this.datasets=[],this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getBarsAtEvent(t):[];this.eachBars(function(t){t.restore(["fillColor","strokeColor"])}),n.each(e,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(e)}),this.BarClass=e.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),n.each(t.datasets,function(e){var r={label:e.label||null,fillColor:e.fillColor,strokeColor:e.strokeColor,bars:[]};this.datasets.push(r),n.each(e.data,function(n,i){r.bars.push(new this.BarClass({value:n,label:t.labels[i],datasetLabel:e.label,strokeColor:e.strokeColor,fillColor:e.fillColor,highlightFill:e.highlightFill||e.fillColor,highlightStroke:e.highlightStroke||e.strokeColor}))},this)},this),this.buildScale(t.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(t,e,r){n.extend(t,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,r,e),y:this.scale.endPoint}),t.save()},this),this.render()},update:function(){this.scale.update(),n.each(this.activeElements,function(t){t.restore(["fillColor","strokeColor"])}),this.eachBars(function(t){t.save()}),this.render()},eachBars:function(t){n.each(this.datasets,function(e,r){n.each(e.bars,t,this,r)},this)},getBarsAtEvent:function(t){for(var e,r=[],i=n.getRelativePosition(t),o=function(t){r.push(t.bars[e])},a=0;a<this.datasets.length;a++)for(e=0;e<this.datasets[a].bars.length;e++)if(this.datasets[a].bars[e].inRange(i.x,i.y))return n.each(this.datasets,o),r;return r},buildScale:function(t){var e=this,r=function(){var t=[];return e.eachBars(function(e){t.push(e.value)}),t},i={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var e=n.calculateScaleRange(r(),t,this.fontSize,this.beginAtZero,this.integersOnly);n.extend(this,e)},xLabels:t,font:n.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&n.extend(i,{calculateYRange:n.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(i)},addData:function(t,e){n.each(t,function(t,n){this.datasets[n].bars.push(new this.BarClass({value:t,label:e,x:this.scale.calculateBarX(this.datasets.length,n,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[n].strokeColor,fillColor:this.datasets[n].fillColor}))
},this),this.scale.addXLabel(e),this.update()},removeData:function(){this.scale.removeXLabel(),n.each(this.datasets,function(t){t.bars.shift()},this),this.update()},reflow:function(){n.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var t=n.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},draw:function(t){var e=t||1;this.clear();this.chart.ctx;this.scale.draw(e),n.each(this.datasets,function(t,r){n.each(t.bars,function(t,n){t.hasValue()&&(t.base=this.scale.endPoint,t.transition({x:this.scale.calculateBarX(this.datasets.length,r,n),y:this.scale.calculateY(t.value),width:this.scale.calculateBarWidth(this.datasets.length)},e).draw())},this)},this)}})}.call(this),function(){"use strict";var t=this,e=t.Chart,n=e.helpers,r={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"Doughnut",defaults:r,initialize:function(t){this.segments=[],this.outerRadius=(n.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=e.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getSegmentsAtEvent(t):[];n.each(this.segments,function(t){t.restore(["fillColor"])}),n.each(e,function(t){t.fillColor=t.highlightColor}),this.showTooltip(e)}),this.calculateTotal(t),n.each(t,function(t,e){this.addData(t,e,!0)},this),this.render()},getSegmentsAtEvent:function(t){var e=[],r=n.getRelativePosition(t);return n.each(this.segments,function(t){t.inRange(r.x,r.y)&&e.push(t)},this),e},addData:function(t,e,n){var r=e||this.segments.length;this.segments.splice(r,0,new this.SegmentArc({value:t.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:t.color,highlightColor:t.highlight||t.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(t.value),label:t.label})),n||(this.reflow(),this.update())},calculateCircumference:function(t){return 2*Math.PI*(Math.abs(t)/this.total)},calculateTotal:function(t){this.total=0,n.each(t,function(t){this.total+=Math.abs(t.value)},this)},update:function(){this.calculateTotal(this.segments),n.each(this.activeElements,function(t){t.restore(["fillColor"])}),n.each(this.segments,function(t){t.save()}),this.render()},removeData:function(t){var e=n.isNumber(t)?t:this.segments.length-1;this.segments.splice(e,1),this.reflow(),this.update()},reflow:function(){n.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(n.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,n.each(this.segments,function(t){t.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(t){var e=t?t:1;this.clear(),n.each(this.segments,function(t,n){t.transition({circumference:this.calculateCircumference(t.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},e),t.endAngle=t.startAngle+t.circumference,t.draw(),0===n&&(t.startAngle=1.5*Math.PI),n<this.segments.length-1&&(this.segments[n+1].startAngle=t.endAngle)},this)}}),e.types.Doughnut.extend({name:"Pie",defaults:n.merge(r,{percentageInnerCutout:0})})}.call(this),function(){"use strict";var t=this,e=t.Chart,n=e.helpers,r={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"Line",defaults:r,initialize:function(t){this.PointClass=e.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(t){return Math.pow(t-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getPointsAtEvent(t):[];this.eachPoints(function(t){t.restore(["fillColor","strokeColor"])}),n.each(e,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(e)}),n.each(t.datasets,function(e){var r={label:e.label||null,fillColor:e.fillColor,strokeColor:e.strokeColor,pointColor:e.pointColor,pointStrokeColor:e.pointStrokeColor,points:[]};this.datasets.push(r),n.each(e.data,function(n,i){r.points.push(new this.PointClass({value:n,label:t.labels[i],datasetLabel:e.label,strokeColor:e.pointStrokeColor,fillColor:e.pointColor,highlightFill:e.pointHighlightFill||e.pointColor,highlightStroke:e.pointHighlightStroke||e.pointStrokeColor}))},this),this.buildScale(t.labels),this.eachPoints(function(t,e){n.extend(t,{x:this.scale.calculateX(e),y:this.scale.endPoint}),t.save()},this)},this),this.render()},update:function(){this.scale.update(),n.each(this.activeElements,function(t){t.restore(["fillColor","strokeColor"])}),this.eachPoints(function(t){t.save()}),this.render()},eachPoints:function(t){n.each(this.datasets,function(e){n.each(e.points,t,this)},this)},getPointsAtEvent:function(t){var e=[],r=n.getRelativePosition(t);return n.each(this.datasets,function(t){n.each(t.points,function(t){t.inRange(r.x,r.y)&&e.push(t)})},this),e},buildScale:function(t){var r=this,i=function(){var t=[];return r.eachPoints(function(e){t.push(e.value)}),t},o={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var e=n.calculateScaleRange(i(),t,this.fontSize,this.beginAtZero,this.integersOnly);n.extend(this,e)},xLabels:t,font:n.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&n.extend(o,{calculateYRange:n.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new e.Scale(o)},addData:function(t,e){n.each(t,function(t,n){this.datasets[n].points.push(new this.PointClass({value:t,label:e,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[n].pointStrokeColor,fillColor:this.datasets[n].pointColor}))},this),this.scale.addXLabel(e),this.update()},removeData:function(){this.scale.removeXLabel(),n.each(this.datasets,function(t){t.points.shift()},this),this.update()},reflow:function(){var t=n.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},draw:function(t){var e=t||1;this.clear();var r=this.chart.ctx,i=function(t){return null!==t.value},o=function(t,e,r){return n.findNextWhere(e,i,r)||t},a=function(t,e,r){return n.findPreviousWhere(e,i,r)||t};this.scale.draw(e),n.each(this.datasets,function(t){var s=n.where(t.points,i);n.each(t.points,function(t,n){t.hasValue()&&t.transition({y:this.scale.calculateY(t.value),x:this.scale.calculateX(n)},e)},this),this.options.bezierCurve&&n.each(s,function(t,e){var r=e>0&&e<s.length-1?this.options.bezierCurveTension:0;t.controlPoints=n.splineCurve(a(t,s,e),t,o(t,s,e),r),t.controlPoints.outer.y>this.scale.endPoint?t.controlPoints.outer.y=this.scale.endPoint:t.controlPoints.outer.y<this.scale.startPoint&&(t.controlPoints.outer.y=this.scale.startPoint),t.controlPoints.inner.y>this.scale.endPoint?t.controlPoints.inner.y=this.scale.endPoint:t.controlPoints.inner.y<this.scale.startPoint&&(t.controlPoints.inner.y=this.scale.startPoint)},this),r.lineWidth=this.options.datasetStrokeWidth,r.strokeStyle=t.strokeColor,r.beginPath(),n.each(s,function(t,e){if(0===e)r.moveTo(t.x,t.y);else if(this.options.bezierCurve){var n=a(t,s,e);r.bezierCurveTo(n.controlPoints.outer.x,n.controlPoints.outer.y,t.controlPoints.inner.x,t.controlPoints.inner.y,t.x,t.y)}else r.lineTo(t.x,t.y)},this),r.stroke(),this.options.datasetFill&&s.length>0&&(r.lineTo(s[s.length-1].x,this.scale.endPoint),r.lineTo(s[0].x,this.scale.endPoint),r.fillStyle=t.fillColor,r.closePath(),r.fill()),n.each(s,function(t){t.draw()})},this)}})}.call(this),function(){"use strict";var t=this,e=t.Chart,n=e.helpers,r={scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"PolarArea",defaults:r,initialize:function(t){this.segments=[],this.SegmentArc=e.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new e.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:t.length}),this.updateScaleRange(t),this.scale.update(),n.each(t,function(t,e){this.addData(t,e,!0)},this),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getSegmentsAtEvent(t):[];n.each(this.segments,function(t){t.restore(["fillColor"])}),n.each(e,function(t){t.fillColor=t.highlightColor}),this.showTooltip(e)}),this.render()},getSegmentsAtEvent:function(t){var e=[],r=n.getRelativePosition(t);return n.each(this.segments,function(t){t.inRange(r.x,r.y)&&e.push(t)},this),e},addData:function(t,e,n){var r=e||this.segments.length;this.segments.splice(r,0,new this.SegmentArc({fillColor:t.color,highlightColor:t.highlight||t.color,label:t.label,value:t.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(t.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),n||(this.reflow(),this.update())},removeData:function(t){var e=n.isNumber(t)?t:this.segments.length-1;this.segments.splice(e,1),this.reflow(),this.update()},calculateTotal:function(t){this.total=0,n.each(t,function(t){this.total+=t.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(t){var e=[];n.each(t,function(t){e.push(t.value)});var r=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:n.calculateScaleRange(e,n.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);n.extend(this.scale,r,{size:n.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),n.each(this.segments,function(t){t.save()}),this.reflow(),this.render()},reflow:function(){n.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),n.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),n.each(this.segments,function(t){t.update({outerRadius:this.scale.calculateCenterOffset(t.value)})},this)},draw:function(t){var e=t||1;this.clear(),n.each(this.segments,function(t,n){t.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(t.value)},e),t.endAngle=t.startAngle+t.circumference,0===n&&(t.startAngle=1.5*Math.PI),n<this.segments.length-1&&(this.segments[n+1].startAngle=t.endAngle),t.draw()},this),this.scale.draw()}})}.call(this),function(){"use strict";var t=this,e=t.Chart,n=e.helpers;e.Type.extend({name:"Radar",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},initialize:function(t){this.PointClass=e.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(t),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getPointsAtEvent(t):[];this.eachPoints(function(t){t.restore(["fillColor","strokeColor"])}),n.each(e,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(e)}),n.each(t.datasets,function(e){var r={label:e.label||null,fillColor:e.fillColor,strokeColor:e.strokeColor,pointColor:e.pointColor,pointStrokeColor:e.pointStrokeColor,points:[]};this.datasets.push(r),n.each(e.data,function(n,i){var o;this.scale.animation||(o=this.scale.getPointPosition(i,this.scale.calculateCenterOffset(n))),r.points.push(new this.PointClass({value:n,label:t.labels[i],datasetLabel:e.label,x:this.options.animation?this.scale.xCenter:o.x,y:this.options.animation?this.scale.yCenter:o.y,strokeColor:e.pointStrokeColor,fillColor:e.pointColor,highlightFill:e.pointHighlightFill||e.pointColor,highlightStroke:e.pointHighlightStroke||e.pointStrokeColor}))},this)},this),this.render()},eachPoints:function(t){n.each(this.datasets,function(e){n.each(e.points,t,this)},this)},getPointsAtEvent:function(t){var e=n.getRelativePosition(t),r=n.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},e),i=2*Math.PI/this.scale.valuesCount,o=Math.round((r.angle-1.5*Math.PI)/i),a=[];return(o>=this.scale.valuesCount||0>o)&&(o=0),r.distance<=this.scale.drawingArea&&n.each(this.datasets,function(t){a.push(t.points[o])}),a},buildScale:function(t){this.scale=new e.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:t.labels,valuesCount:t.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(t.datasets),this.scale.buildYLabels()},updateScaleRange:function(t){var e=function(){var e=[];return n.each(t,function(t){t.data?e=e.concat(t.data):n.each(t.points,function(t){e.push(t.value)})}),e}(),r=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:n.calculateScaleRange(e,n.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);n.extend(this.scale,r)},addData:function(t,e){this.scale.valuesCount++,n.each(t,function(t,n){var r=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(t));this.datasets[n].points.push(new this.PointClass({value:t,label:e,x:r.x,y:r.y,strokeColor:this.datasets[n].pointStrokeColor,fillColor:this.datasets[n].pointColor}))},this),this.scale.labels.push(e),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),n.each(this.datasets,function(t){t.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(t){t.save()}),this.reflow(),this.render()},reflow:function(){n.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:n.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(t){var e=t||1,r=this.chart.ctx;this.clear(),this.scale.draw(),n.each(this.datasets,function(t){n.each(t.points,function(t,n){t.hasValue()&&t.transition(this.scale.getPointPosition(n,this.scale.calculateCenterOffset(t.value)),e)},this),r.lineWidth=this.options.datasetStrokeWidth,r.strokeStyle=t.strokeColor,r.beginPath(),n.each(t.points,function(t,e){0===e?r.moveTo(t.x,t.y):r.lineTo(t.x,t.y)},this),r.closePath(),r.stroke(),r.fillStyle=t.fillColor,r.fill(),n.each(t.points,function(t){t.hasValue()&&t.draw()})},this)}})}.call(this),/**
 * @license AngularJS v1.4.0
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,n){"use strict";function r(t,e){return e=e||Error,function(){var n,r,i=2,o=arguments,a=o[0],s="["+(t?t+":":"")+a+"] ",l=o[1];for(s+=l.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1),n=e+i;return n<o.length?ye(o[n]):t}),s+="\nhttp://errors.angularjs.org/1.4.0/"+(t?t+"/":"")+a,r=i,n="?";r<o.length;r++,n="&")s+=n+"p"+(r-i)+"="+encodeURIComponent(ye(o[r]));return new e(s)}}function i(t){if(null==t||M(t))return!1;var e="length"in Object(t)&&t.length;return t.nodeType===Yi&&e?!0:$(t)||ji(t)||0===e||"number"==typeof e&&e>0&&e-1 in t}function o(t,e,n){var r,a;if(t)if(k(t))for(r in t)"prototype"==r||"length"==r||"name"==r||t.hasOwnProperty&&!t.hasOwnProperty(r)||e.call(n,t[r],r,t);else if(ji(t)||i(t)){var s="object"!=typeof t;for(r=0,a=t.length;a>r;r++)(s||r in t)&&e.call(n,t[r],r,t)}else if(t.forEach&&t.forEach!==o)t.forEach(e,n,t);else if(x(t))for(r in t)e.call(n,t[r],r,t);else if("function"==typeof t.hasOwnProperty)for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t);else for(r in t)xi.call(t,r)&&e.call(n,t[r],r,t);return t}function a(t,e,n){for(var r=Object.keys(t).sort(),i=0;i<r.length;i++)e.call(n,t[r[i]],r[i]);return r}function s(t){return function(e,n){t(n,e)}}function l(){return++Ii}function u(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function c(t,e,n){for(var r=t.$$hashKey,i=0,o=e.length;o>i;++i){var a=e[i];if(w(a)||k(a))for(var s=Object.keys(a),l=0,f=s.length;f>l;l++){var h=s[l],p=a[h];n&&w(p)?(w(t[h])||(t[h]=ji(p)?[]:{}),c(t[h],[p],!0)):t[h]=p}}return u(t,r),t}function f(t){return c(t,Ai.call(arguments,1),!1)}function h(t){return c(t,Ai.call(arguments,1),!0)}function p(t){return parseInt(t,10)}function d(t,e){return f(Object.create(t),e)}function g(){}function m(t){return t}function v(t){return function(){return t}}function y(t){return"undefined"==typeof t}function b(t){return"undefined"!=typeof t}function w(t){return null!==t&&"object"==typeof t}function x(t){return null!==t&&"object"==typeof t&&!Oi(t)}function $(t){return"string"==typeof t}function C(t){return"number"==typeof t}function S(t){return"[object Date]"===Fi.call(t)}function k(t){return"function"==typeof t}function T(t){return"[object RegExp]"===Fi.call(t)}function M(t){return t&&t.window===t}function _(t){return t&&t.$evalAsync&&t.$watch}function A(t){return"[object File]"===Fi.call(t)}function E(t){return"[object FormData]"===Fi.call(t)}function D(t){return"[object Blob]"===Fi.call(t)}function F(t){return"boolean"==typeof t}function O(t){return t&&k(t.then)}function P(t){return Ri.test(Fi.call(t))}function L(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function I(t){var e,n={},r=t.split(",");for(e=0;e<r.length;e++)n[r[e]]=!0;return n}function N(t){return wi(t.nodeName||t[0]&&t[0].nodeName)}function j(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),n}function R(t,e,n,r){function i(t,e,n,r,i){var o=R(e,null,r,i);w(e)&&(r.push(e),i.push(o)),n[t]=o}if(M(t)||_(t))throw Pi("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(P(e))throw Pi("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e){if(t===e)throw Pi("cpi","Can't copy! Source and destination are identical.");if(n=n||[],r=r||[],w(t)){var a=n.indexOf(t);if(-1!==a)return r[a];n.push(t),r.push(e)}var s,l;if(ji(t)){e.length=0;for(var c=0;c<t.length;c++)s=R(t[c],null,n,r),w(t[c])&&(n.push(t[c]),r.push(s)),e.push(s)}else{var f=e.$$hashKey;if(ji(e)?e.length=0:o(e,function(t,n){delete e[n]}),x(t))for(l in t)i(l,t[l],e,n,r);else if(t&&"function"==typeof t.hasOwnProperty)for(l in t)t.hasOwnProperty(l)&&i(l,t[l],e,n,r);else for(l in t)xi.call(t,l)&&i(l,t[l],e,n,r);u(e,f)}}else if(e=t,t)if(ji(t))e=R(t,[],n,r);else if(P(t))e=new t.constructor(t);else if(S(t))e=new Date(t.getTime());else if(T(t))e=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]),e.lastIndex=t.lastIndex;else if(w(t)){var h=Object.create(Oi(t));e=R(t,h,n,r)}return e}function z(t,e){if(ji(t)){e=e||[];for(var n=0,r=t.length;r>n;n++)e[n]=t[n]}else if(w(t)){e=e||{};for(var i in t)("$"!==i.charAt(0)||"$"!==i.charAt(1))&&(e[i]=t[i])}return e||t}function H(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var r,i,o,a=typeof t,s=typeof e;if(a==s&&"object"==a){if(!ji(t)){if(S(t))return S(e)?H(t.getTime(),e.getTime()):!1;if(T(t))return T(e)?t.toString()==e.toString():!1;if(_(t)||_(e)||M(t)||M(e)||ji(e)||S(e)||T(e))return!1;o=ge();for(i in t)if("$"!==i.charAt(0)&&!k(t[i])){if(!H(t[i],e[i]))return!1;o[i]=!0}for(i in e)if(!(i in o||"$"===i.charAt(0)||e[i]===n||k(e[i])))return!1;return!0}if(!ji(e))return!1;if((r=t.length)==e.length){for(i=0;r>i;i++)if(!H(t[i],e[i]))return!1;return!0}}return!1}function B(t,e,n){return t.concat(Ai.call(e,n))}function q(t,e){return Ai.call(t,e||0)}function W(t,e){var n=arguments.length>2?q(arguments,2):[];return!k(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,B(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function V(t,r){var i=r;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?i=n:M(r)?i="$WINDOW":r&&e===r?i="$DOCUMENT":_(r)&&(i="$SCOPE"),i}function U(t,e){return"undefined"==typeof t?n:(C(e)||(e=e?2:null),JSON.stringify(t,V,e))}function Y(t){return $(t)?JSON.parse(t):t}function G(t,e){var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function X(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function K(t,e,n){n=n?-1:1;var r=G(e,t.getTimezoneOffset());return X(t,n*(r-t.getTimezoneOffset()))}function Q(t){t=Ti(t).clone();try{t.empty()}catch(e){}var n=Ti("<div>").append(t).html();try{return t[0].nodeType===Xi?wi(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+wi(e)})}catch(e){return wi(n)}}function Z(t){try{return decodeURIComponent(t)}catch(e){}}function J(t){var e,n,r={};return o((t||"").split("&"),function(t){if(t&&(e=t.replace(/\+/g,"%20").split("="),n=Z(e[0]),b(n))){var i=b(e[1])?Z(e[1]):!0;xi.call(r,n)?ji(r[n])?r[n].push(i):r[n]=[r[n],i]:r[n]=i}}),r}function te(t){var e=[];return o(t,function(t,n){ji(t)?o(t,function(t){e.push(ne(n,!0)+(t===!0?"":"="+ne(t,!0)))}):e.push(ne(n,!0)+(t===!0?"":"="+ne(t,!0)))}),e.length?e.join("&"):""}function ee(t){return ne(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ne(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function re(t,e){var n,r,i=Wi.length;for(r=0;i>r;++r)if(n=Wi[r]+e,$(n=t.getAttribute(n)))return n;return null}function ie(t,e){var n,r,i={};o(Wi,function(e){var i=e+"app";!n&&t.hasAttribute&&t.hasAttribute(i)&&(n=t,r=t.getAttribute(i))}),o(Wi,function(e){var i,o=e+"app";!n&&(i=t.querySelector("["+o.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(o))}),n&&(i.strictDi=null!==re(n,"strict-di"),e(n,r?[r]:[],i))}function oe(n,r,i){w(i)||(i={});var a={strictDi:!1};i=f(a,i);var s=function(){if(n=Ti(n),n.injector()){var t=n[0]===e?"document":Q(n);throw Pi("btstrpd","App Already Bootstrapped with this Element '{0}'",t.replace(/</,"&lt;").replace(/>/,"&gt;"))}r=r||[],r.unshift(["$provide",function(t){t.value("$rootElement",n)}]),i.debugInfoEnabled&&r.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),r.unshift("ng");var o=Ke(r,i.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,r){t.$apply(function(){e.data("$injector",r),n(e)(t)})}]),o},l=/^NG_ENABLE_DEBUG_INFO!/,u=/^NG_DEFER_BOOTSTRAP!/;return t&&l.test(t.name)&&(i.debugInfoEnabled=!0,t.name=t.name.replace(l,"")),t&&!u.test(t.name)?s():(t.name=t.name.replace(u,""),Li.resumeBootstrap=function(t){return o(t,function(t){r.push(t)}),s()},void(k(Li.resumeDeferredBootstrap)&&Li.resumeDeferredBootstrap()))}function ae(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function se(t){var e=Li.element(t).injector();if(!e)throw Pi("test","no injector found for element argument to getTestability");return e.get("$$testability")}function le(t,e){return e=e||"_",t.replace(Vi,function(t,n){return(n?e:"")+t.toLowerCase()})}function ue(){var e;if(!Ui){var r=qi();Mi=t.jQuery,b(r)&&(Mi=null===r?n:t[r]),Mi&&Mi.fn.on?(Ti=Mi,f(Mi.fn,{scope:po.scope,isolateScope:po.isolateScope,controller:po.controller,injector:po.injector,inheritedData:po.inheritedData}),e=Mi.cleanData,Mi.cleanData=function(t){var n;if(Ni)Ni=!1;else for(var r,i=0;null!=(r=t[i]);i++)n=Mi._data(r,"events"),n&&n.$destroy&&Mi(r).triggerHandler("$destroy");e(t)}):Ti=Te,Li.element=Ti,Ui=!0}}function ce(t,e,n){if(!t)throw Pi("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function fe(t,e,n){return n&&ji(t)&&(t=t[t.length-1]),ce(k(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function he(t,e){if("hasOwnProperty"===t)throw Pi("badname","hasOwnProperty is not a valid {0} name",e)}function pe(t,e,n){if(!e)return t;for(var r,i=e.split("."),o=t,a=i.length,s=0;a>s;s++)r=i[s],t&&(t=(o=t)[r]);return!n&&k(t)?W(o,t):t}function de(t){var e=t[0],n=t[t.length-1],r=[e];do{if(e=e.nextSibling,!e)break;r.push(e)}while(e!==n);return Ti(r)}function ge(){return Object.create(null)}function me(t){function e(t,e,n){return t[e]||(t[e]=n())}var n=r("$injector"),i=r("ng"),o=e(t,"angular",Object);return o.$$minErr=o.$$minErr||r,e(o,"module",function(){var t={};return function(r,o,a){var s=function(t,e){if("hasOwnProperty"===t)throw i("badname","hasOwnProperty is not a valid {0} name",e)};return s(r,"module"),o&&t.hasOwnProperty(r)&&(t[r]=null),e(t,r,function(){function t(t,n,r,i){return i||(i=e),function(){return i[r||"push"]([t,n,arguments]),u}}if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var e=[],i=[],s=[],l=t("$injector","invoke","push",i),u={_invokeQueue:e,_configBlocks:i,_runBlocks:s,requires:o,name:r,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:t("$provide","decorator"),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),config:l,run:function(t){return s.push(t),this}};return a&&l(a),u})}})}function ve(t){var e=[];return JSON.stringify(t,function(t,n){if(n=V(t,n),w(n)){if(e.indexOf(n)>=0)return"<<already seen>>";e.push(n)}return n})}function ye(t){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof t?"undefined":"string"!=typeof t?ve(t):t}function be(e){f(e,{bootstrap:oe,copy:R,extend:f,merge:h,equals:H,element:Ti,forEach:o,injector:Ke,noop:g,bind:W,toJson:U,fromJson:Y,identity:m,isUndefined:y,isDefined:b,isString:$,isFunction:k,isObject:w,isNumber:C,isElement:L,isArray:ji,version:Ji,isDate:S,lowercase:wi,uppercase:$i,callbacks:{counter:0},getTestability:se,$$minErr:r,$$csp:Bi,reloadWithDebugInfo:ae}),_i=me(t);try{_i("ngLocale")}catch(n){_i("ngLocale",[]).provider("$locale",Dn)}_i("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:mr}),t.provider("$compile",ln).directive({a:ca,input:Ma,textarea:Ma,form:ga,script:bs,select:$s,style:Ss,option:Cs,ngBind:Ea,ngBindHtml:Fa,ngBindTemplate:Da,ngClass:Pa,ngClassEven:Ia,ngClassOdd:La,ngCloak:Na,ngController:ja,ngForm:ma,ngHide:ps,ngIf:Ha,ngInclude:Ba,ngInit:Wa,ngNonBindable:is,ngPluralize:ls,ngRepeat:us,ngShow:hs,ngStyle:ds,ngSwitch:gs,ngSwitchWhen:ms,ngSwitchDefault:vs,ngOptions:ss,ngTransclude:ys,ngModel:es,ngList:Va,ngChange:Oa,pattern:Ts,ngPattern:Ts,required:ks,ngRequired:ks,minlength:_s,ngMinlength:_s,maxlength:Ms,ngMaxlength:Ms,ngValue:Aa,ngModelOptions:rs}).directive({ngInclude:qa}).directive(fa).directive(Ra),t.provider({$anchorScroll:Qe,$animate:Ao,$$animateQueue:_o,$$AnimateRunner:Mo,$browser:on,$cacheFactory:an,$controller:pn,$document:dn,$exceptionHandler:gn,$filter:Er,$interpolate:An,$interval:En,$http:kn,$httpParamSerializer:vn,$httpParamSerializerJQLike:yn,$httpBackend:Mn,$location:Vn,$log:Un,$parse:cr,$rootScope:gr,$q:fr,$$q:hr,$sce:wr,$sceDelegate:br,$sniffer:xr,$templateCache:sn,$templateRequest:$r,$$testability:Cr,$timeout:Sr,$window:Mr,$$rAF:dr,$$asyncCallback:nn,$$jqLite:Ve,$$HashMap:yo,$$cookieReader:Ar})}])}function we(){return++eo}function xe(t){return t.replace(io,function(t,e,n,r){return r?n.toUpperCase():n}).replace(oo,"Moz$1")}function $e(t){return!uo.test(t)}function Ce(t){var e=t.nodeType;return e===Yi||!e||e===Qi}function Se(t,e){var n,r,i,a,s=e.createDocumentFragment(),l=[];if($e(t))l.push(e.createTextNode(t));else{for(n=n||s.appendChild(e.createElement("div")),r=(co.exec(t)||["",""])[1].toLowerCase(),i=ho[r]||ho._default,n.innerHTML=i[1]+t.replace(fo,"<$1></$2>")+i[2],a=i[0];a--;)n=n.lastChild;l=B(l,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",o(l,function(t){s.appendChild(t)}),s}function ke(t,n){n=n||e;var r;return(r=lo.exec(t))?[n.createElement(r[1])]:(r=Se(t,n))?r.childNodes:[]}function Te(t){if(t instanceof Te)return t;var e;if($(t)&&(t=zi(t),e=!0),!(this instanceof Te)){if(e&&"<"!=t.charAt(0))throw so("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Te(t)}e?Ie(this,ke(t)):Ie(this,t)}function Me(t){return t.cloneNode(!0)}function _e(t,e){if(e||Ee(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),r=0,i=n.length;i>r;r++)Ee(n[r])}function Ae(t,e,n,r){if(b(r))throw so("offargs","jqLite#off() does not support the `selector` argument");var i=De(t),a=i&&i.events,s=i&&i.handle;if(s)if(e)o(e.split(" "),function(e){if(b(n)){var r=a[e];if(j(r||[],n),r&&r.length>0)return}ro(t,e,s),delete a[e]});else for(e in a)"$destroy"!==e&&ro(t,e,s),delete a[e]}function Ee(t,e){var r=t.ng339,i=r&&to[r];if(i){if(e)return void delete i.data[e];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),Ae(t)),delete to[r],t.ng339=n}}function De(t,e){var r=t.ng339,i=r&&to[r];return e&&!i&&(t.ng339=r=we(),i=to[r]={events:{},data:{},handle:n}),i}function Fe(t,e,n){if(Ce(t)){var r=b(n),i=!r&&e&&!w(e),o=!e,a=De(t,!i),s=a&&a.data;if(r)s[e]=n;else{if(o)return s;if(i)return s&&s[e];f(s,e)}}}function Oe(t,e){return t.getAttribute?(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1:!1}function Pe(t,e){e&&t.setAttribute&&o(e.split(" "),function(e){t.setAttribute("class",zi((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+zi(e)+" "," ")))})}function Le(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(e.split(" "),function(t){t=zi(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",zi(n))}}function Ie(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var r=0;n>r;r++)t[t.length++]=e[r]}else t[t.length++]=e}}function Ne(t,e){return je(t,"$"+(e||"ngController")+"Controller")}function je(t,e,r){t.nodeType==Qi&&(t=t.documentElement);for(var i=ji(e)?e:[e];t;){for(var o=0,a=i.length;a>o;o++)if((r=Ti.data(t,i[o]))!==n)return r;t=t.parentNode||t.nodeType===Zi&&t.host}}function Re(t){for(_e(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function ze(t,e){e||_e(t);var n=t.parentNode;n&&n.removeChild(t)}function He(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):Ti(n).on("load",e)}function Be(t,e){var n=go[e.toLowerCase()];return n&&mo[N(t)]&&n}function qe(t,e){var n=t.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&vo[e]}function We(t,e){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=e[r||n.type],o=i?i.length:0;if(o){if(y(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0},o>1&&(i=z(i));for(var s=0;o>s;s++)n.isImmediatePropagationStopped()||i[s].call(t,n)}};return n.elem=t,n}function Ve(){this.$get=function(){return f(Te,{hasClass:function(t,e){return t.attr&&(t=t[0]),Oe(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Le(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),Pe(t,e)}})}}function Ue(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var r=typeof t;return n="function"==r||"object"==r&&null!==t?t.$$hashKey=r+":"+(e||l)():r+":"+t}function Ye(t,e){if(e){var n=0;this.nextUid=function(){return++n}}o(t,this.put,this)}function Ge(t){var e=t.toString().replace($o,""),n=e.match(bo);return n?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Xe(t,e,n){var r,i,a,s;if("function"==typeof t){if(!(r=t.$inject)){if(r=[],t.length){if(e)throw $(n)&&n||(n=t.name||Ge(t)),Co("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=t.toString().replace($o,""),a=i.match(bo),o(a[1].split(wo),function(t){t.replace(xo,function(t,e,n){r.push(n)})})}t.$inject=r}}else ji(t)?(s=t.length-1,fe(t[s],"fn"),r=t.slice(0,s)):fe(t,"fn",!0);return r}function Ke(t,e){function r(t){return function(e,n){return w(e)?void o(e,s(t)):t(e,n)}}function i(t,e){if(he(t,"service"),(k(e)||ji(e))&&(e=T.instantiate(e)),!e.$get)throw Co("pget","Provider '{0}' must define $get factory method.",t);return S[t+b]=e}function a(t,e){return function(){var n=_.invoke(e,this);if(y(n))throw Co("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function l(t,e,n){return i(t,{$get:n!==!1?a(t,e):e})}function u(t,e){return l(t,["$injector",function(t){return t.instantiate(e)}])}function c(t,e){return l(t,v(e),!1)}function f(t,e){he(t,"constant"),S[t]=e,M[t]=e}function h(t,e){var n=T.get(t+b),r=n.$get;n.$get=function(){var t=_.invoke(r,n);return _.invoke(e,null,{$delegate:t})}}function p(t){var e,n=[];return o(t,function(t){function r(t){var e,n;for(e=0,n=t.length;n>e;e++){var r=t[e],i=T.get(r[0]);i[r[1]].apply(i,r[2])}}if(!C.get(t)){C.put(t,!0);try{$(t)?(e=_i(t),n=n.concat(p(e.requires)).concat(e._runBlocks),r(e._invokeQueue),r(e._configBlocks)):k(t)?n.push(T.invoke(t)):ji(t)?n.push(T.invoke(t)):fe(t,"module")}catch(i){throw ji(t)&&(t=t[t.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),Co("modulerr","Failed to instantiate module {0} due to:\n{1}",t,i.stack||i.message||i)}}}),n}function d(t,n){function r(e,r){if(t.hasOwnProperty(e)){if(t[e]===m)throw Co("cdep","Circular dependency found: {0}",e+" <- "+x.join(" <- "));return t[e]}try{return x.unshift(e),t[e]=m,t[e]=n(e,r)}catch(i){throw t[e]===m&&delete t[e],i}finally{x.shift()}}function i(t,n,i,o){"string"==typeof i&&(o=i,i=null);var a,s,l,u=[],c=Ke.$$annotate(t,e,o);for(s=0,a=c.length;a>s;s++){if(l=c[s],"string"!=typeof l)throw Co("itkn","Incorrect injection token! Expected service name as string, got {0}",l);u.push(i&&i.hasOwnProperty(l)?i[l]:r(l,o))}return ji(t)&&(t=t[a]),t.apply(n,u)}function o(t,e,n){var r=Object.create((ji(t)?t[t.length-1]:t).prototype||null),o=i(t,r,e,n);return w(o)||k(o)?o:r}return{invoke:i,instantiate:o,get:r,annotate:Ke.$$annotate,has:function(e){return S.hasOwnProperty(e+b)||t.hasOwnProperty(e)}}}e=e===!0;var m={},b="Provider",x=[],C=new Ye([],!0),S={$provide:{provider:r(i),factory:r(l),service:r(u),value:r(c),constant:r(f),decorator:h}},T=S.$injector=d(S,function(t,e){throw Li.isString(e)&&x.push(e),Co("unpr","Unknown provider: {0}",x.join(" <- "))}),M={},_=M.$injector=d(M,function(t,e){var r=T.get(t+b,e);return _.invoke(r.$get,r,n,t)});return o(p(t),function(t){_.invoke(t||g)}),_}function Qe(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,r){function i(t){var e=null;return Array.prototype.some.call(t,function(t){return"a"===N(t)?(e=t,!0):void 0}),e}function o(){var t=s.yOffset;if(k(t))t=t();else if(L(t)){var n=t[0],r=e.getComputedStyle(n);t="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else C(t)||(t=0);return t}function a(t){if(t){t.scrollIntoView();var n=o();if(n){var r=t.getBoundingClientRect().top;e.scrollBy(0,r-n)}}else e.scrollTo(0,0)}function s(t){t=$(t)?t:n.hash();var e;t?(e=l.getElementById(t))?a(e):(e=i(l.getElementsByName(t)))?a(e):"top"===t&&a(null):a(null)}var l=e.document;return t&&r.$watch(function(){return n.hash()},function(t,e){(t!==e||""!==t)&&He(function(){r.$evalAsync(s)})}),s}]}function Ze(t,e){return t||e?t?e?(ji(t)&&(t=t.join(" ")),ji(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function Je(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===ko)return n}}function tn(t){$(t)&&(t=t.split(" "));var e=ge();return o(t,function(t){t.length&&(e[t]=!0)}),e}function en(t){return w(t)?t:{}}function nn(){this.$get=["$$rAF","$timeout",function(t,e){return t.supported?function(e){return t(e)}:function(t){return e(t,0,!1)}}]}function rn(t,e,n,r){function i(t){try{t.apply(null,q(arguments,1))}finally{if(b--,0===b)for(;w.length;)try{w.pop()()}catch(e){n.error(e)}}}function a(t){var e=t.indexOf("#");return-1===e?"":t.substr(e+1)}function s(){u(),c()}function l(){try{return p.state}catch(t){}}function u(){x=l(),x=y(x)?null:x,H(x,_)&&(x=_),_=x}function c(){(C!==f.url()||$!==x)&&(C=f.url(),$=x,o(T,function(t){t(f.url(),x)}))}var f=this,h=(e[0],t.location),p=t.history,d=t.setTimeout,m=t.clearTimeout,v={};f.isMock=!1;var b=0,w=[];f.$$completeOutstandingRequest=i,f.$$incOutstandingRequestCount=function(){b++},f.notifyWhenNoOutstandingRequests=function(t){0===b?t():w.push(t)};var x,$,C=h.href,S=e.find("base"),k=null;u(),$=x,f.url=function(e,n,i){if(y(i)&&(i=null),h!==t.location&&(h=t.location),p!==t.history&&(p=t.history),e){var o=$===i;if(C===e&&(!r.history||o))return f;var s=C&&In(C)===In(e);return C=e,$=i,!r.history||s&&o?(s||(k=e),n?h.replace(e):s?h.hash=a(e):h.href=e):(p[n?"replaceState":"pushState"](i,"",e),u(),$=x),f}return k||h.href.replace(/%27/g,"'")},f.state=function(){return x};var T=[],M=!1,_=null;f.onUrlChange=function(e){return M||(r.history&&Ti(t).on("popstate",s),Ti(t).on("hashchange",s),M=!0),T.push(e),e},f.$$applicationDestroyed=function(){Ti(t).off("hashchange popstate",s)},f.$$checkUrlChange=c,f.baseHref=function(){var t=S.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""},f.defer=function(t,e){var n;return b++,n=d(function(){delete v[n],i(t)},e||0),v[n]=!0,n},f.defer.cancel=function(t){return v[t]?(delete v[t],m(t),i(g),!0):!1}}function on(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,r){return new rn(t,r,e,n)}]}function an(){this.$get=function(){function t(t,n){function i(t){t!=h&&(p?p==t&&(p=t.n):p=t,o(t.n,t.p),o(t,h),h=t,h.n=null)}function o(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in e)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var a=0,s=f({},n,{id:t}),l={},u=n&&n.capacity||Number.MAX_VALUE,c={},h=null,p=null;return e[t]={put:function(t,e){if(!y(e)){if(u<Number.MAX_VALUE){var n=c[t]||(c[t]={key:t});i(n)}return t in l||a++,l[t]=e,a>u&&this.remove(p.key),e}},get:function(t){if(u<Number.MAX_VALUE){var e=c[t];if(!e)return;i(e)}return l[t]},remove:function(t){if(u<Number.MAX_VALUE){var e=c[t];if(!e)return;e==h&&(h=e.p),e==p&&(p=e.n),o(e.n,e.p),delete c[t]}delete l[t],a--},removeAll:function(){l={},a=0,c={},h=p=null},destroy:function(){l=null,s=null,c=null,delete e[t]},info:function(){return f({},s,{size:a})}}}var e={};return t.info=function(){var t={};return o(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function sn(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function ln(t,r){function i(t,e,n){var r=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,i={};return o(t,function(t,o){var a=t.match(r);if(!a)throw Eo("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,o,t,n?"controller bindings definition":"isolate scope definition");i[o]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||o}}),i}function a(t,e){var n={isolateScope:null,bindToController:null};if(w(t.scope)&&(t.bindToController===!0?(n.bindToController=i(t.scope,e,!0),n.isolateScope={}):n.isolateScope=i(t.scope,e,!1)),w(t.bindToController)&&(n.bindToController=i(t.bindToController,e,!0)),w(n.bindToController)){var r=t.controller,o=t.controllerAs;if(!r)throw Eo("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);if(!hn(r,o))throw Eo("noident","Cannot bind to controller without identifier for directive '{0}'.",e)}return n}function l(t){var e=t.charAt(0);if(!e||e!==wi(e))throw Eo("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw Eo("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}var u={},c="Directive",h=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,p=/(([\w\-]+)(?:\:([^;]+))?;?)/,y=I("ngSrc,ngSrcset,src,srcset"),x=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,C=/^(on[a-z]+|formaction)$/;this.directive=function T(e,n){return he(e,"directive"),$(e)?(l(e),ce(n,"directiveFactory"),u.hasOwnProperty(e)||(u[e]=[],t.factory(e+c,["$injector","$exceptionHandler",function(t,n){var r=[];return o(u[e],function(i,o){try{var s=t.invoke(i);k(s)?s={compile:v(s)}:!s.compile&&s.link&&(s.compile=v(s.link)),s.priority=s.priority||0,s.index=o,s.name=s.name||e,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA";var l=s.$$bindings=a(s,s.name);w(l.isolateScope)&&(s.$$isolateBindings=l.isolateScope),r.push(s)}catch(u){n(u)}}),r}])),u[e].push(n)):o(e,s(T)),this},this.aHrefSanitizationWhitelist=function(t){return b(t)?(r.aHrefSanitizationWhitelist(t),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return b(t)?(r.imgSrcSanitizationWhitelist(t),this):r.imgSrcSanitizationWhitelist()};var S=!0;this.debugInfoEnabled=function(t){return b(t)?(S=t,this):S},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(t,r,i,a,s,l,v,b,T,M,A){function E(t,e){try{t.addClass(e)}catch(n){}}function D(t,e,n,r,i){t instanceof Ti||(t=Ti(t)),o(t,function(e,n){e.nodeType==Xi&&e.nodeValue.match(/\S+/)&&(t[n]=Ti(e).wrap("<span></span>").parent()[0])});var a=O(t,e,t,n,r,i);D.$$addScopeClass(t);var s=null;return function(e,n,r){ce(e,"scope"),r=r||{};var i=r.parentBoundTranscludeFn,o=r.transcludeControllers,l=r.futureParentElement;i&&i.$$boundTransclude&&(i=i.$$boundTransclude),s||(s=F(l));var u;if(u="html"!==s?Ti(Z(s,Ti("<div>").append(t).html())):n?po.clone.call(t):t,o)for(var c in o)u.data("$"+c+"Controller",o[c].instance);return D.$$addScopeInfo(u,e),n&&n(u,e),a&&a(e,u,u,i),u}}function F(t){var e=t&&t[0];return e&&"foreignobject"!==N(e)&&e.toString().match(/SVG/)?"svg":"html"}function O(t,e,r,i,o,a){function s(t,r,i,o){var a,s,l,u,c,f,h,p,m;if(d){var v=r.length;for(m=new Array(v),c=0;c<g.length;c+=3)h=g[c],m[h]=r[h]}else m=r;for(c=0,f=g.length;f>c;)if(l=m[g[c++]],a=g[c++],s=g[c++],a){if(a.scope){u=t.$new(),D.$$addScopeInfo(Ti(l),u);var y=a.$$destroyBindings;y&&(a.$$destroyBindings=null,u.$on("$destroyed",y))}else u=t;p=a.transcludeOnThisElement?P(t,a.transclude,o,a.elementTranscludeOnThisElement):!a.templateOnThisElement&&o?o:!o&&e?P(t,e):null,a(s,u,l,i,p,a)}else s&&s(t,l.childNodes,n,o)}for(var l,u,c,f,h,p,d,g=[],m=0;m<t.length;m++)l=new oe,u=L(t[m],[],l,0===m?i:n,o),c=u.length?z(u,t[m],l,e,r,null,[],[],a):null,c&&c.scope&&D.$$addScopeClass(l.$$element),h=c&&c.terminal||!(f=t[m].childNodes)||!f.length?null:O(f,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:e),(c||h)&&(g.push(m,c,h),p=!0,d=d||c),a=null;return p?s:null}function P(t,e,n){var r=function(r,i,o,a,s){return r||(r=t.$new(!1,s),r.$$transcluded=!0),e(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})};return r}function L(t,e,n,r,i){var o,a,s=t.nodeType,l=n.$attr;switch(s){case Yi:W(e,un(N(t)),"E",r,i);for(var u,c,f,d,g,m,v=t.attributes,y=0,b=v&&v.length;b>y;y++){var x=!1,C=!1;u=v[y],c=u.name,g=zi(u.value),d=un(c),(m=fe.test(d))&&(c=c.replace(Do,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var S=d.replace(/(Start|End)$/,"");V(S)&&d===S+"Start"&&(x=c,C=c.substr(0,c.length-5)+"end",c=c.substr(0,c.length-6)),f=un(c.toLowerCase()),l[f]=c,(m||!n.hasOwnProperty(f))&&(n[f]=g,Be(t,f)&&(n[f]=!0)),te(t,e,g,f,m),W(e,f,"A",r,i,x,C)}if(a=t.className,w(a)&&(a=a.animVal),$(a)&&""!==a)for(;o=p.exec(a);)f=un(o[2]),W(e,f,"C",r,i)&&(n[f]=zi(o[3])),a=a.substr(o.index+o[0].length);break;case Xi:K(e,t.nodeValue);break;case Ki:try{o=h.exec(t.nodeValue),o&&(f=un(o[1]),W(e,f,"M",r,i)&&(n[f]=zi(o[2])))}catch(k){}}return e.sort(G),e}function I(t,e,n){var r=[],i=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw Eo("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType==Yi&&(t.hasAttribute(e)&&i++,t.hasAttribute(n)&&i--),r.push(t),t=t.nextSibling}while(i>0)}else r.push(t);return Ti(r)}function R(t,e,n){return function(r,i,o,a,s){return i=I(i[0],e,n),t(r,i,o,a,s)}}function z(t,r,o,a,s,u,c,f,h){function p(t,e,n,r){t&&(n&&(t=R(t,n,r)),t.require=y.require,t.directiveName=b,(E===y||y.$$isolateScope)&&(t=ne(t,{isolateScope:!0})),c.push(t)),e&&(n&&(e=R(e,n,r)),e.require=y.require,e.directiveName=b,(E===y||y.$$isolateScope)&&(e=ne(e,{isolateScope:!0})),f.push(e))}function d(t,e,n,r){var i;if($(e)){var o=e.match(x),a=e.substring(o[0].length),s=o[1]||o[3],l="?"===o[2];if("^^"===s?n=n.parent():(i=r&&r[a],i=i&&i.instance),!i){var u="$"+a+"Controller";i=s?n.inheritedData(u):n.data(u)}if(!i&&!l)throw Eo("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,t)}else if(ji(e)){i=[];for(var c=0,f=e.length;f>c;c++)i[c]=d(t,e[c],n,r)}return i||null}function g(t,e,n,r,i,o){var a=ge();for(var s in r){var u=r[s],c={$scope:u===E||u.$$isolateScope?i:o,$element:t,$attrs:e,$transclude:n},f=u.controller;"@"==f&&(f=e[u.name]);var h=l(f,c,!0,u.controllerAs);a[u.name]=h,j||t.data("$"+u.name+"Controller",h.instance)}return a}function m(t,e,i,a,s,l){function u(t,e,r){var i;return _(t)||(r=e,e=t,t=n),j&&(i=x),r||(r=j?C.parent():C),s(t,e,i,r,P)}var h,p,m,b,w,x,$,C,S;if(r===i?(S=o,C=o.$$element):(C=Ti(i),S=new oe(C,o)),E&&(w=e.$new(!0)),s&&($=u,$.$$boundTransclude=s),A&&(x=g(C,S,$,A,w,e)),E&&(D.$$addScopeInfo(C,w,!0,!(F&&(F===E||F===E.$$originalDirective))),D.$$addScopeClass(C,!0),w.$$isolateBindings=E.$$isolateBindings,ie(e,S,w,w.$$isolateBindings,E,w)),x){var k,T,M=E||v;M&&x[M.name]&&(k=M.$$bindings.bindToController,b=x[M.name],b&&b.identifier&&k&&(T=b,l.$$destroyBindings=ie(e,S,b.instance,k,M)));for(h in x){b=x[h];var O=b();O!==b.instance&&(b.instance=O,C.data("$"+y.name+"Controller",O),b===T&&(l.$$destroyBindings(),l.$$destroyBindings=ie(e,S,O,k,M)))}}for(h=0,p=c.length;p>h;h++)m=c[h],re(m,m.isolateScope?w:e,C,S,m.require&&d(m.directiveName,m.require,C,x),$);var P=e;for(E&&(E.template||null===E.templateUrl)&&(P=w),t&&t(P,i.childNodes,n,s),h=f.length-1;h>=0;h--)m=f[h],re(m,m.isolateScope?w:e,C,S,m.require&&d(m.directiveName,m.require,C,x),$)}h=h||{};for(var v,y,b,C,S,T,M=-Number.MAX_VALUE,A=h.controllerDirectives,E=h.newIsolateScopeDirective,F=h.templateDirective,O=h.nonTlbTranscludeDirective,P=!1,N=!1,j=h.hasElementTranscludeDirective,z=o.$$element=Ti(r),H=u,W=a,V=0,G=t.length;G>V;V++){y=t[V];var K=y.$$start,J=y.$$end;if(K&&(z=I(r,K,J)),C=n,M>y.priority)break;if((T=y.scope)&&(y.templateUrl||(w(T)?(X("new/isolated scope",E||v,y,z),E=y):X("new/isolated scope",E,y,z)),v=v||y),b=y.name,!y.templateUrl&&y.controller&&(T=y.controller,A=A||ge(),X("'"+b+"' controller",A[b],y,z),A[b]=y),(T=y.transclude)&&(P=!0,y.$$tlb||(X("transclusion",O,y,z),O=y),"element"==T?(j=!0,M=y.priority,C=z,z=o.$$element=Ti(e.createComment(" "+b+": "+o[b]+" ")),r=z[0],ee(s,q(C),r),W=D(C,a,M,H&&H.name,{nonTlbTranscludeDirective:O})):(C=Ti(Me(r)).contents(),z.empty(),W=D(C,a))),y.template)if(N=!0,X("template",F,y,z),F=y,T=k(y.template)?y.template(z,o):y.template,T=ue(T),y.replace){if(H=y,C=$e(T)?[]:fn(Z(y.templateNamespace,zi(T))),r=C[0],1!=C.length||r.nodeType!==Yi)throw Eo("tplrt","Template for directive '{0}' must have exactly one root element. {1}",b,"");
ee(s,z,r);var te={$attr:{}},ae=L(r,[],te),se=t.splice(V+1,t.length-(V+1));E&&B(ae),t=t.concat(ae).concat(se),U(o,te),G=t.length}else z.html(T);if(y.templateUrl)N=!0,X("template",F,y,z),F=y,y.replace&&(H=y),m=Y(t.splice(V,t.length-V),z,o,s,P&&W,c,f,{controllerDirectives:A,newIsolateScopeDirective:E,templateDirective:F,nonTlbTranscludeDirective:O}),G=t.length;else if(y.compile)try{S=y.compile(z,o,W),k(S)?p(null,S,K,J):S&&p(S.pre,S.post,K,J)}catch(le){i(le,Q(z))}y.terminal&&(m.terminal=!0,M=Math.max(M,y.priority))}return m.scope=v&&v.scope===!0,m.transcludeOnThisElement=P,m.elementTranscludeOnThisElement=j,m.templateOnThisElement=N,m.transclude=W,h.hasElementTranscludeDirective=j,m}function B(t){for(var e=0,n=t.length;n>e;e++)t[e]=d(t[e],{$$isolateScope:!0})}function W(e,r,o,a,s,l,f){if(r===s)return null;var h=null;if(u.hasOwnProperty(r))for(var p,g=t.get(r+c),m=0,v=g.length;v>m;m++)try{p=g[m],(a===n||a>p.priority)&&-1!=p.restrict.indexOf(o)&&(l&&(p=d(p,{$$start:l,$$end:f})),e.push(p),h=p)}catch(y){i(y)}return h}function V(e){if(u.hasOwnProperty(e))for(var n,r=t.get(e+c),i=0,o=r.length;o>i;i++)if(n=r[i],n.multiElement)return!0;return!1}function U(t,e){var n=e.$attr,r=t.$attr,i=t.$$element;o(t,function(r,i){"$"!=i.charAt(0)&&(e[i]&&e[i]!==r&&(r+=("style"===i?";":" ")+e[i]),t.$set(i,r,!0,n[i]))}),o(e,function(e,o){"class"==o?(E(i,e),t["class"]=(t["class"]?t["class"]+" ":"")+e):"style"==o?(i.attr("style",i.attr("style")+";"+e),t.style=(t.style?t.style+";":"")+e):"$"==o.charAt(0)||t.hasOwnProperty(o)||(t[o]=e,r[o]=n[o])})}function Y(t,e,n,r,i,s,l,u){var c,f,h=[],p=e[0],g=t.shift(),m=d(g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),v=k(g.templateUrl)?g.templateUrl(e,n):g.templateUrl,y=g.templateNamespace;return e.empty(),a(T.getTrustedResourceUrl(v)).then(function(a){var d,b,x,$;if(a=ue(a),g.replace){if(x=$e(a)?[]:fn(Z(y,zi(a))),d=x[0],1!=x.length||d.nodeType!==Yi)throw Eo("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g.name,v);b={$attr:{}},ee(r,e,d);var C=L(d,[],b);w(g.scope)&&B(C),t=C.concat(t),U(n,b)}else d=p,e.html(a);for(t.unshift(m),c=z(t,d,n,i,e,g,s,l,u),o(r,function(t,n){t==d&&(r[n]=e[0])}),f=O(e[0].childNodes,i);h.length;){var S=h.shift(),k=h.shift(),T=h.shift(),M=h.shift(),_=e[0];if(!S.$$destroyed){if(k!==p){var A=k.className;u.hasElementTranscludeDirective&&g.replace||(_=Me(d)),ee(T,Ti(k),_),E(Ti(_),A)}$=c.transcludeOnThisElement?P(S,c.transclude,M):M,c(f,S,_,r,$,c)}}h=null}),function(t,e,n,r,i){var o=i;e.$$destroyed||(h?h.push(e,n,r,o):(c.transcludeOnThisElement&&(o=P(e,c.transclude,i)),c(f,e,n,r,o,c)))}}function G(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function X(t,e,n,r){if(e)throw Eo("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",e.name,n.name,t,Q(r))}function K(t,e){var n=r(e,!0);n&&t.push({priority:0,compile:function(t){var e=t.parent(),r=!!e.length;return r&&D.$$addBindingClass(e),function(t,e){var i=e.parent();r||D.$$addBindingClass(i),D.$$addBindingInfo(i,n.expressions),t.$watch(n,function(t){e[0].nodeValue=t})}}})}function Z(t,n){switch(t=wi(t||"html")){case"svg":case"math":var r=e.createElement("div");return r.innerHTML="<"+t+">"+n+"</"+t+">",r.childNodes[0].childNodes;default:return n}}function J(t,e){if("srcdoc"==e)return T.HTML;var n=N(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?T.RESOURCE_URL:void 0}function te(t,e,n,i,o){var a=J(t,i);o=y[i]||o;var s=r(n,!0,a,o);if(s){if("multiple"===i&&"select"===N(t))throw Eo("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Q(t));e.push({priority:100,compile:function(){return{pre:function(t,e,l){var u=l.$$observers||(l.$$observers={});if(C.test(i))throw Eo("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var c=l[i];c!==n&&(s=c&&r(c,!0,a,o),n=c),s&&(l[i]=s(t),(u[i]||(u[i]=[])).$$inter=!0,(l.$$observers&&l.$$observers[i].$$scope||t).$watch(s,function(t,e){"class"===i&&t!=e?l.$updateClass(t,e):l.$set(i,t)}))}}}})}}function ee(t,n,r){var i,o,a=n[0],s=n.length,l=a.parentNode;if(t)for(i=0,o=t.length;o>i;i++)if(t[i]==a){t[i++]=r;for(var u=i,c=u+s-1,f=t.length;f>u;u++,c++)f>c?t[u]=t[c]:delete t[u];t.length-=s-1,t.context===a&&(t.context=r);break}l&&l.replaceChild(r,a);var h=e.createDocumentFragment();h.appendChild(a),Ti(r).data(Ti(a).data()),Mi?(Ni=!0,Mi.cleanData([a])):delete Ti.cache[a[Ti.expando]];for(var p=1,d=n.length;d>p;p++){var g=n[p];Ti(g).remove(),h.appendChild(g),delete n[p]}n[0]=r,n.length=1}function ne(t,e){return f(function(){return t.apply(null,arguments)},t,e)}function re(t,e,n,r,o,a){try{t(e,n,r,o,a)}catch(s){i(s,Q(n))}}function ie(t,e,n,i,a,l){var u;o(i,function(i,o){var l,c,f,h,p=i.attrName,d=i.optional,m=i.mode;switch(m){case"@":e.$observe(p,function(t){n[o]=t}),e.$$observers[p].$$scope=t,e[p]&&(n[o]=r(e[p])(t));break;case"=":if(d&&!e[p])return;c=s(e[p]),h=c.literal?H:function(t,e){return t===e||t!==t&&e!==e},f=c.assign||function(){throw l=n[o]=c(t),Eo("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",e[p],a.name)},l=n[o]=c(t);var v=function(e){return h(e,n[o])||(h(e,l)?f(t,e=n[o]):n[o]=e),l=e};v.$stateful=!0;var y;y=i.collection?t.$watchCollection(e[p],v):t.$watch(s(e[p],v),null,c.literal),u=u||[],u.push(y);break;case"&":if(!e.hasOwnProperty(p)&&d)break;if(c=s(e[p]),c===g&&d)break;n[o]=function(e){return c(t,e)}}});var c=u?function(){for(var t=0,e=u.length;e>t;++t)u[t]()}:g;return l&&c!==g?(l.$on("$destroy",c),g):c}var oe=function(t,e){if(e){var n,r,i,o=Object.keys(e);for(n=0,r=o.length;r>n;n++)i=o[n],this[i]=e[i]}else this.$attr={};this.$$element=t};oe.prototype={$normalize:un,$addClass:function(t){t&&t.length>0&&M.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&M.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=cn(t,e);n&&n.length&&M.addClass(this.$$element,n);var r=cn(e,t);r&&r.length&&M.removeClass(this.$$element,r)},$set:function(t,e,r,a){var s,l=this.$$element[0],u=Be(l,t),c=qe(l,t),f=t;if(u?(this.$$element.prop(t,e),a=u):c&&(this[c]=e,f=c),this[t]=e,a?this.$attr[t]=a:(a=this.$attr[t],a||(this.$attr[t]=a=le(t,"-"))),s=N(this.$$element),"a"===s&&"href"===t||"img"===s&&"src"===t)this[t]=e=A(e,"src"===t);else if("img"===s&&"srcset"===t){for(var h="",p=zi(e),d=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,g=/\s/.test(p)?d:/(,)/,m=p.split(g),v=Math.floor(m.length/2),y=0;v>y;y++){var b=2*y;h+=A(zi(m[b]),!0),h+=" "+zi(m[b+1])}var w=zi(m[2*y]).split(/\s/);h+=A(zi(w[0]),!0),2===w.length&&(h+=" "+zi(w[1])),this[t]=e=h}r!==!1&&(null===e||e===n?this.$$element.removeAttr(a):this.$$element.attr(a,e));var x=this.$$observers;x&&o(x[f],function(t){try{t(e)}catch(n){i(n)}})},$observe:function(t,e){var n=this,r=n.$$observers||(n.$$observers=ge()),i=r[t]||(r[t]=[]);return i.push(e),v.$evalAsync(function(){!i.$$inter&&n.hasOwnProperty(t)&&e(n[t])}),function(){j(i,e)}}};var ae=r.startSymbol(),se=r.endSymbol(),ue="{{"==ae||"}}"==se?m:function(t){return t.replace(/\{\{/g,ae).replace(/}}/g,se)},fe=/^ngAttr[A-Z]/;return D.$$addBindingInfo=S?function(t,e){var n=t.data("$binding")||[];ji(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:g,D.$$addBindingClass=S?function(t){E(t,"ng-binding")}:g,D.$$addScopeInfo=S?function(t,e,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(i,e)}:g,D.$$addScopeClass=S?function(t,e){E(t,e?"ng-isolate-scope":"ng-scope")}:g,D}]}function un(t){return xe(t.replace(Do,""))}function cn(t,e){var n="",r=t.split(/\s+/),i=e.split(/\s+/);t:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a==i[s])continue t;n+=(n.length>0?" ":"")+a}return n}function fn(t){t=Ti(t);var e=t.length;if(1>=e)return t;for(;e--;){var n=t[e];n.nodeType===Ki&&Ei.call(t,e,1)}return t}function hn(t,e){if(e&&$(e))return e;if($(t)){var n=Oo.exec(t);if(n)return n[3]}}function pn(){var t={},e=!1;this.register=function(e,n){he(e,"controller"),w(e)?f(t,e):t[e]=n},this.allowGlobals=function(){e=!0},this.$get=["$injector","$window",function(i,o){function a(t,e,n,i){if(!t||!w(t.$scope))throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,e);t.$scope[e]=n}return function(r,s,l,u){var c,h,p,d;if(l=l===!0,u&&$(u)&&(d=u),$(r)){if(h=r.match(Oo),!h)throw Fo("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);p=h[1],d=d||h[3],r=t.hasOwnProperty(p)?t[p]:pe(s.$scope,p,!0)||(e?pe(o,p,!0):n),fe(r,p,!0)}if(l){var g=(ji(r)?r[r.length-1]:r).prototype;c=Object.create(g||null),d&&a(s,d,c,p||r.name);var m;return m=f(function(){var t=i.invoke(r,c,s,p);return t!==c&&(w(t)||k(t))&&(c=t,d&&a(s,d,c,p||r.name)),c},{instance:c,identifier:d})}return c=i.instantiate(r,s,p),d&&a(s,d,c,p||r.name),c}}]}function dn(){this.$get=["$window",function(t){return Ti(t.document)}]}function gn(){this.$get=["$log",function(t){return function(){t.error.apply(t,arguments)}}]}function mn(t){return w(t)?S(t)?t.toISOString():U(t):t}function vn(){this.$get=function(){return function(t){if(!t)return"";var e=[];return a(t,function(t,n){null===t||y(t)||(ji(t)?o(t,function(t){e.push(ne(n)+"="+ne(mn(t)))}):e.push(ne(n)+"="+ne(mn(t))))}),e.join("&")}}}function yn(){this.$get=function(){return function(t){function e(t,r,i){null===t||y(t)||(ji(t)?o(t,function(t){e(t,r+"[]")}):w(t)&&!S(t)?a(t,function(t,n){e(t,r+(i?"":"[")+n+(i?"":"]"))}):n.push(ne(r)+"="+ne(mn(t))))}if(!t)return"";var n=[];return e(t,"",!0),n.join("&")}}}function bn(t,e){if($(t)){var n=t.replace(jo,"").trim();if(n){var r=e("Content-Type");(r&&0===r.indexOf(Po)||wn(n))&&(t=Y(n))}}return t}function wn(t){var e=t.match(Io);return e&&No[e[0]].test(t)}function xn(t){function e(t,e){t&&(r[t]=r[t]?r[t]+", "+e:e)}var n,r=ge();return $(t)?o(t.split("\n"),function(t){n=t.indexOf(":"),e(wi(zi(t.substr(0,n))),zi(t.substr(n+1)))}):w(t)&&o(t,function(t,n){e(wi(n),zi(t))}),r}function $n(t){var e;return function(n){if(e||(e=xn(t)),n){var r=e[wi(n)];return void 0===r&&(r=null),r}return e}}function Cn(t,e,n,r){return k(r)?r(t,e,n):(o(r,function(r){t=r(t,e,n)}),t)}function Sn(t){return t>=200&&300>t}function kn(){var t=this.defaults={transformResponse:[bn],transformRequest:[function(t){return!w(t)||A(t)||D(t)||E(t)?t:U(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:z(Lo),put:z(Lo),patch:z(Lo)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},e=!1;this.useApplyAsync=function(t){return b(t)?(e=!!t,this):e};var i=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(a,s,l,u,c,h){function p(e){function i(t){var e=f({},t);return e.data=t.data?Cn(t.data,t.headers,t.status,l.transformResponse):t.data,Sn(t.status)?e:c.reject(e)}function a(t,e){var n,r={};return o(t,function(t,i){k(t)?(n=t(e),null!=n&&(r[i]=n)):r[i]=t}),r}function s(e){var n,r,i,o=t.headers,s=f({},e.headers);o=f({},o.common,o[wi(e.method)]);t:for(n in o){r=wi(n);for(i in s)if(wi(i)===r)continue t;s[n]=o[n]}return a(s,z(e))}if(!Li.isObject(e))throw r("$http")("badreq","Http request configuration must be an object.  Received: {0}",e);var l=f({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer},e);l.headers=s(e),l.method=$i(l.method),l.paramSerializer=$(l.paramSerializer)?h.get(l.paramSerializer):l.paramSerializer;var u=function(e){var r=e.headers,a=Cn(e.data,$n(r),n,e.transformRequest);return y(a)&&o(r,function(t,e){"content-type"===wi(e)&&delete r[e]}),y(e.withCredentials)&&!y(t.withCredentials)&&(e.withCredentials=t.withCredentials),m(e,a).then(i,i)},p=[u,n],d=c.when(l);for(o(C,function(t){(t.request||t.requestError)&&p.unshift(t.request,t.requestError),(t.response||t.responseError)&&p.push(t.response,t.responseError)});p.length;){var g=p.shift(),v=p.shift();d=d.then(g,v)}return d.success=function(t){return fe(t,"fn"),d.then(function(e){t(e.data,e.status,e.headers,l)}),d},d.error=function(t){return fe(t,"fn"),d.then(null,function(e){t(e.data,e.status,e.headers,l)}),d},d}function d(){o(arguments,function(t){p[t]=function(e,n){return p(f({},n||{},{method:t,url:e}))}})}function g(){o(arguments,function(t){p[t]=function(e,n,r){return p(f({},r||{},{method:t,url:e,data:n}))}})}function m(r,i){function o(t,n,r,i){function o(){l(n,t,r,i)}d&&(Sn(t)?d.put(S,[t,n,xn(r),i]):d.remove(S)),e?u.$applyAsync(o):(o(),u.$$phase||u.$apply())}function l(t,e,n,i){e=Math.max(e,0),(Sn(e)?m.resolve:m.reject)({data:t,status:e,headers:$n(n),config:r,statusText:i})}function f(t){l(t.data,t.status,z(t.headers()),t.statusText)}function h(){var t=p.pendingRequests.indexOf(r);-1!==t&&p.pendingRequests.splice(t,1)}var d,g,m=c.defer(),$=m.promise,C=r.headers,S=v(r.url,r.paramSerializer(r.params));if(p.pendingRequests.push(r),$.then(h,h),!r.cache&&!t.cache||r.cache===!1||"GET"!==r.method&&"JSONP"!==r.method||(d=w(r.cache)?r.cache:w(t.cache)?t.cache:x),d&&(g=d.get(S),b(g)?O(g)?g.then(f,f):ji(g)?l(g[1],g[0],z(g[2]),g[3]):l(g,200,{},"OK"):d.put(S,$)),y(g)){var k=Tr(r.url)?s()[r.xsrfCookieName||t.xsrfCookieName]:n;k&&(C[r.xsrfHeaderName||t.xsrfHeaderName]=k),a(r.method,S,i,o,C,r.timeout,r.withCredentials,r.responseType)}return $}function v(t,e){return e.length>0&&(t+=(-1==t.indexOf("?")?"?":"&")+e),t}var x=l("$http");t.paramSerializer=$(t.paramSerializer)?h.get(t.paramSerializer):t.paramSerializer;var C=[];return o(i,function(t){C.unshift($(t)?h.get(t):h.invoke(t))}),p.pendingRequests=[],d("get","delete","head","jsonp"),g("post","put","patch"),p.defaults=t,p}]}function Tn(){return new t.XMLHttpRequest}function Mn(){this.$get=["$browser","$window","$document",function(t,e,n){return _n(t,Tn,t.defer,e.angular.callbacks,n[0])}]}function _n(t,e,r,i,a){function s(t,e,n){var r=a.createElement("script"),o=null;return r.type="text/javascript",r.src=t,r.async=!0,o=function(t){ro(r,"load",o),ro(r,"error",o),a.body.removeChild(r),r=null;var s=-1,l="unknown";t&&("load"!==t.type||i[e].called||(t={type:"error"}),l=t.type,s="error"===t.type?404:200),n&&n(s,l)},no(r,"load",o),no(r,"error",o),a.body.appendChild(r),o}return function(a,l,u,c,f,h,p,d){function m(){w&&w(),x&&x.abort()}function v(e,i,o,a,s){S!==n&&r.cancel(S),w=x=null,e(i,o,a,s),t.$$completeOutstandingRequest(g)}if(t.$$incOutstandingRequestCount(),l=l||t.url(),"jsonp"==wi(a)){var y="_"+(i.counter++).toString(36);i[y]=function(t){i[y].data=t,i[y].called=!0};var w=s(l.replace("JSON_CALLBACK","angular.callbacks."+y),y,function(t,e){v(c,t,i[y].data,"",e),i[y]=g})}else{var x=e();x.open(a,l,!0),o(f,function(t,e){b(t)&&x.setRequestHeader(e,t)}),x.onload=function(){var t=x.statusText||"",e="response"in x?x.response:x.responseText,n=1223===x.status?204:x.status;0===n&&(n=e?200:"file"==kr(l).protocol?404:0),v(c,n,e,x.getAllResponseHeaders(),t)};var $=function(){v(c,-1,null,null,"")};if(x.onerror=$,x.onabort=$,p&&(x.withCredentials=!0),d)try{x.responseType=d}catch(C){if("json"!==d)throw C}x.send(u)}if(h>0)var S=r(m,h);else O(h)&&h.then(m)}}function An(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(t){return"\\\\\\"+t}function a(n){return n.replace(h,t).replace(p,e)}function s(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=U(t)}return t}function l(o,l,h,p){function d(t){try{return t=_(t),p&&!b(t)?t:s(t)}catch(e){r(Ro.interr(o,e))}}p=!!p;for(var g,m,v,w=0,x=[],$=[],C=o.length,S=[],T=[];C>w;){if(-1==(g=o.indexOf(t,w))||-1==(m=o.indexOf(e,g+u))){w!==C&&S.push(a(o.substring(w)));break}w!==g&&S.push(a(o.substring(w,g))),v=o.substring(g+u,m),x.push(v),$.push(n(v,d)),w=m+c,T.push(S.length),S.push("")}if(h&&S.length>1&&Ro.throwNoconcat(o),!l||x.length){var M=function(t){for(var e=0,n=x.length;n>e;e++){if(p&&y(t[e]))return;S[T[e]]=t[e]}return S.join("")},_=function(t){return h?i.getTrusted(h,t):i.valueOf(t)};return f(function(t){var e=0,n=x.length,i=new Array(n);try{for(;n>e;e++)i[e]=$[e](t);return M(i)}catch(a){r(Ro.interr(o,a))}},{exp:o,expressions:x,$$watchDelegate:function(t,e){var n;return t.$watchGroup($,function(r,i){var o=M(r);k(e)&&e.call(this,o,r!==i?n:o,t),n=o})}})}}var u=t.length,c=e.length,h=new RegExp(t.replace(/./g,o),"g"),p=new RegExp(e.replace(/./g,o),"g");return l.startSymbol=function(){return t},l.endSymbol=function(){return e},l}]}function En(){this.$get=["$rootScope","$window","$q","$$q",function(t,e,n,r){function i(i,a,s,l){var u=arguments.length>4,c=u?q(arguments,4):[],f=e.setInterval,h=e.clearInterval,p=0,d=b(l)&&!l,g=(d?r:n).defer(),m=g.promise;return s=b(s)?s:0,m.then(null,null,u?function(){i.apply(null,c)}:i),m.$$intervalId=f(function(){g.notify(p++),s>0&&p>=s&&(g.resolve(p),h(m.$$intervalId),delete o[m.$$intervalId]),d||t.$apply()},a),o[m.$$intervalId]=g,m}var o={};return i.cancel=function(t){return t&&t.$$intervalId in o?(o[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete o[t.$$intervalId],!0):!1},i}]}function Dn(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"",posSuf:"",negPre:"(",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(t){return 1===t?"one":"other"}}}}function Fn(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=ee(e[n]);return e.join("/")}function On(t,e){var n=kr(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=p(n.port)||Ho[n.protocol]||null}function Pn(t,e){var n="/"!==t.charAt(0);n&&(t="/"+t);var r=kr(t);e.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),e.$$search=J(r.search),e.$$hash=decodeURIComponent(r.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function Ln(t,e){return 0===e.indexOf(t)?e.substr(t.length):void 0}function In(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function Nn(t){return t.replace(/(#.+)|#$/,"$1")}function jn(t){return t.substr(0,In(t).lastIndexOf("/")+1)}function Rn(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function zn(t,e){this.$$html5=!0,e=e||"";var r=jn(t);On(t,this),this.$$parse=function(t){var e=Ln(r,t);if(!$(e))throw Bo("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,r);Pn(e,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=te(this.$$search),e=this.$$hash?"#"+ee(this.$$hash):"";this.$$url=Fn(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=r+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var a,s,l;return(a=Ln(t,i))!==n?(s=a,l=(a=Ln(e,a))!==n?r+(Ln("/",a)||a):t+s):(a=Ln(r,i))!==n?l=r+a:r==i+"/"&&(l=r),l&&this.$$parse(l),!!l}}function Hn(t,e){var n=jn(t);On(t,this),this.$$parse=function(r){function i(t,e,n){var r,i=/^\/[A-Z]:(\/.*)/;return 0===e.indexOf(n)&&(e=e.replace(n,"")),i.exec(e)?t:(r=i.exec(t),r?r[1]:t)}var o,a=Ln(t,r)||Ln(n,r);"#"===a.charAt(0)?(o=Ln(e,a),y(o)&&(o=a)):o=this.$$html5?a:"",Pn(o,this),this.$$path=i(this.$$path,o,t),this.$$compose()},this.$$compose=function(){var n=te(this.$$search),r=this.$$hash?"#"+ee(this.$$hash):"";this.$$url=Fn(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=t+(this.$$url?e+this.$$url:"")},this.$$parseLinkUrl=function(e){return In(t)==In(e)?(this.$$parse(e),!0):!1}}function Bn(t,e){this.$$html5=!0,Hn.apply(this,arguments);var n=jn(t);this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return t==In(r)?o=r:(a=Ln(n,r))?o=t+e+a:n===r+"/"&&(o=n),o&&this.$$parse(o),!!o},this.$$compose=function(){var n=te(this.$$search),r=this.$$hash?"#"+ee(this.$$hash):"";this.$$url=Fn(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=t+e+this.$$url}}function qn(t){return function(){return this[t]}}function Wn(t,e){return function(n){return y(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function Vn(){var t="",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return b(e)?(t=e,this):t},this.html5Mode=function(t){return F(t)?(e.enabled=t,this):w(t)?(F(t.enabled)&&(e.enabled=t.enabled),F(t.requireBase)&&(e.requireBase=t.requireBase),F(t.rewriteLinks)&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function s(t,e,n){var i=u.url(),o=u.$$state;try{r.url(t,e,n),u.$$state=r.state()}catch(a){throw u.url(i),u.$$state=o,a}}function l(t,e){n.$broadcast("$locationChangeSuccess",u.absUrl(),t,u.$$state,e)}var u,c,f,h=r.baseHref(),p=r.url();if(e.enabled){if(!h&&e.requireBase)throw Bo("nobase","$location in HTML5 mode requires a <base> tag to be present!");f=Rn(p)+(h||"/"),c=i.history?zn:Bn}else f=In(p),c=Hn;u=new c(f,"#"+t),u.$$parseLinkUrl(p,p),u.$$state=r.state();var d=/^\s*(javascript|mailto):/i;o.on("click",function(t){if(e.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(var i=Ti(t.target);"a"!==N(i[0]);)if(i[0]===o[0]||!(i=i.parent())[0])return;var s=i.prop("href"),l=i.attr("href")||i.attr("xlink:href");w(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=kr(s.animVal).href),d.test(s)||!s||i.attr("target")||t.isDefaultPrevented()||u.$$parseLinkUrl(s,l)&&(t.preventDefault(),u.absUrl()!=r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),Nn(u.absUrl())!=Nn(p)&&r.url(u.absUrl(),!0);var g=!0;return r.onUrlChange(function(t,e){n.$evalAsync(function(){var r,i=u.absUrl(),o=u.$$state;u.$$parse(t),u.$$state=e,r=n.$broadcast("$locationChangeStart",t,i,e,o).defaultPrevented,u.absUrl()===t&&(r?(u.$$parse(i),u.$$state=o,s(i,!1,o)):(g=!1,l(i,o)))}),n.$$phase||n.$digest()}),n.$watch(function(){var t=Nn(r.url()),e=Nn(u.absUrl()),o=r.state(),a=u.$$replace,c=t!==e||u.$$html5&&i.history&&o!==u.$$state;(g||c)&&(g=!1,n.$evalAsync(function(){var e=u.absUrl(),r=n.$broadcast("$locationChangeStart",e,t,u.$$state,o).defaultPrevented;u.absUrl()===e&&(r?(u.$$parse(t),u.$$state=o):(c&&s(e,a,o===u.$$state?null:u.$$state),l(t,o)))})),u.$$replace=!1}),u}]}function Un(){var t=!0,e=this;this.debugEnabled=function(e){return b(e)?(t=e,this):t},this.$get=["$window",function(n){function r(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function i(t){var e=n.console||{},i=e[t]||e.log||g,a=!1;try{a=!!i.apply}catch(s){}return a?function(){var t=[];return o(arguments,function(e){t.push(r(e))}),i.apply(e,t)}:function(t,e){i(t,null==e?"":e)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function Yn(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw Wo("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",e);return t}function Gn(t,e){if(t){if(t.constructor===t)throw Wo("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t.window===t)throw Wo("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw Wo("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",e);if(t===Object)throw Wo("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",e)}return t}function Xn(t,e){if(t){if(t.constructor===t)throw Wo("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t===Vo||t===Uo||t===Yo)throw Wo("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",e)}}function Kn(t,e){return"undefined"!=typeof t?t:e}function Qn(t,e){return"undefined"==typeof t?e:"undefined"==typeof e?t:t+e}function Zn(t,e){var n=t(e);return!n.$stateful}function Jn(t,e){var n,r;switch(t.type){case Qo.Program:n=!0,o(t.body,function(t){Jn(t.expression,e),n=n&&t.expression.constant}),t.constant=n;break;case Qo.Literal:t.constant=!0,t.toWatch=[];break;case Qo.UnaryExpression:Jn(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case Qo.BinaryExpression:Jn(t.left,e),Jn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case Qo.LogicalExpression:Jn(t.left,e),Jn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case Qo.ConditionalExpression:Jn(t.test,e),Jn(t.alternate,e),Jn(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case Qo.Identifier:t.constant=!1,t.toWatch=[t];break;case Qo.MemberExpression:Jn(t.object,e),t.computed&&Jn(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case Qo.CallExpression:n=t.filter?Zn(e,t.callee.name):!1,r=[],o(t.arguments,function(t){Jn(t,e),n=n&&t.constant,t.constant||r.push.apply(r,t.toWatch)}),t.constant=n,t.toWatch=t.filter&&Zn(e,t.callee.name)?r:[t];break;case Qo.AssignmentExpression:Jn(t.left,e),Jn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case Qo.ArrayExpression:n=!0,r=[],o(t.elements,function(t){Jn(t,e),n=n&&t.constant,t.constant||r.push.apply(r,t.toWatch)}),t.constant=n,t.toWatch=r;break;case Qo.ObjectExpression:n=!0,r=[],o(t.properties,function(t){Jn(t.value,e),n=n&&t.value.constant,t.value.constant||r.push.apply(r,t.value.toWatch)}),t.constant=n,t.toWatch=r;break;case Qo.ThisExpression:t.constant=!1,t.toWatch=[]}}function tr(t){if(1==t.length){var e=t[0].expression,r=e.toWatch;return 1!==r.length?r:r[0]!==e?r:n}}function er(t){return t.type===Qo.Identifier||t.type===Qo.MemberExpression}function nr(t){return 1===t.body.length&&er(t.body[0].expression)?{type:Qo.AssignmentExpression,left:t.body[0].expression,right:{type:Qo.NGValueParameter},operator:"="}:void 0}function rr(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===Qo.Literal||t.body[0].expression.type===Qo.ArrayExpression||t.body[0].expression.type===Qo.ObjectExpression)}function ir(t){return t.constant}function or(t,e){this.astBuilder=t,this.$filter=e}function ar(t,e){this.astBuilder=t,this.$filter=e}function sr(t,e,n,r){Gn(t,r);for(var i,o=e.split("."),a=0;o.length>1;a++){i=Yn(o.shift(),r);var s=Gn(t[i],r);s||(s={},t[i]=s),t=s}return i=Yn(o.shift(),r),Gn(t[i],r),t[i]=n,n}function lr(t){return"constructor"==t}function ur(t){return k(t.valueOf)?t.valueOf():Jo.call(t)}function cr(){var t=ge(),e=ge();this.$get=["$filter","$sniffer",function(r,i){function a(t,e){return null==t||null==e?t===e:"object"==typeof t&&(t=ur(t),"object"==typeof t)?!1:t===e||t!==t&&e!==e}function s(t,e,r,i,o){var s,l=i.inputs;if(1===l.length){var u=a;return l=l[0],t.$watch(function(t){var e=l(t);return a(e,u)||(s=i(t,n,n,[e]),u=e&&ur(e)),s},e,r,o)}for(var c=[],f=[],h=0,p=l.length;p>h;h++)c[h]=a,f[h]=null;return t.$watch(function(t){for(var e=!1,r=0,o=l.length;o>r;r++){var u=l[r](t);(e||(e=!a(u,c[r])))&&(f[r]=u,c[r]=u&&ur(u))}return e&&(s=i(t,n,n,f)),s},e,r,o)}function l(t,e,n,r){var i,o;return i=t.$watch(function(t){return r(t)},function(t,n,r){o=t,k(e)&&e.apply(this,arguments),b(t)&&r.$$postDigest(function(){b(o)&&i()})},n)}function u(t,e,n,r){function i(t){var e=!0;return o(t,function(t){b(t)||(e=!1)}),e}var a,s;return a=t.$watch(function(t){return r(t)},function(t,n,r){s=t,k(e)&&e.call(this,t,n,r),i(t)&&r.$$postDigest(function(){i(s)&&a()})},n)}function c(t,e,n,r){var i;return i=t.$watch(function(t){return r(t)},function(){k(e)&&e.apply(this,arguments),i()},n)}function f(t,e){if(!e)return t;var n=t.$$watchDelegate,r=n!==u&&n!==l,i=r?function(n,r,i,o){var a=t(n,r,i,o);return e(a,n,r)}:function(n,r,i,o){var a=t(n,r,i,o),s=e(a,n,r);return b(a)?s:a};return t.$$watchDelegate&&t.$$watchDelegate!==s?i.$$watchDelegate=t.$$watchDelegate:e.$stateful||(i.$$watchDelegate=s,i.inputs=t.inputs?t.inputs:[t]),i}var h={csp:i.csp,expensiveChecks:!1},p={csp:i.csp,expensiveChecks:!0};return function(n,i,o){var a,d,m;switch(typeof n){case"string":n=n.trim(),m=n;var v=o?e:t;if(a=v[m],!a){":"===n.charAt(0)&&":"===n.charAt(1)&&(d=!0,n=n.substring(2));var y=o?p:h,b=new Ko(y),w=new Zo(b,r,y);a=w.parse(n),a.constant?a.$$watchDelegate=c:d?a.$$watchDelegate=a.literal?u:l:a.inputs&&(a.$$watchDelegate=s),v[m]=a}return f(a,i);case"function":return f(n,i);default:return g}}}]}function fr(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return pr(function(e){t.$evalAsync(e)},e)}]}function hr(){this.$get=["$browser","$exceptionHandler",function(t,e){return pr(function(e){t.defer(e)},e)}]}function pr(t,e){function i(t,e,n){function r(e){return function(n){i||(i=!0,e.call(t,n))}}var i=!1;return[r(e),r(n)]}function a(){this.$$state={status:0}}function s(t,e){return function(n){e.call(t,n)}}function l(t){var r,i,o;o=t.pending,t.processScheduled=!1,t.pending=n;for(var a=0,s=o.length;s>a;++a){i=o[a][0],r=o[a][t.status];try{k(r)?i.resolve(r(t.value)):1===t.status?i.resolve(t.value):i.reject(t.value)}catch(l){i.reject(l),e(l)}}}function u(e){!e.processScheduled&&e.pending&&(e.processScheduled=!0,t(function(){l(e)}))}function c(){this.promise=new a,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}function f(t){var e=new c,n=0,r=ji(t)?[]:{};return o(t,function(t,i){n++,v(t).then(function(t){r.hasOwnProperty(i)||(r[i]=t,--n||e.resolve(r))},function(t){r.hasOwnProperty(i)||e.reject(t)})}),0===n&&e.resolve(r),e.promise}var h=r("$q",TypeError),p=function(){return new c};a.prototype={then:function(t,e,n){var r=new c;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,t,e,n]),this.$$state.status>0&&u(this.$$state),r.promise},"catch":function(t){return this.then(null,t)},"finally":function(t,e){return this.then(function(e){return m(e,!0,t)},function(e){return m(e,!1,t)},e)}},c.prototype={resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(h("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):this.$$resolve(t))},$$resolve:function(t){var n,r;r=i(this,this.$$resolve,this.$$reject);try{(w(t)||k(t))&&(n=t&&t.then),k(n)?(this.promise.$$state.status=-1,n.call(t,r[0],r[1],this.notify)):(this.promise.$$state.value=t,this.promise.$$state.status=1,u(this.promise.$$state))}catch(o){r[1](o),e(o)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,u(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&t(function(){for(var t,i,o=0,a=r.length;a>o;o++){i=r[o][0],t=r[o][3];try{i.notify(k(t)?t(n):n)}catch(s){e(s)}}})}};var d=function(t){var e=new c;return e.reject(t),e.promise},g=function(t,e){var n=new c;return e?n.resolve(t):n.reject(t),n.promise},m=function(t,e,n){var r=null;try{k(n)&&(r=n())}catch(i){return g(i,!1)}return O(r)?r.then(function(){return g(t,e)},function(t){return g(t,!1)}):g(t,e)},v=function(t,e,n,r){var i=new c;return i.resolve(t),i.promise.then(e,n,r)},y=function b(t){function e(t){r.resolve(t)}function n(t){r.reject(t)}if(!k(t))throw h("norslvr","Expected resolverFn, got '{0}'",t);
if(!(this instanceof b))return new b(t);var r=new c;return t(e,n),r.promise};return y.defer=p,y.reject=d,y.when=v,y.all=f,y}function dr(){this.$get=["$window","$timeout",function(t,e){function n(){for(var t=0;t<c.length;t++){var e=c[t];e&&(c[t]=null,e())}u=c.length=0}function r(t){var e=c.length;return u++,c.push(t),0===e&&(l=s(n)),function(){e>=0&&(c[e]=null,e=null,0===--u&&l&&(l(),l=null,c.length=0))}}var i=t.requestAnimationFrame||t.webkitRequestAnimationFrame,o=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,a=!!i,s=a?function(t){var e=i(t);return function(){o(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};r.supported=a;var l,u=0,c=[];return r}]}function gr(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=l(),this.$$ChildScope=null}return e.prototype=t,e}var e=10,n=r("$rootScope"),a=null,s=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,u,c,f){function h(t){t.currentScope.$$destroyed=!0}function p(){this.$id=l(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function d(t){if(S.$$phase)throw n("inprog","{0} already in progress",S.$$phase);S.$$phase=t}function m(){S.$$phase=null}function v(t,e){do t.$$watchersCount+=e;while(t=t.$parent)}function b(t,e,n){do t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n];while(t=t.$parent)}function x(){}function $(){for(;_.length;)try{_.shift()()}catch(t){u(t)}s=null}function C(){null===s&&(s=f.defer(function(){S.$apply($)}))}p.prototype={constructor:p,$new:function(e,n){var r;return n=n||this,e?(r=new p,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(e||n!=this)&&r.$on("$destroy",h),r},$watch:function(t,e,n,r){var i=c(t);if(i.$$watchDelegate)return i.$$watchDelegate(this,e,n,i,t);var o=this,s=o.$$watchers,l={fn:e,last:x,get:i,exp:r||t,eq:!!n};return a=null,k(e)||(l.fn=g),s||(s=o.$$watchers=[]),s.unshift(l),v(this,1),function(){j(s,l)>=0&&v(o,-1),a=null}},$watchGroup:function(t,e){function n(){l=!1,u?(u=!1,e(i,i,s)):e(i,r,s)}var r=new Array(t.length),i=new Array(t.length),a=[],s=this,l=!1,u=!0;if(!t.length){var c=!0;return s.$evalAsync(function(){c&&e(i,i,s)}),function(){c=!1}}return 1===t.length?this.$watch(t[0],function(t,n,o){i[0]=t,r[0]=n,e(i,t===n?i:r,o)}):(o(t,function(t,e){var o=s.$watch(t,function(t,o){i[e]=t,r[e]=o,l||(l=!0,s.$evalAsync(n))});a.push(o)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(t,e){function n(t){o=t;var e,n,r,s,l;if(!y(o)){if(w(o))if(i(o)){a!==p&&(a=p,m=a.length=0,f++),e=o.length,m!==e&&(f++,a.length=m=e);for(var u=0;e>u;u++)l=a[u],s=o[u],r=l!==l&&s!==s,r||l===s||(f++,a[u]=s)}else{a!==d&&(a=d={},m=0,f++),e=0;for(n in o)o.hasOwnProperty(n)&&(e++,s=o[n],l=a[n],n in a?(r=l!==l&&s!==s,r||l===s||(f++,a[n]=s)):(m++,a[n]=s,f++));if(m>e){f++;for(n in a)o.hasOwnProperty(n)||(m--,delete a[n])}}else a!==o&&(a=o,f++);return f}}function r(){if(g?(g=!1,e(o,o,l)):e(o,s,l),u)if(w(o))if(i(o)){s=new Array(o.length);for(var t=0;t<o.length;t++)s[t]=o[t]}else{s={};for(var n in o)xi.call(o,n)&&(s[n]=o[n])}else s=o}n.$stateful=!0;var o,a,s,l=this,u=e.length>1,f=0,h=c(t,n),p=[],d={},g=!0,m=0;return this.$watch(h,r)},$digest:function(){var t,r,i,o,l,c,h,p,g,v,y=e,b=this,w=[];d("$digest"),f.$$checkUrlChange(),this===S&&null!==s&&(f.defer.cancel(s),$()),a=null;do{for(c=!1,p=b;T.length;){try{v=T.shift(),v.scope.$eval(v.expression,v.locals)}catch(C){u(C)}a=null}t:do{if(o=p.$$watchers)for(l=o.length;l--;)try{if(t=o[l])if((r=t.get(p))===(i=t.last)||(t.eq?H(r,i):"number"==typeof r&&"number"==typeof i&&isNaN(r)&&isNaN(i))){if(t===a){c=!1;break t}}else c=!0,a=t,t.last=t.eq?R(r,null):r,t.fn(r,i===x?r:i,p),5>y&&(g=4-y,w[g]||(w[g]=[]),w[g].push({msg:k(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:r,oldVal:i}))}catch(C){u(C)}if(!(h=p.$$watchersCount&&p.$$childHead||p!==b&&p.$$nextSibling))for(;p!==b&&!(h=p.$$nextSibling);)p=p.$parent}while(p=h);if((c||T.length)&&!y--)throw m(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,w)}while(c||T.length);for(m();M.length;)try{M.shift()()}catch(C){u(C)}},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===S&&f.$$applicationDestroyed(),v(this,-this.$$watchersCount);for(var e in this.$$listenerCount)b(this,this.$$listenerCount[e],e);t&&t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=g,this.$on=this.$watch=this.$watchGroup=function(){return g},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}},$eval:function(t,e){return c(t)(this,e)},$evalAsync:function(t,e){S.$$phase||T.length||f.defer(function(){T.length&&S.$digest()}),T.push({scope:this,expression:t,locals:e})},$$postDigest:function(t){M.push(t)},$apply:function(t){try{return d("$apply"),this.$eval(t)}catch(e){u(e)}finally{m();try{S.$digest()}catch(e){throw u(e),e}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&_.push(e),C()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var r=this;do r.$$listenerCount[t]||(r.$$listenerCount[t]=0),r.$$listenerCount[t]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(e);-1!==r&&(n[r]=null,b(i,1,t))}},$emit:function(t){var e,n,r,i=[],o=this,a=!1,s={name:t,targetScope:o,stopPropagation:function(){a=!0},preventDefault:function(){s.defaultPrevented=!0},defaultPrevented:!1},l=B([s],arguments,1);do{for(e=o.$$listeners[t]||i,s.currentScope=o,n=0,r=e.length;r>n;n++)if(e[n])try{e[n].apply(null,l)}catch(c){u(c)}else e.splice(n,1),n--,r--;if(a)return s.currentScope=null,s;o=o.$parent}while(o);return s.currentScope=null,s},$broadcast:function(t){var e=this,n=e,r=e,i={name:t,targetScope:e,preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1};if(!e.$$listenerCount[t])return i;for(var o,a,s,l=B([i],arguments,1);n=r;){for(i.currentScope=n,o=n.$$listeners[t]||[],a=0,s=o.length;s>a;a++)if(o[a])try{o[a].apply(null,l)}catch(c){u(c)}else o.splice(a,1),a--,s--;if(!(r=n.$$listenerCount[t]&&n.$$childHead||n!==e&&n.$$nextSibling))for(;n!==e&&!(r=n.$$nextSibling);)n=n.$parent}return i.currentScope=null,i}};var S=new p,T=S.$$asyncQueue=[],M=S.$$postDigestQueue=[],_=S.$$applyAsyncQueue=[];return S}]}function mr(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return b(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return b(t)?(e=t,this):e},this.$get=function(){return function(n,r){var i,o=r?e:t;return i=kr(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function vr(t){if("self"===t)return t;if($(t)){if(t.indexOf("***")>-1)throw ta("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=Hi(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(T(t))return new RegExp("^"+t.source+"$");throw ta("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function yr(t){var e=[];return b(t)&&o(t,function(t){e.push(vr(t))}),e}function br(){this.SCE_CONTEXTS=ea;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=yr(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=yr(t)),e},this.$get=["$injector",function(r){function i(t,e){return"self"===t?Tr(e):!!t.exec(e.href)}function o(n){var r,o,a=kr(n.toString()),s=!1;for(r=0,o=t.length;o>r;r++)if(i(t[r],a)){s=!0;break}if(s)for(r=0,o=e.length;o>r;r++)if(i(e[r],a)){s=!1;break}return s}function a(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function s(t,e){var r=h.hasOwnProperty(t)?h[t]:null;if(!r)throw ta("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||e===n||""===e)return e;if("string"!=typeof e)throw ta("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new r(e)}function l(t){return t instanceof f?t.$$unwrapTrustedValue():t}function u(t,e){if(null===e||e===n||""===e)return e;var r=h.hasOwnProperty(t)?h[t]:null;if(r&&e instanceof r)return e.$$unwrapTrustedValue();if(t===ea.RESOURCE_URL){if(o(e))return e;throw ta("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===ea.HTML)return c(e);throw ta("unsafe","Attempting to use an unsafe value in a safe context.")}var c=function(){throw ta("unsafe","Attempting to use an unsafe value in a safe context.")};r.has("$sanitize")&&(c=r.get("$sanitize"));var f=a(),h={};return h[ea.HTML]=a(f),h[ea.CSS]=a(f),h[ea.URL]=a(f),h[ea.JS]=a(f),h[ea.RESOURCE_URL]=a(h[ea.URL]),{trustAs:s,getTrusted:u,valueOf:l}}]}function wr(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&8>ki)throw ta("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=z(ea);r.isEnabled=function(){return t},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,t||(r.trustAs=r.getTrusted=function(t,e){return e},r.valueOf=m),r.parseAs=function(t,n){var i=e(n);return i.literal&&i.constant?i:e(n,function(e){return r.getTrusted(t,e)})};var i=r.parseAs,a=r.getTrusted,s=r.trustAs;return o(ea,function(t,e){var n=wi(e);r[xe("parse_as_"+n)]=function(e){return i(t,e)},r[xe("get_trusted_"+n)]=function(e){return a(t,e)},r[xe("trust_as_"+n)]=function(e){return s(t,e)}}),r}]}function xr(){this.$get=["$window","$document",function(t,e){var n,r,i={},o=p((/android (\d+)/.exec(wi((t.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((t.navigator||{}).userAgent),s=e[0]||{},l=/^(Moz|webkit|ms)(?=[A-Z])/,u=s.body&&s.body.style,c=!1,f=!1;if(u){for(var h in u)if(r=l.exec(h)){n=r[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in u&&"webkit"),c=!!("transition"in u||n+"Transition"in u),f=!!("animation"in u||n+"Animation"in u),!o||c&&f||(c=$(u.webkitTransition),f=$(u.webkitAnimation))}return{history:!(!t.history||!t.history.pushState||4>o||a),hasEvent:function(t){if("input"===t&&11>=ki)return!1;if(y(i[t])){var e=s.createElement("div");i[t]="on"+t in e}return i[t]},csp:Bi(),vendorPrefix:n,transitions:c,animations:f,android:o}}]}function $r(){this.$get=["$templateCache","$http","$q",function(t,e,n){function r(i,o){function a(t){if(!o)throw Eo("tpload","Failed to load template: {0} (HTTP status: {1} {2})",i,t.status,t.statusText);return n.reject(t)}r.totalPendingRequests++;var s=e.defaults&&e.defaults.transformResponse;ji(s)?s=s.filter(function(t){return t!==bn}):s===bn&&(s=null);var l={cache:t,transformResponse:s};return e.get(i,l)["finally"](function(){r.totalPendingRequests--}).then(function(e){return t.put(i,e.data),e.data},a)}return r.totalPendingRequests=0,r}]}function Cr(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var r={};return r.findBindings=function(t,e,n){var r=t.getElementsByClassName("ng-binding"),i=[];return o(r,function(t){var r=Li.element(t).data("$binding");r&&o(r,function(r){if(n){var o=new RegExp("(^|\\s)"+Hi(e)+"(\\s|\\||$)");o.test(r)&&i.push(t)}else-1!=r.indexOf(e)&&i.push(t)})}),i},r.findModels=function(t,e,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",a="["+r[i]+"model"+o+'"'+e+'"]',s=t.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(e){e!==n.url()&&(n.url(e),t.$digest())},r.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)},r}]}function Sr(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,r,i){function o(o,s,l){k(o)||(l=s,s=o,o=g);var u,c=q(arguments,3),f=b(l)&&!l,h=(f?r:n).defer(),p=h.promise;return u=e.defer(function(){try{h.resolve(o.apply(null,c))}catch(e){h.reject(e),i(e)}finally{delete a[p.$$timeoutId]}f||t.$apply()},s),p.$$timeoutId=u,a[u]=h,p}var a={};return o.cancel=function(t){return t&&t.$$timeoutId in a?(a[t.$$timeoutId].reject("canceled"),delete a[t.$$timeoutId],e.defer.cancel(t.$$timeoutId)):!1},o}]}function kr(t){var e=t;return ki&&(na.setAttribute("href",e),e=na.href),na.setAttribute("href",e),{href:na.href,protocol:na.protocol?na.protocol.replace(/:$/,""):"",host:na.host,search:na.search?na.search.replace(/^\?/,""):"",hash:na.hash?na.hash.replace(/^#/,""):"",hostname:na.hostname,port:na.port,pathname:"/"===na.pathname.charAt(0)?na.pathname:"/"+na.pathname}}function Tr(t){var e=$(t)?kr(t):t;return e.protocol===ra.protocol&&e.host===ra.host}function Mr(){this.$get=v(t)}function _r(t){function e(t){try{return decodeURIComponent(t)}catch(e){return t}}var r=t[0]||{},i={},o="";return function(){var t,a,s,l,u,c=r.cookie||"";if(c!==o)for(o=c,t=o.split("; "),i={},s=0;s<t.length;s++)a=t[s],l=a.indexOf("="),l>0&&(u=e(a.substring(0,l)),i[u]===n&&(i[u]=e(a.substring(l+1))));return i}}function Ar(){this.$get=_r}function Er(t){function e(r,i){if(w(r)){var a={};return o(r,function(t,n){a[n]=e(n,t)}),a}return t.factory(r+n,i)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",Ir),e("date",Xr),e("filter",Dr),e("json",Kr),e("limitTo",Qr),e("lowercase",la),e("number",Nr),e("orderBy",Zr),e("uppercase",ua)}function Dr(){return function(t,e,n){if(!i(t)){if(null==t)return t;throw r("filter")("notarray","Expected array but received: {0}",t)}var o,a,s=Lr(e);switch(s){case"function":o=e;break;case"boolean":case"null":case"number":case"string":a=!0;case"object":o=Or(e,n,a);break;default:return t}return Array.prototype.filter.call(t,o)}}function Fr(t){return k(t.toString)&&t.toString!==Object.prototype.toString}function Or(t,e,n){var r,i=w(t)&&"$"in t;return e===!0?e=H:k(e)||(e=function(t,e){return y(t)?!1:null===t||null===e?t===e:w(e)||w(t)&&!Fr(t)?!1:(t=wi(""+t),e=wi(""+e),-1!==t.indexOf(e))}),r=function(r){return i&&!w(r)?Pr(r,t.$,e,!1):Pr(r,t,e,n)}}function Pr(t,e,n,r,i){var o=Lr(t),a=Lr(e);if("string"===a&&"!"===e.charAt(0))return!Pr(t,e.substring(1),n,r);if(ji(t))return t.some(function(t){return Pr(t,e,n,r)});switch(o){case"object":var s;if(r){for(s in t)if("$"!==s.charAt(0)&&Pr(t[s],e,n,!0))return!0;return i?!1:Pr(t,e,n,!1)}if("object"===a){for(s in e){var l=e[s];if(!k(l)&&!y(l)){var u="$"===s,c=u?t:t[s];if(!Pr(c,l,n,u,u))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function Lr(t){return null===t?"null":typeof t}function Ir(t){var e=t.NUMBER_FORMATS;return function(t,n,r){return y(n)&&(n=e.CURRENCY_SYM),y(r)&&(r=e.PATTERNS[1].maxFrac),null==t?t:jr(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function Nr(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:jr(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function jr(t,e,n,r,i){if(w(t))return"";var o=0>t;t=Math.abs(t);var a=1/0===t;if(!a&&!isFinite(t))return"";var s=t+"",l="",u=!1,c=[];if(a&&(l=""),!a&&-1!==s.indexOf("e")){var f=s.match(/([\d\.]+)e(-?)(\d+)/);f&&"-"==f[2]&&f[3]>i+1?t=0:(l=s,u=!0)}if(a||u)i>0&&1>t&&(l=t.toFixed(i),t=parseFloat(l));else{var h=(s.split(ia)[1]||"").length;y(i)&&(i=Math.min(Math.max(e.minFrac,h),e.maxFrac)),t=+(Math.round(+(t.toString()+"e"+i)).toString()+"e"+-i);var p=(""+t).split(ia),d=p[0];p=p[1]||"";var g,m=0,v=e.lgSize,b=e.gSize;if(d.length>=v+b)for(m=d.length-v,g=0;m>g;g++)(m-g)%b===0&&0!==g&&(l+=n),l+=d.charAt(g);for(g=m;g<d.length;g++)(d.length-g)%v===0&&0!==g&&(l+=n),l+=d.charAt(g);for(;p.length<i;)p+="0";i&&"0"!==i&&(l+=r+p.substr(0,i))}return 0===t&&(o=!1),c.push(o?e.negPre:e.posPre,l,o?e.negSuf:e.posSuf),c.join("")}function Rr(t,e,n){var r="";for(0>t&&(r="-",t=-t),t=""+t;t.length<e;)t="0"+t;return n&&(t=t.substr(t.length-e)),r+t}function zr(t,e,n,r){return n=n||0,function(i){var o=i["get"+t]();return(n>0||o>-n)&&(o+=n),0===o&&-12==n&&(o=12),Rr(o,e,r)}}function Hr(t,e){return function(n,r){var i=n["get"+t](),o=$i(e?"SHORT"+t:t);return r[o][i]}}function Br(t,e,n){var r=-1*n,i=r>=0?"+":"";return i+=Rr(Math[r>0?"floor":"ceil"](r/60),2)+Rr(Math.abs(r%60),2)}function qr(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(4>=e?5:12)-e)}function Wr(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function Vr(t){return function(e){var n=qr(e.getFullYear()),r=Wr(e),i=+r-+n,o=1+Math.round(i/6048e5);return Rr(o,t)}}function Ur(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function Yr(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function Gr(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}function Xr(t){function e(t){var e;if(e=t.match(n)){var r=new Date(0),i=0,o=0,a=e[8]?r.setUTCFullYear:r.setFullYear,s=e[8]?r.setUTCHours:r.setHours;e[9]&&(i=p(e[9]+e[10]),o=p(e[9]+e[11])),a.call(r,p(e[1]),p(e[2])-1,p(e[3]));var l=p(e[4]||0)-i,u=p(e[5]||0)-o,c=p(e[6]||0),f=Math.round(1e3*parseFloat("0."+(e[7]||0)));return s.call(r,l,u,c,f),r}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var a,s,l="",u=[];if(r=r||"mediumDate",r=t.DATETIME_FORMATS[r]||r,$(n)&&(n=sa.test(n)?p(n):e(n)),C(n)&&(n=new Date(n)),!S(n)||!isFinite(n.getTime()))return n;for(;r;)s=aa.exec(r),s?(u=B(u,s,1),r=u.pop()):(u.push(r),r=null);var c=n.getTimezoneOffset();return i&&(c=G(i,n.getTimezoneOffset()),n=K(n,i,!0)),o(u,function(e){a=oa[e],l+=a?a(n,t.DATETIME_FORMATS,c):e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function Kr(){return function(t,e){return y(e)&&(e=2),U(t,e)}}function Qr(){return function(t,e,n){return e=1/0===Math.abs(Number(e))?Number(e):p(e),isNaN(e)?t:(C(t)&&(t=t.toString()),ji(t)||$(t)?(n=!n||isNaN(n)?0:p(n),n=0>n&&n>=-t.length?t.length+n:n,e>=0?t.slice(n,n+e):0===n?t.slice(e,t.length):t.slice(Math.max(0,n+e),n)):t)}}function Zr(t){return function(e,n,r){function o(t,e){for(var r=0;r<n.length;r++){var i=n[r](t,e);if(0!==i)return i}return 0}function a(t,e){return e?function(e,n){return t(n,e)}:t}function s(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function l(t){return null===t?"null":"function"==typeof t.valueOf&&(t=t.valueOf(),s(t))?t:"function"==typeof t.toString&&(t=t.toString(),s(t))?t:""}function u(t,e){var n=typeof t,r=typeof e;return n===r&&"object"===n&&(t=l(t),e=l(e)),n===r?("string"===n&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e?0:e>t?-1:1):r>n?-1:1}return i(e)?(n=ji(n)?n:[n],0===n.length&&(n=["+"]),n=n.map(function(e){var n=!1,r=e||m;if($(e)){if(("+"==e.charAt(0)||"-"==e.charAt(0))&&(n="-"==e.charAt(0),e=e.substring(1)),""===e)return a(u,n);if(r=t(e),r.constant){var i=r();return a(function(t,e){return u(t[i],e[i])},n)}}return a(function(t,e){return u(r(t),r(e))},n)}),Ai.call(e).sort(a(o,r))):e}}function Jr(t){return k(t)&&(t={link:t}),t.restrict=t.restrict||"AC",v(t)}function ti(t,e){t.$name=e}function ei(t,e,r,i,a){var s=this,l=[],u=s.$$parentForm=t.parent().controller("form")||ha;s.$error={},s.$$success={},s.$pending=n,s.$name=a(e.name||e.ngForm||"")(r),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,u.$addControl(s),s.$rollbackViewValue=function(){o(l,function(t){t.$rollbackViewValue()})},s.$commitViewValue=function(){o(l,function(t){t.$commitViewValue()})},s.$addControl=function(t){he(t.$name,"input"),l.push(t),t.$name&&(s[t.$name]=t)},s.$$renameControl=function(t,e){var n=t.$name;s[n]===t&&delete s[n],s[e]=t,t.$name=e},s.$removeControl=function(t){t.$name&&s[t.$name]===t&&delete s[t.$name],o(s.$pending,function(e,n){s.$setValidity(n,null,t)}),o(s.$error,function(e,n){s.$setValidity(n,null,t)}),o(s.$$success,function(e,n){s.$setValidity(n,null,t)}),j(l,t)},mi({ctrl:this,$element:t,set:function(t,e,n){var r=t[e];if(r){var i=r.indexOf(n);-1===i&&r.push(n)}else t[e]=[n]},unset:function(t,e,n){var r=t[e];r&&(j(r,n),0===r.length&&delete t[e])},parentForm:u,$animate:i}),s.$setDirty=function(){i.removeClass(t,Ga),i.addClass(t,Xa),s.$dirty=!0,s.$pristine=!1,u.$setDirty()},s.$setPristine=function(){i.setClass(t,Ga,Xa+" "+pa),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,o(l,function(t){t.$setPristine()})},s.$setUntouched=function(){o(l,function(t){t.$setUntouched()})},s.$setSubmitted=function(){i.addClass(t,pa),s.$submitted=!0,u.$setSubmitted()}}function ni(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function ri(t,e,n,r,i,o){ii(t,e,n,r,i,o),ni(r)}function ii(t,e,n,r,i,o){var a=wi(e[0].type);if(!i.android){var s=!1;e.on("compositionstart",function(){s=!0}),e.on("compositionend",function(){s=!1,l()})}var l=function(t){if(u&&(o.defer.cancel(u),u=null),!s){var i=e.val(),l=t&&t.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=zi(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,l)}};if(i.hasEvent("input"))e.on("input",l);else{var u,c=function(t,e,n){u||(u=o.defer(function(){u=null,e&&e.value===n||l(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||e>15&&19>e||e>=37&&40>=e||c(t,this,this.value)}),i.hasEvent("paste")&&e.on("paste cut",c)}e.on("change",l),r.$render=function(){e.val(r.$isEmpty(r.$viewValue)?"":r.$viewValue)}}function oi(t,e){if(S(t))return t;if($(t)){Ca.lastIndex=0;var n=Ca.exec(t);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,l=0,u=qr(r),c=7*(i-1);return e&&(o=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),l=e.getMilliseconds()),new Date(r,0,u.getDate()+c,o,a,s,l)}}return 0/0}function ai(t,e){return function(n,r){var i,a;if(S(n))return n;if($(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),va.test(n))return new Date(n);if(t.lastIndex=0,i=t.exec(n))return i.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(i,function(t,n){n<e.length&&(a[e[n]]=+t)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return 0/0}}function si(t,e,r,i){return function(o,a,s,l,u,c,f){function h(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function p(t){return b(t)?S(t)?t:r(t):n}li(o,a,s,l),ii(o,a,s,l,u,c);var d,g=l&&l.$options&&l.$options.timezone;if(l.$$parserName=t,l.$parsers.push(function(t){if(l.$isEmpty(t))return null;if(e.test(t)){var i=r(t,d);return g&&(i=K(i,g)),i}return n}),l.$formatters.push(function(t){if(t&&!S(t))throw Ja("datefmt","Expected `{0}` to be a date",t);return h(t)?(d=t,d&&g&&(d=K(d,g,!0)),f("date")(t,i,g)):(d=null,"")}),b(s.min)||s.ngMin){var m;l.$validators.min=function(t){return!h(t)||y(m)||r(t)>=m},s.$observe("min",function(t){m=p(t),l.$validate()})}if(b(s.max)||s.ngMax){var v;l.$validators.max=function(t){return!h(t)||y(v)||r(t)<=v},s.$observe("max",function(t){v=p(t),l.$validate()})}}}function li(t,e,r,i){var o=e[0],a=i.$$hasNativeValidators=w(o.validity);a&&i.$parsers.push(function(t){var r=e.prop(bi)||{};return r.badInput&&!r.typeMismatch?n:t})}function ui(t,e,r,i,o,a){if(li(t,e,r,i),ii(t,e,r,i,o,a),i.$$parserName="number",i.$parsers.push(function(t){return i.$isEmpty(t)?null:wa.test(t)?parseFloat(t):n}),i.$formatters.push(function(t){if(!i.$isEmpty(t)){if(!C(t))throw Ja("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t}),b(r.min)||r.ngMin){var s;i.$validators.min=function(t){return i.$isEmpty(t)||y(s)||t>=s},r.$observe("min",function(t){b(t)&&!C(t)&&(t=parseFloat(t,10)),s=C(t)&&!isNaN(t)?t:n,i.$validate()})}if(b(r.max)||r.ngMax){var l;i.$validators.max=function(t){return i.$isEmpty(t)||y(l)||l>=t},r.$observe("max",function(t){b(t)&&!C(t)&&(t=parseFloat(t,10)),l=C(t)&&!isNaN(t)?t:n,i.$validate()})}}function ci(t,e,n,r,i,o){ii(t,e,n,r,i,o),ni(r),r.$$parserName="url",r.$validators.url=function(t,e){var n=t||e;return r.$isEmpty(n)||ya.test(n)}}function fi(t,e,n,r,i,o){ii(t,e,n,r,i,o),ni(r),r.$$parserName="email",r.$validators.email=function(t,e){var n=t||e;return r.$isEmpty(n)||ba.test(n)}}function hi(t,e,n,r){y(n.name)&&e.attr("name",l());var i=function(t){e[0].checked&&r.$setViewValue(n.value,t&&t.type)};e.on("click",i),r.$render=function(){var t=n.value;e[0].checked=t==r.$viewValue},n.$observe("value",r.$render)}function pi(t,e,n,i,o){var a;if(b(i)){if(a=t(i),!a.constant)throw r("ngModel")("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return a(e)}return o}function di(t,e,n,r,i,o,a,s){var l=pi(s,t,"ngTrueValue",n.ngTrueValue,!0),u=pi(s,t,"ngFalseValue",n.ngFalseValue,!1),c=function(t){r.$setViewValue(e[0].checked,t&&t.type)};e.on("click",c),r.$render=function(){e[0].checked=r.$viewValue},r.$isEmpty=function(t){return t===!1},r.$formatters.push(function(t){return H(t,l)}),r.$parsers.push(function(t){return t?l:u})}function gi(t,e){return t="ngClass"+t,["$animate",function(n){function r(t,e){var n=[];t:for(var r=0;r<t.length;r++){for(var i=t[r],o=0;o<e.length;o++)if(i==e[o])continue t;n.push(i)}return n}function i(t){var e=[];return ji(t)?(o(t,function(t){e=e.concat(i(t))}),e):$(t)?t.split(" "):w(t)?(o(t,function(t,n){t&&(e=e.concat(n.split(" ")))}),e):t}return{restrict:"AC",link:function(a,s,l){function u(t){var e=f(t,1);l.$addClass(e)}function c(t){var e=f(t,-1);l.$removeClass(e)}function f(t,e){var n=s.data("$classCounts")||ge(),r=[];return o(t,function(t){(e>0||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(e>0)&&r.push(t))}),s.data("$classCounts",n),r.join(" ")}function h(t,e){var i=r(e,t),o=r(t,e);i=f(i,1),o=f(o,-1),i&&i.length&&n.addClass(s,i),o&&o.length&&n.removeClass(s,o)}function p(t){if(e===!0||a.$index%2===e){var n=i(t||[]);if(d){if(!H(t,d)){var r=i(d);h(r,n)}}else u(n)}d=z(t)}var d;a.$watch(l[t],p,!0),l.$observe("class",function(){p(a.$eval(l[t]))}),"ngClass"!==t&&a.$watch("$index",function(n,r){var o=1&n;if(o!==(1&r)){var s=i(a.$eval(l[t]));o===e?u(s):c(s)}})}}}]}function mi(t){function e(t,e,l){e===n?r("$pending",t,l):i("$pending",t,l),F(e)?e?(f(s.$error,t,l),c(s.$$success,t,l)):(c(s.$error,t,l),f(s.$$success,t,l)):(f(s.$error,t,l),f(s.$$success,t,l)),s.$pending?(o(Za,!0),s.$valid=s.$invalid=n,a("",null)):(o(Za,!1),s.$valid=vi(s.$error),s.$invalid=!s.$valid,a("",s.$valid));var u;u=s.$pending&&s.$pending[t]?n:s.$error[t]?!1:s.$$success[t]?!0:null,a(t,u),h.$setValidity(t,u,s)}function r(t,e,n){s[t]||(s[t]={}),c(s[t],e,n)}function i(t,e,r){s[t]&&f(s[t],e,r),vi(s[t])&&(s[t]=n)}function o(t,e){e&&!u[t]?(p.addClass(l,t),u[t]=!0):!e&&u[t]&&(p.removeClass(l,t),u[t]=!1)}function a(t,e){t=t?"-"+le(t,"-"):"",o(Ua+t,e===!0),o(Ya+t,e===!1)}var s=t.ctrl,l=t.$element,u={},c=t.set,f=t.unset,h=t.parentForm,p=t.$animate;u[Ya]=!(u[Ua]=l.hasClass(Ua)),s.$setValidity=e}function vi(t){if(t)for(var e in t)return!1;return!0}var yi=/^\/(.+)\/([a-z]*)$/,bi="validity",wi=function(t){return $(t)?t.toLowerCase():t},xi=Object.prototype.hasOwnProperty,$i=function(t){return $(t)?t.toUpperCase():t},Ci=function(t){return $(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},Si=function(t){return $(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(-33&t.charCodeAt(0))}):t};"i"!=="I".toLowerCase()&&(wi=Ci,$i=Si);var ki,Ti,Mi,_i,Ai=[].slice,Ei=[].splice,Di=[].push,Fi=Object.prototype.toString,Oi=Object.getPrototypeOf,Pi=r("ng"),Li=t.angular||(t.angular={}),Ii=0;ki=e.documentMode,g.$inject=[],m.$inject=[];var Ni,ji=Array.isArray,Ri=/^\[object (Uint8(Clamped)?)|(Uint16)|(Uint32)|(Int8)|(Int16)|(Int32)|(Float(32)|(64))Array\]$/,zi=function(t){return $(t)?t.trim():t},Hi=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Bi=function(){if(b(Bi.isActive_))return Bi.isActive_;var t=!(!e.querySelector("[ng-csp]")&&!e.querySelector("[data-ng-csp]"));if(!t)try{new Function("")}catch(n){t=!0}return Bi.isActive_=t},qi=function(){if(b(qi.name_))return qi.name_;var t,n,r,i,o=Wi.length;for(n=0;o>n;++n)if(r=Wi[n],t=e.querySelector("["+r.replace(":","\\:")+"jq]")){i=t.getAttribute(r+"jq");break}return qi.name_=i},Wi=["ng-","data-ng-","ng:","x-ng-"],Vi=/[A-Z]/g,Ui=!1,Yi=1,Gi=2,Xi=3,Ki=8,Qi=9,Zi=11,Ji={full:"1.4.0",major:1,minor:4,dot:0,codeName:"jaracimrman-existence"};Te.expando="ng339";var to=Te.cache={},eo=1,no=function(t,e,n){t.addEventListener(e,n,!1)},ro=function(t,e,n){t.removeEventListener(e,n,!1)};Te._data=function(t){return this.cache[t[this.expando]]||{}};var io=/([\:\-\_]+(.))/g,oo=/^moz([A-Z])/,ao={mouseleave:"mouseout",mouseenter:"mouseover"},so=r("jqLite"),lo=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,uo=/<|&#?\w+;/,co=/<([\w:]+)/,fo=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ho={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ho.optgroup=ho.option,ho.tbody=ho.tfoot=ho.colgroup=ho.caption=ho.thead,ho.th=ho.td;var po=Te.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===e.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),Te(t).on("load",r))},toString:function(){var t=[];return o(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return Ti(t>=0?this[t]:this[this.length+t])},length:0,push:Di,sort:[].sort,splice:[].splice},go={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){go[wi(t)]=t});var mo={};o("input,select,option,textarea,button,form,details".split(","),function(t){mo[t]=!0});var vo={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:Fe,removeData:Ee},function(t,e){Te[e]=t}),o({data:Fe,inheritedData:je,scope:function(t){return Ti.data(t,"$scope")||je(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return Ti.data(t,"$isolateScope")||Ti.data(t,"$isolateScopeNoTemplate")},controller:Ne,injector:function(t){return je(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Oe,css:function(t,e,n){return e=xe(e),b(n)?void(t.style[e]=n):t.style[e]},attr:function(t,e,r){var i=t.nodeType;if(i!==Xi&&i!==Gi&&i!==Ki){var o=wi(e);if(go[o]){if(!b(r))return t[e]||(t.attributes.getNamedItem(e)||g).specified?o:n;r?(t[e]=!0,t.setAttribute(e,o)):(t[e]=!1,t.removeAttribute(o))}else if(b(r))t.setAttribute(e,r);else if(t.getAttribute){var a=t.getAttribute(e,2);return null===a?n:a}}},prop:function(t,e,n){return b(n)?void(t[e]=n):t[e]},text:function(){function t(t,e){if(y(e)){var n=t.nodeType;return n===Yi||n===Xi?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(y(e)){if(t.multiple&&"select"===N(t)){var n=[];return o(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){return y(e)?t.innerHTML:(_e(t,!0),void(t.innerHTML=e))},empty:Re},function(t,e){Te.prototype[e]=function(e,r){var i,o,a=this.length;if(t!==Re&&(2==t.length&&t!==Oe&&t!==Ne?e:r)===n){if(w(e)){for(i=0;a>i;i++)if(t===Fe)t(this[i],e);else for(o in e)t(this[i],o,e[o]);return this}for(var s=t.$dv,l=s===n?Math.min(a,1):a,u=0;l>u;u++){var c=t(this[u],e,r);
s=s?s+c:c}return s}for(i=0;a>i;i++)t(this[i],e,r);return this}}),o({removeData:Ee,on:function As(t,e,n,r){if(b(r))throw so("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Ce(t)){var i=De(t,!0),o=i.events,a=i.handle;a||(a=i.handle=We(t,o));for(var s=e.indexOf(" ")>=0?e.split(" "):[e],l=s.length;l--;){e=s[l];var u=o[e];u||(o[e]=[],"mouseenter"===e||"mouseleave"===e?As(t,ao[e],function(t){var n=this,r=t.relatedTarget;(!r||r!==n&&!n.contains(r))&&a(t,e)}):"$destroy"!==e&&no(t,e,a),u=o[e]),u.push(n)}}},off:Ae,one:function(t,e,n){t=Ti(t),t.on(e,function r(){t.off(e,n),t.off(e,r)}),t.on(e,n)},replaceWith:function(t,e){var n,r=t.parentNode;_e(t),o(new Te(e),function(e){n?r.insertBefore(e,n.nextSibling):r.replaceChild(e,t),n=e})},children:function(t){var e=[];return o(t.childNodes,function(t){t.nodeType===Yi&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===Yi||n===Zi){e=new Te(e);for(var r=0,i=e.length;i>r;r++){var o=e[r];t.appendChild(o)}}},prepend:function(t,e){if(t.nodeType===Yi){var n=t.firstChild;o(new Te(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){e=Ti(e).eq(0).clone()[0];var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)},remove:ze,detach:function(t){ze(t,!0)},after:function(t,e){var n=t,r=t.parentNode;e=new Te(e);for(var i=0,o=e.length;o>i;i++){var a=e[i];r.insertBefore(a,n.nextSibling),n=a}},addClass:Le,removeClass:Pe,toggleClass:function(t,e,n){e&&o(e.split(" "),function(e){var r=n;y(r)&&(r=!Oe(t,e)),(r?Le:Pe)(t,e)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==Zi?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:Me,triggerHandler:function(t,e,n){var r,i,a,s=e.type||e,l=De(t),u=l&&l.events,c=u&&u[s];c&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:g,type:s,target:t},e.type&&(r=f(r,e)),i=z(c),a=n?[r].concat(n):[r],o(i,function(e){r.isImmediatePropagationStopped()||e.apply(t,a)}))}},function(t,e){Te.prototype[e]=function(e,n,r){for(var i,o=0,a=this.length;a>o;o++)y(i)?(i=t(this[o],e,n,r),b(i)&&(i=Ti(i))):Ie(i,t(this[o],e,n,r));return b(i)?i:this},Te.prototype.bind=Te.prototype.on,Te.prototype.unbind=Te.prototype.off}),Ye.prototype={put:function(t,e){this[Ue(t,this.nextUid)]=e},get:function(t){return this[Ue(t,this.nextUid)]},remove:function(t){var e=this[t=Ue(t,this.nextUid)];return delete this[t],e}};var yo=[function(){this.$get=[function(){return Ye}]}],bo=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,wo=/,/,xo=/^\s*(_?)(\S+?)\1\s*$/,$o=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Co=r("$injector");Ke.$$annotate=Xe;var So=r("$animate"),ko=1,To="ng-animate",Mo=function(){this.$get=["$q","$$rAF",function(t,e){function n(){}return n.all=g,n.chain=g,n.prototype={end:g,cancel:g,resume:g,pause:g,complete:g,then:function(n,r){return t(function(t){e(function(){t()})}).then(n,r)}},n}]},_o=function(){var t=new Ye,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function i(n,i,a){var s=t.get(n);s||(t.put(n,s={}),e.push(n)),i&&o(i.split(" "),function(t){t&&(s[t]=!0)}),a&&o(a.split(" "),function(t){t&&(s[t]=!1)}),e.length>1||r.$$postDigest(function(){o(e,function(e){var n=t.get(e);if(n){var r=tn(e.attr("class")),i="",a="";o(n,function(t,e){var n=!!r[e];t!==n&&(t?i+=(i.length?" ":"")+e:a+=(a.length?" ":"")+e)}),o(e,function(t){i&&Le(t,i),a&&Pe(t,a)}),t.remove(e)}}),e.length=0})}return{enabled:g,on:g,off:g,pin:g,push:function(t,e,r,o){return o&&o(),r=r||{},r.from&&t.css(r.from),r.to&&t.css(r.to),(r.addClass||r.removeClass)&&i(t,r.addClass,r.removeClass),new n}}}]},Ao=["$provide",function(t){var e=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw So("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";e.$$registeredAnimations[n.substr(1)]=i,t.factory(i,r)},this.classNameFilter=function(t){if(1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null,this.$$classNameFilter)){var e=new RegExp("(\\s+|\\/)"+To+"(\\s+|\\/)");if(e.test(this.$$classNameFilter.toString()))throw So("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',To)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var r=Je(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.end&&t.end()},enter:function(n,r,i,o){return r=r&&Ti(r),i=i&&Ti(i),r=r||i.parent(),e(n,r,i),t.push(n,"enter",en(o))},move:function(n,r,i,o){return r=r&&Ti(r),i=i&&Ti(i),r=r||i.parent(),e(n,r,i),t.push(n,"move",en(o))},leave:function(e,n){return t.push(e,"leave",en(n),function(){e.remove()})},addClass:function(e,n,r){return r=en(r),r.addClass=Ze(r.addclass,n),t.push(e,"addClass",r)},removeClass:function(e,n,r){return r=en(r),r.removeClass=Ze(r.removeClass,n),t.push(e,"removeClass",r)},setClass:function(e,n,r,i){return i=en(i),i.addClass=Ze(i.addClass,n),i.removeClass=Ze(i.removeClass,r),t.push(e,"setClass",i)},animate:function(e,n,r,i,o){return o=en(o),o.from=o.from?f(o.from,n):n,o.to=o.to?f(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=Ze(o.tempClasses,i),t.push(e,"animate",o)}}}]}],Eo=r("$compile");ln.$inject=["$provide","$$sanitizeUriProvider"];var Do=/^((?:x|data)[\:\-_])/i,Fo=r("$controller"),Oo=/^(\S+)(\s+as\s+(\w+))?$/,Po="application/json",Lo={"Content-Type":Po+";charset=utf-8"},Io=/^\[|^\{(?!\{)/,No={"[":/]$/,"{":/}$/},jo=/^\)\]\}',?\n/,Ro=Li.$interpolateMinErr=r("$interpolate");Ro.throwNoconcat=function(t){throw Ro("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},Ro.interr=function(t,e){return Ro("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var zo=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Ho={http:80,https:443,ftp:21},Bo=r("$location"),qo={$$html5:!1,$$replace:!1,absUrl:qn("$$absUrl"),url:function(t){if(y(t))return this.$$url;var e=zo.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:qn("$$protocol"),host:qn("$$host"),port:qn("$$port"),path:Wn("$$path",function(t){return t=null!==t?t.toString():"","/"==t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if($(t)||C(t))t=t.toString(),this.$$search=J(t);else{if(!w(t))throw Bo("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");t=R(t,{}),o(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:y(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:Wn("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};o([Bn,Hn,zn],function(t){t.prototype=Object.create(qo),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==zn||!this.$$html5)throw Bo("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=y(e)?null:e,this}});var Wo=r("$parse"),Vo=Function.prototype.call,Uo=Function.prototype.apply,Yo=Function.prototype.bind,Go=ge();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){Go[t]=!0});var Xo={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Ko=function(t){this.options=t};Ko.prototype={constructor:Ko,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(e))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),r=n+this.peek(2),i=Go[e],o=Go[n],a=Go[r];if(i||o||a){var s=a?r:o?n:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(t){return t>="0"&&"9">=t&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"	"===t||"\n"===t||""===t||""===t},isIdent:function(t){return t>="a"&&"z">=t||t>="A"&&"Z">=t||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var r=b(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw Wo("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,r,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=wi(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))t+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){for(var t=this.index;this.index<this.text.length;){var e=this.text.charAt(this.index);if(!this.isIdent(e)&&!this.isNumber(e))break;this.index++}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",r=t,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=Xo[o];n+=s||o}i=!1}else if("\\"===o)i=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var Qo=function(t,e){this.lexer=t,this.options=e};Qo.Program="Program",Qo.ExpressionStatement="ExpressionStatement",Qo.AssignmentExpression="AssignmentExpression",Qo.ConditionalExpression="ConditionalExpression",Qo.LogicalExpression="LogicalExpression",Qo.BinaryExpression="BinaryExpression",Qo.UnaryExpression="UnaryExpression",Qo.CallExpression="CallExpression",Qo.MemberExpression="MemberExpression",Qo.Identifier="Identifier",Qo.Literal="Literal",Qo.ArrayExpression="ArrayExpression",Qo.Property="Property",Qo.ObjectExpression="ObjectExpression",Qo.ThisExpression="ThisExpression",Qo.NGValueParameter="NGValueParameter",Qo.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:Qo.Program,body:t}},expressionStatement:function(){return{type:Qo.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t,e=this.expression();t=this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();return this.expect("=")&&(t={type:Qo.AssignmentExpression,left:t,right:this.assignment(),operator:"="}),t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:Qo.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:Qo.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:Qo.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:Qo.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:Qo.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:Qo.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:Qo.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:Qo.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.constants.hasOwnProperty(this.peek().text)?t=R(this.constants[this.consume().text]):this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)"("===e.text?(t={type:Qo.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:Qo.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:Qo.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],n={type:Qo.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return n},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do t.push(this.expression());while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:Qo.Identifier,name:t.text}},constant:function(){return{type:Qo.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Qo.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:Qo.Property,kind:"init"},this.peek().constant?t.key=this.constant():this.peek().identifier?t.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),t.value=this.expression(),e.push(t)}while(this.expect(","));return this.consume("}"),{type:Qo.ObjectExpression,properties:e}},throwError:function(t,e){throw Wo("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw Wo("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw Wo("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,r){return this.peekAhead(0,t,e,n,r)},peekAhead:function(t,e,n,r,i){if(this.tokens.length>t){var o=this.tokens[t],a=o.text;if(a===e||a===n||a===r||a===i||!e&&!n&&!r&&!i)return o}return!1},expect:function(t,e,n,r){var i=this.peek(t,e,n,r);return i?(this.tokens.shift(),i):!1},constants:{"true":{type:Qo.Literal,value:!0},"false":{type:Qo.Literal,value:!1},"null":{type:Qo.Literal,value:null},undefined:{type:Qo.Literal,value:n},"this":{type:Qo.ThisExpression}}},or.prototype={compile:function(t,e){var r=this,i=this.astBuilder.ast(t);this.state={nextId:0,filters:{},expensiveChecks:e,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Jn(i,r.$filter);var a,s="";if(this.stage="assign",a=nr(i)){this.state.computing="assign";var l=this.nextId();this.recurse(a,l),s="fn.assign="+this.generateFunction("assign","s,v,l")}var u=tr(i.body);r.stage="inputs",o(u,function(t,e){var n="fn"+e;r.state[n]={vars:[],body:[],own:{}},r.state.computing=n;var i=r.nextId();r.recurse(t,i),r.return_(i),r.state.inputs.push(n),t.watchId=e}),this.state.computing="fn",this.stage="main",this.recurse(i);var c='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+s+this.watchFns()+"return fn;",f=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","ifDefined","plus","text",c)(this.$filter,Yn,Gn,Xn,Kn,Qn,t);return this.state=this.stage=n,f.literal=rr(i),f.constant=ir(i),f},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return o(e,function(e){t.push("var "+e+"="+n.generateFunction(e,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return o(this.state.filters,function(n,r){t.push(n+"=$filter("+e.escape(r)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,r,i,a,s){var l,u,c,f,h=this;if(i=i||g,!s&&b(t.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,r,i,a,!0));switch(t.type){case Qo.Program:o(t.body,function(e,r){h.recurse(e.expression,n,n,function(t){u=t}),r!==t.body.length-1?h.current().body.push(u,";"):h.return_(u)});break;case Qo.Literal:f=this.escape(t.value),this.assign(e,f),i(f);break;case Qo.UnaryExpression:this.recurse(t.argument,n,n,function(t){u=t}),f=t.operator+"("+this.ifDefined(u,0)+")",this.assign(e,f),i(f);break;case Qo.BinaryExpression:this.recurse(t.left,n,n,function(t){l=t}),this.recurse(t.right,n,n,function(t){u=t}),f="+"===t.operator?this.plus(l,u):"-"===t.operator?this.ifDefined(l,0)+t.operator+this.ifDefined(u,0):"("+l+")"+t.operator+"("+u+")",this.assign(e,f),i(f);break;case Qo.LogicalExpression:e=e||this.nextId(),h.recurse(t.left,e),h.if_("&&"===t.operator?e:h.not(e),h.lazyRecurse(t.right,e)),i(e);break;case Qo.ConditionalExpression:e=e||this.nextId(),h.recurse(t.test,e),h.if_(e,h.lazyRecurse(t.alternate,e),h.lazyRecurse(t.consequent,e)),i(e);break;case Qo.Identifier:e=e||this.nextId(),r&&(r.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),r.computed=!1,r.name=t.name),Yn(t.name),h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",t.name)),function(){h.if_("inputs"===h.stage||"s",function(){a&&1!==a&&h.if_(h.not(h.nonComputedMember("s",t.name)),h.lazyAssign(h.nonComputedMember("s",t.name),"{}")),h.assign(e,h.nonComputedMember("s",t.name))})},e&&h.lazyAssign(e,h.nonComputedMember("l",t.name))),(h.state.expensiveChecks||lr(t.name))&&h.addEnsureSafeObject(e),i(e);break;case Qo.MemberExpression:l=r&&(r.context=this.nextId())||this.nextId(),e=e||this.nextId(),h.recurse(t.object,l,n,function(){h.if_(h.notNull(l),function(){t.computed?(u=h.nextId(),h.recurse(t.property,u),h.addEnsureSafeMemberName(u),a&&1!==a&&h.if_(h.not(h.computedMember(l,u)),h.lazyAssign(h.computedMember(l,u),"{}")),f=h.ensureSafeObject(h.computedMember(l,u)),h.assign(e,f),r&&(r.computed=!0,r.name=u)):(Yn(t.property.name),a&&1!==a&&h.if_(h.not(h.nonComputedMember(l,t.property.name)),h.lazyAssign(h.nonComputedMember(l,t.property.name),"{}")),f=h.nonComputedMember(l,t.property.name),(h.state.expensiveChecks||lr(t.property.name))&&(f=h.ensureSafeObject(f)),h.assign(e,f),r&&(r.computed=!1,r.name=t.property.name)),i(e)})},!!a);break;case Qo.CallExpression:e=e||this.nextId(),t.filter?(u=h.filter(t.callee.name),c=[],o(t.arguments,function(t){var e=h.nextId();h.recurse(t,e),c.push(e)}),f=u+"("+c.join(",")+")",h.assign(e,f),i(e)):(u=h.nextId(),l={},c=[],h.recurse(t.callee,u,l,function(){h.if_(h.notNull(u),function(){h.addEnsureSafeFunction(u),o(t.arguments,function(t){h.recurse(t,h.nextId(),n,function(t){c.push(h.ensureSafeObject(t))})}),l.name?(h.state.expensiveChecks||h.addEnsureSafeObject(l.context),f=h.member(l.context,l.name,l.computed)+"("+c.join(",")+")"):f=u+"("+c.join(",")+")",f=h.ensureSafeObject(f),h.assign(e,f),i(e)})}));break;case Qo.AssignmentExpression:if(u=this.nextId(),l={},!er(t.left))throw Wo("lval","Trying to assing a value to a non l-value");this.recurse(t.left,n,l,function(){h.if_(h.notNull(l.context),function(){h.recurse(t.right,u),h.addEnsureSafeObject(h.member(l.context,l.name,l.computed)),f=h.member(l.context,l.name,l.computed)+t.operator+u,h.assign(e,f),i(e||f)})},1);break;case Qo.ArrayExpression:c=[],o(t.elements,function(t){h.recurse(t,h.nextId(),n,function(t){c.push(t)})}),f="["+c.join(",")+"]",this.assign(e,f),i(f);break;case Qo.ObjectExpression:c=[],o(t.properties,function(t){h.recurse(t.value,h.nextId(),n,function(e){c.push(h.escape(t.key.type===Qo.Identifier?t.key.name:""+t.key.value)+":"+e)})}),f="{"+c.join(",")+"}",this.assign(e,f),i(f);break;case Qo.ThisExpression:this.assign(e,"s"),i("s");break;case Qo.NGValueParameter:this.assign(e,"v"),i("v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),r[n]},assign:function(t,e){return t?(this.current().body.push(t,"=",e,";"),t):void 0},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(t===!0)e();else{var r=this.current().body;r.push("if(",t,"){"),e(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(t){return"!("+t+")"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){return t+"."+e},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},addEnsureSafeObject:function(t){this.current().body.push(this.ensureSafeObject(t),";")},addEnsureSafeMemberName:function(t){this.current().body.push(this.ensureSafeMemberName(t),";")},addEnsureSafeFunction:function(t){this.current().body.push(this.ensureSafeFunction(t),";")},ensureSafeObject:function(t){return"ensureSafeObject("+t+",text)"},ensureSafeMemberName:function(t){return"ensureSafeMemberName("+t+",text)"},ensureSafeFunction:function(t){return"ensureSafeFunction("+t+",text)"},lazyRecurse:function(t,e,n,r,i,o){var a=this;return function(){a.recurse(t,e,n,r,i,o)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if($(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(C(t))return t.toString();if(t===!0)return"true";if(t===!1)return"false";if(null===t)return"null";if("undefined"==typeof t)return"undefined";throw Wo("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},ar.prototype={compile:function(t,e){var n=this,r=this.astBuilder.ast(t);this.expression=t,this.expensiveChecks=e,Jn(r,n.$filter);var i,a;(i=nr(r))&&(a=this.recurse(i));var s,l=tr(r.body);l&&(s=[],o(l,function(t,e){var r=n.recurse(t);t.input=r,s.push(r),t.watchId=e}));var u=[];o(r.body,function(t){u.push(n.recurse(t.expression))});var c=0===r.body.length?function(){}:1===r.body.length?u[0]:function(t,e){var n;return o(u,function(r){n=r(t,e)}),n};return a&&(c.assign=function(t,e,n){return a(t,n,e)}),s&&(c.inputs=s),c.literal=rr(r),c.constant=ir(r),c},recurse:function(t,e,r){var i,a,s,l=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case Qo.Literal:return this.value(t.value,e);case Qo.UnaryExpression:return a=this.recurse(t.argument),this["unary"+t.operator](a,e);case Qo.BinaryExpression:return i=this.recurse(t.left),a=this.recurse(t.right),this["binary"+t.operator](i,a,e);case Qo.LogicalExpression:return i=this.recurse(t.left),a=this.recurse(t.right),this["binary"+t.operator](i,a,e);case Qo.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case Qo.Identifier:return Yn(t.name,l.expression),l.identifier(t.name,l.expensiveChecks||lr(t.name),e,r,l.expression);case Qo.MemberExpression:return i=this.recurse(t.object,!1,!!r),t.computed||(Yn(t.property.name,l.expression),a=t.property.name),t.computed&&(a=this.recurse(t.property)),t.computed?this.computedMember(i,a,e,r,l.expression):this.nonComputedMember(i,a,l.expensiveChecks,e,r,l.expression);case Qo.CallExpression:return s=[],o(t.arguments,function(t){s.push(l.recurse(t))}),t.filter&&(a=this.$filter(t.callee.name)),t.filter||(a=this.recurse(t.callee,!0)),t.filter?function(t,r,i,o){for(var l=[],u=0;u<s.length;++u)l.push(s[u](t,r,i,o));var c=a.apply(n,l,o);return e?{context:n,name:n,value:c}:c}:function(t,n,r,i){var o,u=a(t,n,r,i);if(null!=u.value){Gn(u.context,l.expression),Xn(u.value,l.expression);for(var c=[],f=0;f<s.length;++f)c.push(Gn(s[f](t,n,r,i),l.expression));o=Gn(u.value.apply(u.context,c),l.expression)}return e?{value:o}:o};case Qo.AssignmentExpression:return i=this.recurse(t.left,!0,1),a=this.recurse(t.right),function(t,n,r,o){var s=i(t,n,r,o),u=a(t,n,r,o);return Gn(s.value,l.expression),s.context[s.name]=u,e?{value:u}:u};case Qo.ArrayExpression:return s=[],o(t.elements,function(t){s.push(l.recurse(t))}),function(t,n,r,i){for(var o=[],a=0;a<s.length;++a)o.push(s[a](t,n,r,i));return e?{value:o}:o};case Qo.ObjectExpression:return s=[],o(t.properties,function(t){s.push({key:t.key.type===Qo.Identifier?t.key.name:""+t.key.value,value:l.recurse(t.value)})}),function(t,n,r,i){for(var o={},a=0;a<s.length;++a)o[s[a].key]=s[a].value(t,n,r,i);return e?{value:o}:o};case Qo.ThisExpression:return function(t){return e?{value:t}:t};case Qo.NGValueParameter:return function(t,n,r){return e?{value:r}:r}}},"unary+":function(t,e){return function(n,r,i,o){var a=t(n,r,i,o);return a=b(a)?+a:0,e?{value:a}:a}},"unary-":function(t,e){return function(n,r,i,o){var a=t(n,r,i,o);return a=b(a)?-a:0,e?{value:a}:a}},"unary!":function(t,e){return function(n,r,i,o){var a=!t(n,r,i,o);return e?{value:a}:a}},"binary+":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a),l=e(r,i,o,a),u=Qn(s,l);return n?{value:u}:u}},"binary-":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a),l=e(r,i,o,a),u=(b(s)?s:0)-(b(l)?l:0);return n?{value:u}:u}},"binary*":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)*e(r,i,o,a);return n?{value:s}:s}},"binary/":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)/e(r,i,o,a);return n?{value:s}:s}},"binary%":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)%e(r,i,o,a);return n?{value:s}:s}},"binary===":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)===e(r,i,o,a);return n?{value:s}:s}},"binary!==":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)!==e(r,i,o,a);return n?{value:s}:s}},"binary==":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)==e(r,i,o,a);return n?{value:s}:s}},"binary!=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)!=e(r,i,o,a);return n?{value:s}:s}},"binary<":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)<e(r,i,o,a);return n?{value:s}:s}},"binary>":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)>e(r,i,o,a);return n?{value:s}:s}},"binary<=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)<=e(r,i,o,a);return n?{value:s}:s}},"binary>=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)>=e(r,i,o,a);return n?{value:s}:s}},"binary&&":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)&&e(r,i,o,a);return n?{value:s}:s}},"binary||":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)||e(r,i,o,a);return n?{value:s}:s}},"ternary?:":function(t,e,n,r){return function(i,o,a,s){var l=t(i,o,a,s)?e(i,o,a,s):n(i,o,a,s);return r?{value:l}:l}},value:function(t,e){return function(){return e?{context:n,name:n,value:t}:t}},identifier:function(t,e,r,i,o){return function(a,s){var l=s&&t in s?s:a;i&&1!==i&&l&&!l[t]&&(l[t]={});var u=l?l[t]:n;return e&&Gn(u,o),r?{context:l,name:t,value:u}:u}},computedMember:function(t,e,n,r,i){return function(o,a,s,l){var u,c,f=t(o,a,s,l);return null!=f&&(u=e(o,a,s,l),Yn(u,i),r&&1!==r&&f&&!f[u]&&(f[u]={}),c=f[u],Gn(c,i)),n?{context:f,name:u,value:c}:c}},nonComputedMember:function(t,e,r,i,o,a){return function(s,l,u,c){var f=t(s,l,u,c);o&&1!==o&&f&&!f[e]&&(f[e]={});var h=null!=f?f[e]:n;return(r||lr(e))&&Gn(h,a),i?{context:f,name:e,value:h}:h}},inputs:function(t,e){return function(n,r,i,o){return o?o[e]:t(n,r,i)}}};var Zo=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n,this.ast=new Qo(this.lexer),this.astCompiler=n.csp?new ar(this.ast,e):new or(this.ast,e)};Zo.prototype={constructor:Zo,parse:function(t){return this.astCompiler.compile(t,this.options.expensiveChecks)}};var Jo=(ge(),ge(),Object.prototype.valueOf),ta=r("$sce"),ea={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Eo=r("$compile"),na=e.createElement("a"),ra=kr(t.location.href);_r.$inject=["$document"],Er.$inject=["$provide"],Ir.$inject=["$locale"],Nr.$inject=["$locale"];var ia=".",oa={yyyy:zr("FullYear",4),yy:zr("FullYear",2,0,!0),y:zr("FullYear",1),MMMM:Hr("Month"),MMM:Hr("Month",!0),MM:zr("Month",2,1),M:zr("Month",1,1),dd:zr("Date",2),d:zr("Date",1),HH:zr("Hours",2),H:zr("Hours",1),hh:zr("Hours",2,-12),h:zr("Hours",1,-12),mm:zr("Minutes",2),m:zr("Minutes",1),ss:zr("Seconds",2),s:zr("Seconds",1),sss:zr("Milliseconds",3),EEEE:Hr("Day"),EEE:Hr("Day",!0),a:Ur,Z:Br,ww:Vr(2),w:Vr(1),G:Yr,GG:Yr,GGG:Yr,GGGG:Gr},aa=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,sa=/^\-?\d+$/;Xr.$inject=["$locale"];var la=v(wi),ua=v($i);Zr.$inject=["$parse"];var ca=v({restrict:"E",compile:function(t,e){return e.href||e.xlinkHref?void 0:function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Fi.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),fa={};o(go,function(t,e){function n(t,n,i){t.$watch(i[r],function(t){i.$set(e,!!t)})}if("multiple"!=t){var r=un("ng-"+e),i=n;"checked"===t&&(i=function(t,e,i){i.ngModel!==i[r]&&n(t,e,i)}),fa[r]=function(){return{restrict:"A",priority:100,link:i}}}}),o(vo,function(t,e){fa[e]=function(){return{priority:100,link:function(t,n,r){if("ngPattern"===e&&"/"==r.ngPattern.charAt(0)){var i=r.ngPattern.match(yi);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}t.$watch(r[e],function(t){r.$set(e,t)})}}}}),o(["src","srcset","href"],function(t){var e=un("ng-"+t);fa[e]=function(){return{priority:99,link:function(n,r,i){var o=t,a=t;"href"===t&&"[object SVGAnimatedString]"===Fi.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(e,function(e){return e?(i.$set(a,e),void(ki&&o&&r.prop(o,i[a]))):void("href"===t&&i.$set(a,null))})}}}});var ha={$addControl:g,$$renameControl:ti,$removeControl:g,$setValidity:g,$setDirty:g,$setPristine:g,$setSubmitted:g},pa="ng-submitted";ei.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var da=function(t){return["$timeout",function(e){var r={name:"form",restrict:t?"EAC":"E",controller:ei,compile:function(r,i){r.addClass(Ga).addClass(Ua);
var o=i.name?"name":t&&i.ngForm?"ngForm":!1;return{pre:function(t,r,i,a){if(!("action"in i)){var s=function(e){t.$apply(function(){a.$commitViewValue(),a.$setSubmitted()}),e.preventDefault()};no(r[0],"submit",s),r.on("$destroy",function(){e(function(){ro(r[0],"submit",s)},0,!1)})}var l=a.$$parentForm;o&&(sr(t,a.$name,a,a.$name),i.$observe(o,function(e){a.$name!==e&&(sr(t,a.$name,n,a.$name),l.$$renameControl(a,e),sr(t,a.$name,a,a.$name))})),r.on("$destroy",function(){l.$removeControl(a),o&&sr(t,i[o],n,a.$name),f(a,ha)})}}}};return r}]},ga=da(),ma=da(!0),va=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,ya=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,ba=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,wa=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,xa=/^(\d{4})-(\d{2})-(\d{2})$/,$a=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ca=/^(\d{4})-W(\d\d)$/,Sa=/^(\d{4})-(\d\d)$/,ka=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ta={text:ri,date:si("date",xa,ai(xa,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":si("datetimelocal",$a,ai($a,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:si("time",ka,ai(ka,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:si("week",Ca,oi,"yyyy-Www"),month:si("month",Sa,ai(Sa,["yyyy","MM"]),"yyyy-MM"),number:ui,url:ci,email:fi,radio:hi,checkbox:di,hidden:g,button:g,submit:g,reset:g,file:g},Ma=["$browser","$sniffer","$filter","$parse",function(t,e,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(Ta[wi(a.type)]||Ta.text)(i,o,a,s[0],e,t,n,r)}}}}],_a=/^(true|false|\d+)$/,Aa=function(){return{restrict:"A",priority:100,compile:function(t,e){return _a.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},Ea=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,r,i){t.$$addBindingInfo(r,i.ngBind),r=r[0],e.$watch(i.ngBind,function(t){r.textContent=t===n?"":t})}}}}],Da=["$interpolate","$compile",function(t,e){return{compile:function(r){return e.$$addBindingClass(r),function(r,i,o){var a=t(i.attr(o.$attr.ngBindTemplate));e.$$addBindingInfo(i,a.expressions),i=i[0],o.$observe("ngBindTemplate",function(t){i.textContent=t===n?"":t})}}}}],Fa=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(r,i){var o=e(i.ngBindHtml),a=e(i.ngBindHtml,function(t){return(t||"").toString()});return n.$$addBindingClass(r),function(e,r,i){n.$$addBindingInfo(r,i.ngBindHtml),e.$watch(a,function(){r.html(t.getTrustedHtml(o(e))||"")})}}}}],Oa=v({restrict:"A",require:"ngModel",link:function(t,e,n,r){r.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),Pa=gi("",!0),La=gi("Odd",0),Ia=gi("Even",1),Na=Jr({compile:function(t,e){e.$set("ngCloak",n),t.removeClass("ng-cloak")}}),ja=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Ra={},za={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=un("ng-"+t);Ra[e]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[e],null,!0);return function(e,n){n.on(t,function(n){var i=function(){a(e,{$event:n})};za[t]&&r.$$phase?e.$evalAsync(i):e.$apply(i)})}}}}]});var Ha=["$animate",function(t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,l,u;n.$watch(i.ngIf,function(n){n?l||a(function(n,o){l=o,n[n.length++]=e.createComment(" end ngIf: "+i.ngIf+" "),s={clone:n},t.enter(n,r.parent(),r)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),s&&(u=de(s.clone),t.leave(u).then(function(){u=null}),s=null))})}}}],Ba=["$templateRequest","$anchorScroll","$animate","$sce",function(t,e,n,r){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Li.noop,compile:function(i,o){var a=o.ngInclude||o.src,s=o.onload||"",l=o.autoscroll;return function(i,o,u,c,f){var h,p,d,g=0,m=function(){p&&(p.remove(),p=null),h&&(h.$destroy(),h=null),d&&(n.leave(d).then(function(){p=null}),p=d,d=null)};i.$watch(r.parseAsResourceUrl(a),function(r){var a=function(){!b(l)||l&&!i.$eval(l)||e()},u=++g;r?(t(r,!0).then(function(t){if(u===g){var e=i.$new();c.template=t;var l=f(e,function(t){m(),n.enter(t,null,o).then(a)});h=e,d=l,h.$emit("$includeContentLoaded",r),i.$eval(s)}},function(){u===g&&(m(),i.$emit("$includeContentError",r))}),i.$emit("$includeContentRequested",r)):(m(),c.template=null)})}}}}],qa=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){return/SVG/.test(r[0].toString())?(r.empty(),void t(Se(o.template,e).childNodes)(n,function(t){r.append(t)},{futureParentElement:r})):(r.html(o.template),void t(r.contents())(n))}}}],Wa=Jr({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),Va=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,r,i){var a=e.attr(r.$attr.ngList)||", ",s="false"!==r.ngTrim,l=s?zi(a):a,u=function(t){if(!y(t)){var e=[];return t&&o(t.split(l),function(t){t&&e.push(s?zi(t):t)}),e}};i.$parsers.push(u),i.$formatters.push(function(t){return ji(t)?t.join(a):n}),i.$isEmpty=function(t){return!t||!t.length}}}},Ua="ng-valid",Ya="ng-invalid",Ga="ng-pristine",Xa="ng-dirty",Ka="ng-untouched",Qa="ng-touched",Za="ng-pending",Ja=new r("ngModel"),ts=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(t,e,r,i,a,s,l,u,c,f){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=f(r.name||"",!1)(t);var h,p=a(r.ngModel),d=p.assign,m=p,v=d,w=null,x=this;this.$$setOptions=function(t){if(x.$options=t,t&&t.getterSetter){var e=a(r.ngModel+"()"),n=a(r.ngModel+"($$$p)");m=function(t){var n=p(t);return k(n)&&(n=e(t)),n},v=function(t){k(p(t))?n(t,{$$$p:x.$modelValue}):d(t,x.$modelValue)}}else if(!p.assign)throw Ja("nonassign","Expression '{0}' is non-assignable. Element: {1}",r.ngModel,Q(i))},this.$render=g,this.$isEmpty=function(t){return y(t)||""===t||null===t||t!==t};var $=i.inheritedData("$formController")||ha,S=0;mi({ctrl:this,$element:i,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},parentForm:$,$animate:s}),this.$setPristine=function(){x.$dirty=!1,x.$pristine=!0,s.removeClass(i,Xa),s.addClass(i,Ga)},this.$setDirty=function(){x.$dirty=!0,x.$pristine=!1,s.removeClass(i,Ga),s.addClass(i,Xa),$.$setDirty()},this.$setUntouched=function(){x.$touched=!1,x.$untouched=!0,s.setClass(i,Ka,Qa)},this.$setTouched=function(){x.$touched=!0,x.$untouched=!1,s.setClass(i,Qa,Ka)},this.$rollbackViewValue=function(){l.cancel(w),x.$viewValue=x.$$lastCommittedViewValue,x.$render()},this.$validate=function(){if(!C(x.$modelValue)||!isNaN(x.$modelValue)){var t=x.$$lastCommittedViewValue,e=x.$$rawModelValue,r=x.$valid,i=x.$modelValue,o=x.$options&&x.$options.allowInvalid;x.$$runValidators(e,t,function(t){o||r===t||(x.$modelValue=t?e:n,x.$modelValue!==i&&x.$$writeModelToScope())})}},this.$$runValidators=function(t,e,r){function i(){var t=x.$$parserName||"parse";return h!==n?(h||(o(x.$validators,function(t,e){l(e,null)}),o(x.$asyncValidators,function(t,e){l(e,null)})),l(t,h),h):(l(t,null),!0)}function a(){var n=!0;return o(x.$validators,function(r,i){var o=r(t,e);n=n&&o,l(i,o)}),n?!0:(o(x.$asyncValidators,function(t,e){l(e,null)}),!1)}function s(){var r=[],i=!0;o(x.$asyncValidators,function(o,a){var s=o(t,e);if(!O(s))throw Ja("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",s);l(a,n),r.push(s.then(function(){l(a,!0)},function(){i=!1,l(a,!1)}))}),r.length?c.all(r).then(function(){u(i)},g):u(!0)}function l(t,e){f===S&&x.$setValidity(t,e)}function u(t){f===S&&r(t)}S++;var f=S;return i()&&a()?void s():void u(!1)},this.$commitViewValue=function(){var t=x.$viewValue;l.cancel(w),(x.$$lastCommittedViewValue!==t||""===t&&x.$$hasNativeValidators)&&(x.$$lastCommittedViewValue=t,x.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function e(){x.$modelValue!==a&&x.$$writeModelToScope()}var r=x.$$lastCommittedViewValue,i=r;if(h=y(i)?n:!0)for(var o=0;o<x.$parsers.length;o++)if(i=x.$parsers[o](i),y(i)){h=!1;break}C(x.$modelValue)&&isNaN(x.$modelValue)&&(x.$modelValue=m(t));var a=x.$modelValue,s=x.$options&&x.$options.allowInvalid;x.$$rawModelValue=i,s&&(x.$modelValue=i,e()),x.$$runValidators(i,x.$$lastCommittedViewValue,function(t){s||(x.$modelValue=t?i:n,e())})},this.$$writeModelToScope=function(){v(t,x.$modelValue),o(x.$viewChangeListeners,function(t){try{t()}catch(n){e(n)}})},this.$setViewValue=function(t,e){x.$viewValue=t,(!x.$options||x.$options.updateOnDefault)&&x.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(e){var n,r=0,i=x.$options;i&&b(i.debounce)&&(n=i.debounce,C(n)?r=n:C(n[e])?r=n[e]:C(n["default"])&&(r=n["default"])),l.cancel(w),r?w=l(function(){x.$commitViewValue()},r):u.$$phase?x.$commitViewValue():t.$apply(function(){x.$commitViewValue()})},t.$watch(function(){var e=m(t);if(e!==x.$modelValue&&(x.$modelValue===x.$modelValue||e===e)){x.$modelValue=x.$$rawModelValue=e,h=n;for(var r=x.$formatters,i=r.length,o=e;i--;)o=r[i](o);x.$viewValue!==o&&(x.$viewValue=x.$$lastCommittedViewValue=o,x.$render(),x.$$runValidators(e,o,g))}return e})}],es=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ts,priority:1,compile:function(e){return e.addClass(Ga).addClass(Ka).addClass(Ua),{pre:function(t,e,n,r){var i=r[0],o=r[1]||ha;i.$$setOptions(r[2]&&r[2].$options),o.$addControl(i),n.$observe("name",function(t){i.$name!==t&&o.$$renameControl(i,t)}),t.$on("$destroy",function(){o.$removeControl(i)})},post:function(e,n,r,i){var o=i[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(t){o.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(){o.$touched||(t.$$phase?e.$evalAsync(o.$setTouched):e.$apply(o.$setTouched))})}}}}}],ns=/(\s+|^)default(\s+|$)/,rs=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var r=this;this.$options=R(t.$eval(e.ngModelOptions)),this.$options.updateOn!==n?(this.$options.updateOnDefault=!1,this.$options.updateOn=zi(this.$options.updateOn.replace(ns,function(){return r.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},is=Jr({terminal:!0,priority:1e3}),os=r("ngOptions"),as=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,ss=["$compile","$parse",function(t,n){function r(t,e,r){function o(t,e,n,r,i){this.selectValue=t,this.viewValue=e,this.label=n,this.group=r,this.disabled=i}var a=t.match(as);if(!a)throw os("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,Q(e));var s=a[5]||a[7],l=a[6],u=/ as /.test(a[0])&&a[1],c=a[9],f=n(a[2]?a[1]:s),h=u&&n(u),p=h||f,d=c&&n(c),g=c?function(t,e){return d(r,e)}:function(t){return Ue(t)},m=function(t,e){return g(t,$(t,e))},v=n(a[2]||a[1]),y=n(a[3]||""),b=n(a[4]||""),w=n(a[8]),x={},$=l?function(t,e){return x[l]=e,x[s]=t,x}:function(t){return x[s]=t,x};return{trackBy:c,getTrackByValue:m,getWatchables:n(w,function(t){var e=[];return t=t||[],Object.keys(t).forEach(function(n){var i=$(t[n],n),o=g(t[n],i);if(e.push(o),a[2]||a[1]){var s=v(r,i);e.push(s)}if(a[4]){var l=b(r,i);e.push(l)}}),e}),getOptions:function(){var t,e=[],n={},a=w(r)||[];if(!l&&i(a))t=a;else{t=[];for(var s in a)a.hasOwnProperty(s)&&"$"!==s.charAt(0)&&t.push(s)}for(var u=t.length,f=0;u>f;f++){var h=a===t?f:t[f],d=a[h],x=$(d,h),C=p(r,x),S=g(C,x),k=v(r,x),T=y(r,x),M=b(r,x),_=new o(S,C,k,T,M);e.push(_),n[S]=_}return{items:e,selectValueMap:n,getOptionFromViewValue:function(t){return n[m(t)]},getViewValueFromOption:function(t){return c?Li.copy(t.viewValue):t.viewValue}}}}}var a=e.createElement("option"),s=e.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:function(e,n,i,l){function u(t,e){t.element=e,e.disabled=t.disabled,t.value!==e.value&&(e.value=t.selectValue),t.label!==e.label&&(e.label=t.label,e.textContent=t.label)}function c(t,e,n,r){var i;return e&&wi(e.nodeName)===n?i=e:(i=r.cloneNode(!1),e?t.insertBefore(i,e):t.appendChild(i)),i}function f(t){for(var e;t;)e=t.nextSibling,ze(t),t=e}function h(t){var e=g&&g[0],n=$&&$[0];if(e||n)for(;t&&(t===e||t===n);)t=t.nextSibling;return t}function p(){var t=C&&m.readValue();C=S.getOptions();var e={},r=n[0].firstChild;if(x&&n.prepend(g),r=h(r),C.items.forEach(function(t){var i,o,l;t.group?(i=e[t.group],i||(o=c(n[0],r,"optgroup",s),r=o.nextSibling,o.label=t.group,i=e[t.group]={groupElement:o,currentOptionElement:o.firstChild}),l=c(i.groupElement,i.currentOptionElement,"option",a),u(t,l),i.currentOptionElement=l.nextSibling):(l=c(n[0],r,"option",a),u(t,l),r=l.nextSibling)}),Object.keys(e).forEach(function(t){f(e[t].currentOptionElement)}),f(r),d.$render(),!d.$isEmpty(t)){var i=m.readValue();(S.trackBy&&!H(t,i)||t!==i)&&(d.$setViewValue(i),d.$render())}}var d=l[1];if(d){for(var g,m=l[0],v=i.multiple,y=0,b=n.children(),w=b.length;w>y;y++)if(""===b[y].value){g=b.eq(y);break}var x=!!g,$=Ti(a.cloneNode(!1));$.val("?");var C,S=r(i.ngOptions,n,e),k=function(){x||n.prepend(g),n.val(""),g.prop("selected",!0),g.attr("selected",!0)},T=function(){x||g.remove()},M=function(){n.prepend($),n.val("?"),$.prop("selected",!0),$.attr("selected",!0)},_=function(){$.remove()};v?(d.$isEmpty=function(t){return!t||0===t.length},m.writeValue=function(t){C.items.forEach(function(t){t.element.selected=!1}),t&&t.forEach(function(t){var e=C.getOptionFromViewValue(t);e&&!e.disabled&&(e.element.selected=!0)})},m.readValue=function(){var t=n.val()||[],e=[];return o(t,function(t){var n=C.selectValueMap[t];n.disabled||e.push(C.getViewValueFromOption(n))}),e},S.trackBy&&e.$watchCollection(function(){return ji(d.$viewValue)?d.$viewValue.map(function(t){return S.getTrackByValue(t)}):void 0},function(){d.$render()})):(m.writeValue=function(t){var e=C.getOptionFromViewValue(t);e&&!e.disabled?n[0].value!==e.selectValue&&(_(),T(),n[0].value=e.selectValue,e.element.selected=!0,e.element.setAttribute("selected","selected")):null===t||x?(_(),k()):(T(),M())},m.readValue=function(){var t=C.selectValueMap[n.val()];return t&&!t.disabled?(T(),_(),C.getViewValueFromOption(t)):null},S.trackBy&&e.$watch(function(){return S.getTrackByValue(d.$viewValue)},function(){d.$render()})),x?(g.remove(),t(g)(e),g.removeClass("ng-scope")):g=Ti(a.cloneNode(!1)),p(),e.$watchCollection(S.getWatchables,p)}}}}],ls=["$locale","$interpolate","$log",function(t,e,n){var r=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(a,s,l){function u(t){s.text(t||"")}var c,f=l.count,h=l.$attr.when&&s.attr(l.$attr.when),p=l.offset||0,d=a.$eval(h)||{},m={},v=e.startSymbol(),b=e.endSymbol(),w=v+f+"-"+p+b,x=Li.noop;o(l,function(t,e){var n=i.exec(e);if(n){var r=(n[1]?"-":"")+wi(n[2]);d[r]=s.attr(l.$attr[e])}}),o(d,function(t,n){m[n]=e(t.replace(r,w))}),a.$watch(f,function(e){var r=parseFloat(e),i=isNaN(r);if(i||r in d||(r=t.pluralCat(r-p)),r!==c&&!(i&&C(c)&&isNaN(c))){x();var o=m[r];y(o)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+h),x=g,u()):x=a.$watch(o,u),c=r}})}}}],us=["$parse","$animate",function(t,a){var s="$$NG_REMOVED",l=r("ngRepeat"),u=function(t,e,n,r,i,o,a){t[n]=r,i&&(t[i]=o),t.$index=e,t.$first=0===e,t.$last=e===a-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e))},c=function(t){return t.clone[0]},f=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,h){var p=h.ngRepeat,d=e.createComment(" end ngRepeat: "+p+" "),g=p.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!g)throw l("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",p);var m=g[1],v=g[2],y=g[3],b=g[4];if(g=m.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!g)throw l("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",m);var w=g[3]||g[1],x=g[2];if(y&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(y)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(y)))throw l("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",y);var $,C,S,k,T={$id:Ue};return b?$=t(b):(S=function(t,e){return Ue(e)},k=function(t){return t}),function(t,e,r,h,g){$&&(C=function(e,n,r){return x&&(T[x]=e),T[w]=n,T.$index=r,$(t,T)});var m=ge();t.$watchCollection(v,function(r){var h,v,b,$,T,M,_,A,E,D,F,O,P=e[0],L=ge();if(y&&(t[y]=r),i(r))E=r,A=C||S;else{A=C||k,E=[];for(var I in r)r.hasOwnProperty(I)&&"$"!==I.charAt(0)&&E.push(I)}for($=E.length,F=new Array($),h=0;$>h;h++)if(T=r===E?h:E[h],M=r[T],_=A(T,M,h),m[_])D=m[_],delete m[_],L[_]=D,F[h]=D;else{if(L[_])throw o(F,function(t){t&&t.scope&&(m[t.id]=t)}),l("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",p,_,M);F[h]={id:_,scope:n,clone:n},L[_]=!0}for(var N in m){if(D=m[N],O=de(D.clone),a.leave(O),O[0].parentNode)for(h=0,v=O.length;v>h;h++)O[h][s]=!0;D.scope.$destroy()}for(h=0;$>h;h++)if(T=r===E?h:E[h],M=r[T],D=F[h],D.scope){b=P;do b=b.nextSibling;while(b&&b[s]);c(D)!=b&&a.move(de(D.clone),null,Ti(P)),P=f(D),u(D.scope,h,w,M,x,T,$)}else g(function(t,e){D.scope=e;var n=d.cloneNode(!1);t[t.length++]=n,a.enter(t,null,Ti(P)),P=n,D.clone=t,L[D.id]=D,u(D.scope,h,w,M,x,T,$)});m=L})}}}}],cs="ng-hide",fs="ng-hide-animate",hs=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngShow,function(e){t[e?"removeClass":"addClass"](n,cs,{tempClasses:fs})})}}}],ps=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngHide,function(e){t[e?"addClass":"removeClass"](n,cs,{tempClasses:fs})})}}}],ds=Jr(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&o(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),gs=["$animate",function(t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,a){var s=i.ngSwitch||i.on,l=[],u=[],c=[],f=[],h=function(t,e){return function(){t.splice(e,1)}};n.$watch(s,function(n){var r,i;for(r=0,i=c.length;i>r;++r)t.cancel(c[r]);for(c.length=0,r=0,i=f.length;i>r;++r){var s=de(u[r].clone);f[r].$destroy();var p=c[r]=t.leave(s);p.then(h(c,r))}u.length=0,f.length=0,(l=a.cases["!"+n]||a.cases["?"])&&o(l,function(n){n.transclude(function(r,i){f.push(i);var o=n.element;r[r.length++]=e.createComment(" end ngSwitchWhen: ");var a={clone:r};u.push(a),t.enter(r,o.parent(),o)})})})}}}],ms=Jr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:e})}}),vs=Jr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:e})}}),ys=Jr({restrict:"EAC",link:function(t,e,n,i,o){if(!o)throw r("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",Q(e));o(function(t){e.empty(),e.append(t)})}}),bs=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"==n.type){var r=n.id,i=e[0].text;t.put(r,i)}}}}],ws={$setViewValue:g,$render:g},xs=["$element","$scope","$attrs",function(t,r){var i=this,o=new Ye;i.ngModelCtrl=ws,i.unknownOption=Ti(e.createElement("option")),i.renderUnknownOption=function(e){var n="? "+Ue(e)+" ?";i.unknownOption.val(n),t.prepend(i.unknownOption),t.val(n)},r.$on("$destroy",function(){i.renderUnknownOption=g}),i.removeUnknownOption=function(){i.unknownOption.parent()&&i.unknownOption.remove()},i.readValue=function(){return i.removeUnknownOption(),t.val()},i.writeValue=function(e){i.hasOption(e)?(i.removeUnknownOption(),t.val(e),""===e&&i.emptyOption.prop("selected",!0)):null==e&&i.emptyOption?(i.removeUnknownOption(),t.val("")):i.renderUnknownOption(e)},i.addOption=function(t,e){he(t,'"option value"'),""===t&&(i.emptyOption=e);var n=o.get(t)||0;o.put(t,n+1)},i.removeOption=function(t){var e=o.get(t);e&&(1===e?(o.remove(t),""===t&&(i.emptyOption=n)):o.put(t,e-1))},i.hasOption=function(t){return!!o.get(t)}}],$s=function(){return{restrict:"E",require:["select","?ngModel"],controller:xs,link:function(t,e,n,r){var i=r[1];if(i){var a=r[0];if(a.ngModelCtrl=i,i.$render=function(){a.writeValue(i.$viewValue)},e.on("change",function(){t.$apply(function(){i.$setViewValue(a.readValue())})}),n.multiple){a.readValue=function(){var t=[];return o(e.find("option"),function(e){e.selected&&t.push(e.value)}),t},a.writeValue=function(t){var n=new Ye(t);o(e.find("option"),function(t){t.selected=b(n.get(t.value))})};var s,l=0/0;t.$watch(function(){l!==i.$viewValue||H(s,i.$viewValue)||(s=z(i.$viewValue),i.$render()),l=i.$viewValue}),i.$isEmpty=function(t){return!t||0===t.length}}}}}},Cs=["$interpolate",function(t){function e(t){t[0].hasAttribute("selected")&&(t[0].selected=!0)}return{restrict:"E",priority:100,compile:function(n,r){if(y(r.value)){var i=t(n.text(),!0);i||r.$set("value",n.text())}return function(t,n,r){var o="$selectController",a=n.parent(),s=a.data(o)||a.parent().data(o);s&&s.ngModelCtrl&&(i?t.$watch(i,function(t,i){r.$set("value",t),i!==t&&s.removeOption(i),s.addOption(t,n),s.ngModelCtrl.$render(),e(n)}):(s.addOption(r.value,n),s.ngModelCtrl.$render(),e(n)),n.on("$destroy",function(){s.removeOption(r.value),s.ngModelCtrl.$render()}))}}}}],Ss=v({restrict:"E",terminal:!1}),ks=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){r&&(n.required=!0,r.$validators.required=function(t,e){return!n.required||!r.$isEmpty(e)},n.$observe("required",function(){r.$validate()}))}}},Ts=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,i,o){if(o){var a,s=i.ngPattern||i.pattern;i.$observe("pattern",function(t){if($(t)&&t.length>0&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,t,Q(e));a=t||n,o.$validate()}),o.$validators.pattern=function(t){return o.$isEmpty(t)||y(a)||a.test(t)}}}}},Ms=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=-1;n.$observe("maxlength",function(t){var e=p(t);i=isNaN(e)?-1:e,r.$validate()}),r.$validators.maxlength=function(t,e){return 0>i||r.$isEmpty(e)||e.length<=i}}}}},_s=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=0;n.$observe("minlength",function(t){i=p(t)||0,r.$validate()}),r.$validators.minlength=function(t,e){return r.$isEmpty(e)||e.length>=i}}}}};return t.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(ue(),be(Li),void Ti(e).ready(function(){ie(e,oe)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),/**
 * @license AngularJS v1.4.0
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,n){"use strict";function r(t,e,n){if(!t)throw ngMinErr("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function i(t,e){return t||e?t?e?(j(t)&&(t=t.join(" ")),j(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function o(t){var e={};return t&&(t.to||t.from)&&(e.to=t.to,e.from=t.from),e}function a(t,e,n){var r="";return t=j(t)?t:t&&R(t)&&t.length?t.split(/\s+/):[],N(t,function(t,i){t&&t.length>0&&(r+=i>0?" ":"",r+=n?e+t:t+e)}),r}function s(t,e){var n=t.indexOf(e);e>=0&&t.splice(n,1)}function l(t){if(t instanceof I)switch(t.length){case 0:return[];case 1:if(t[0].nodeType===V)return t;break;default:return I(u(t))}return t.nodeType===V?I(t):void 0}function u(t){if(!t[0])return t;for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType==V)return n}}function c(t,e,n){N(e,function(e){t.addClass(e,n)})}function f(t,e,n){N(e,function(e){t.removeClass(e,n)})}function h(t){return function(e,n){n.addClass&&(c(t,e,n.addClass),n.addClass=null),n.removeClass&&(f(t,e,n.removeClass),n.removeClass=null)}}function p(t){if(t=t||{},!t.$$prepared){var e=t.domOperation||P;t.domOperation=function(){t.$$domOperationFired=!0,e(),e=P},t.$$prepared=!0}return t}function d(t,e){g(t,e),m(t,e)}function g(t,e){e.from&&(t.css(e.from),e.from=null)}function m(t,e){e.to&&(t.css(e.to),e.to=null)}function v(t,e,n){var r=(e.addClass||"")+" "+(n.addClass||""),i=(e.removeClass||"")+" "+(n.removeClass||""),o=y(t.attr("class"),r,i);return L(e,n),e.addClass=o.addClass?o.addClass:null,e.removeClass=o.removeClass?o.removeClass:null,e}function y(t,e,n){function r(t){R(t)&&(t=t.split(" "));var e={};return N(t,function(t){t.length&&(e[t]=!0)}),e}var i=1,o=-1,a={};t=r(t),e=r(e),N(e,function(t,e){a[e]=i}),n=r(n),N(n,function(t,e){a[e]=a[e]===i?null:o});var s={addClass:"",removeClass:""};return N(a,function(e,n){var r,a;e===i?(r="addClass",a=!t[n]):e===o&&(r="removeClass",a=t[n]),a&&(s[r].length&&(s[r]+=" "),s[r]+=n)}),s}function b(t){return t instanceof e.element?t[0]:t}function w(t,e,n){var r=Object.create(null),i=t.getComputedStyle(e)||{};return N(n,function(t,e){var n=i[t];if(n){var o=n.charAt(0);("-"===o||"+"===o||o>=0)&&(n=x(n)),0===n&&(n=null),r[e]=n}}),r}function x(t){var e=0,n=t.split(/\s*,\s*/);return N(n,function(t){"s"==t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,e=e?Math.max(t,e):t}),e}function $(t){return 0===t||null!=t}function C(t,e){var n=E,r=t+"s";return e?n+=Q:r+=" linear all",[n,r]}function S(t){return[le,t+"s"]}function k(t,e){var n=e?se:ue;return[n,t+"s"]}function T(t,e){var n=e?"-"+e+"s":"";return _(t,[ue,n]),[ue,n]}function M(t,e){var n=e?"paused":"",r=F+ne;return _(t,[r,n]),[r,n]}function _(t,e){var n=e[0],r=e[1];t.style[n]=r}function A(){var t=Object.create(null);return{flush:function(){t=Object.create(null)},count:function(e){var n=t[e];return n?n.total:0},get:function(e){var n=t[e];return n&&n.value},put:function(e,n){t[e]?t[e].total++:t[e]={total:1,value:n}}}}var E,D,F,O,P=e.noop,L=e.extend,I=e.element,N=e.forEach,j=e.isArray,R=e.isString,z=e.isObject,H=e.isUndefined,B=e.isDefined,q=e.isFunction,W=e.isElement,V=1,U="ng-animate",Y="$$ngAnimateChildren",G=["$$rAF",function(t){function e(t){o.push([].concat(t)),n()}function n(){if(o.length){for(var e=[],a=0;a<o.length;a++){var s=o[a];r(s),s.length&&e.push(s)}o=e,i||t(function(){i||n()})}}function r(t){var e=t.shift();e()}var i,o=[];return e.waitUntilQuiet=function(e){i&&i(),i=t(function(){i=null,e(),n()})},e}],X=[function(){return function(t,n,r){var i=r.ngAnimateChildren;e.isString(i)&&0===i.length?n.data(Y,!0):r.$observe("ngAnimateChildren",function(t){t="on"===t||"true"===t,n.data(Y,t)})}}],K="";t.ontransitionend===n&&t.onwebkittransitionend!==n?(K="-webkit-",E="WebkitTransition",D="webkitTransitionEnd transitionend"):(E="transition",D="transitionend"),t.onanimationend===n&&t.onwebkitanimationend!==n?(K="-webkit-",F="WebkitAnimation",O="webkitAnimationEnd animationend"):(F="animation",O="animationend");var Q="Duration",Z="Property",J="Delay",te="TimingFunction",ee="IterationCount",ne="PlayState",re=3,ie=1.5,oe=1e3,ae=9999,se=F+J,le=F+Q,ue=E+J,ce=E+Q,fe={transitionDuration:ce,transitionDelay:ue,transitionProperty:E+Z,animationDuration:le,animationDelay:se,animationIterationCount:F+ee},he={transitionDuration:ce,transitionDelay:ue,animationDuration:le,animationDelay:se},pe=["$animateProvider",function(){var t=A(),e=A();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$document","$sniffer","$$rAFScheduler",function(n,r,i,l,u,c,f){function v(t,e){var n="$$ngAnimateParentKey",r=t.parentNode,i=r[n]||(r[n]=++R);return i+"-"+t.getAttribute("class")+"-"+e}function y(e,r,i,o){var a=t.get(i);return a||(a=w(n,e,o),"infinite"===a.animationIterationCount&&(a.animationIterationCount=1)),t.put(i,a),a}function x(i,o,s,l){var u;if(t.count(s)>0&&(u=e.get(s),!u)){var c=a(o,"-stagger");r.addClass(i,c),u=w(n,i,l),u.animationDuration=Math.max(u.animationDuration,0),u.transitionDuration=Math.max(u.transitionDuration,0),r.removeClass(i,c),e.put(s,u)}return u||{}}function A(n){H.push(n),f.waitUntilQuiet(function(){t.flush(),e.flush();for(var n=z.offsetWidth+1,r=0;r<H.length;r++)H[r](n);H.length=0})}function P(t,e,n){var r=y(t,e,n,fe),i=r.animationDelay,o=r.transitionDelay;return r.maxDelay=i&&o?Math.max(i,o):i||o,r.maxDuration=Math.max(r.animationDuration*r.animationIterationCount,r.transitionDuration),r}function L(e,n){function u(){h()}function f(){h(!0)}function h(t){z||B&&H||(z=!0,H=!1,r.removeClass(e,le),r.removeClass(e,ce),M(R,!1),T(R,!1),N(X,function(t){R.style[t[0]]=""}),I(e,n),d(e,n),n.onDone&&n.onDone(),q&&q.complete(!t))}function y(t){Se.blockTransition&&T(R,t),Se.blockKeyframeAnimation&&M(R,!!t)}function w(){return q=new i({end:u,cancel:f}),h(),{$$willAnimate:!1,start:function(){return q},end:u}}function L(){function t(){if(!z){if(y(!1),N(X,function(t){var e=t[0],n=t[1];R.style[e]=n}),I(e,n),r.addClass(e,ce),Se.recalculateTimingStyles){if(ue=R.className+" "+le,pe=v(R,ue),$e=P(R,ue,pe),Ce=$e.maxDelay,V=Math.max(Ce,0),Y=$e.maxDuration,0===Y)return void h();Se.hasTransitions=$e.transitionDuration>0,Se.hasAnimations=$e.animationDuration>0}if(Se.applyTransitionDelay||Se.applyAnimationDelay){Ce="boolean"!=typeof n.delay&&$(n.delay)?parseFloat(n.delay):Ce,V=Math.max(Ce,0);var t;Se.applyTransitionDelay&&($e.transitionDelay=Ce,t=k(Ce),X.push(t),R.style[t[0]]=t[1]),Se.applyAnimationDelay&&($e.animationDelay=Ce,t=k(Ce,!0),X.push(t),R.style[t[0]]=t[1])}if(U=V*oe,G=Y*oe,n.easing){var s,c=n.easing;Se.hasTransitions&&(s=E+te,X.push([s,c]),R.style[s]=c),Se.hasAnimations&&(s=F+te,X.push([s,c]),R.style[s]=c)}$e.transitionDuration&&u.push(D),$e.animationDuration&&u.push(O),a=Date.now(),e.on(u.join(" "),o),l(i,U+ie*G),m(e,n)}}function i(){h()}function o(t){t.stopPropagation();var e=t.originalEvent||t,n=e.$manualTimeStamp||e.timeStamp||Date.now(),r=parseFloat(e.elapsedTime.toFixed(re));Math.max(n-a,0)>=U&&r>=Y&&(B=!0,h())}if(!z){var a,u=[],c=function(t){if(B)H&&t&&(H=!1,h());else if(H=!t,$e.animationDuration){var e=M(R,H);H?X.push(e):s(X,e)}},f=we>0&&($e.transitionDuration&&0===de.transitionDuration||$e.animationDuration&&0===de.animationDuration)&&Math.max(de.animationDelay,de.transitionDelay);f?l(t,Math.floor(f*we*oe),!1):t(),W.resume=function(){c(!0)},W.pause=function(){c(!1)}}}var R=b(e);n=p(n);var z,H,B,q,W,V,U,Y,G,X=[],K=e.attr("class"),Q=o(n);if(0===n.duration||!c.animations&&!c.transitions)return w();var J=n.event&&j(n.event)?n.event.join(" "):n.event,ee=J&&n.structural,ne="",se="";ee?ne=a(J,"ng-",!0):J&&(ne=J),n.addClass&&(se+=a(n.addClass,"-add")),n.removeClass&&(se.length&&(se+=" "),se+=a(n.removeClass,"-remove")),n.applyClassesEarly&&se.length&&(I(e,n),se="");var le=[ne,se].join(" ").trim(),ue=K+" "+le,ce=a(le,"-active"),fe=Q.to&&Object.keys(Q.to).length>0;if(!fe&&!le)return w();var pe,de;if(n.stagger>0){var ge=parseFloat(n.stagger);de={transitionDelay:ge,animationDelay:ge,transitionDuration:0,animationDuration:0}}else pe=v(R,ue),de=x(R,le,pe,he);r.addClass(e,le);var me;if(n.transitionStyle){var ve=[E,n.transitionStyle];_(R,ve),X.push(ve)}if(n.duration>=0){me=R.style[E].length>0;var ye=C(n.duration,me);_(R,ye),X.push(ye)}if(n.keyframeStyle){var be=[F,n.keyframeStyle];_(R,be),X.push(be)}var we=de?n.staggerIndex>=0?n.staggerIndex:t.count(pe):0,xe=0===we;xe&&T(R,ae);var $e=P(R,ue,pe),Ce=$e.maxDelay;V=Math.max(Ce,0),Y=$e.maxDuration;var Se={};return Se.hasTransitions=$e.transitionDuration>0,Se.hasAnimations=$e.animationDuration>0,Se.hasTransitionAll=Se.hasTransitions&&"all"==$e.transitionProperty,Se.applyTransitionDuration=fe&&(Se.hasTransitions&&!Se.hasTransitionAll||Se.hasAnimations&&!Se.hasTransitions),Se.applyAnimationDuration=n.duration&&Se.hasAnimations,Se.applyTransitionDelay=$(n.delay)&&(Se.applyTransitionDuration||Se.hasTransitions),Se.applyAnimationDelay=$(n.delay)&&Se.hasAnimations,Se.recalculateTimingStyles=se.length>0,(Se.applyTransitionDuration||Se.applyAnimationDuration)&&(Y=n.duration?parseFloat(n.duration):Y,Se.applyTransitionDuration&&(Se.hasTransitions=!0,$e.transitionDuration=Y,me=R.style[E+Z].length>0,X.push(C(Y,me))),Se.applyAnimationDuration&&(Se.hasAnimations=!0,$e.animationDuration=Y,X.push(S(Y)))),0!==Y||Se.recalculateTimingStyles?(null==n.duration&&$e.transitionDuration>0&&(Se.recalculateTimingStyles=Se.recalculateTimingStyles||xe),U=V*oe,G=Y*oe,n.skipBlocking||(Se.blockTransition=$e.transitionDuration>0,Se.blockKeyframeAnimation=$e.animationDuration>0&&de.animationDelay>0&&0===de.animationDuration),g(e,n),Se.blockTransition||T(R,!1),y(Y),{$$willAnimate:!0,end:u,start:function(){return z?void 0:(W={end:u,cancel:f,resume:null,pause:null},q=new i(W),A(L),q)}}):w()}var I=h(r),R=0,z=b(u).body,H=[];return L}]}],de=["$$animationProvider",function(t){t.drivers.push("$$animateCssDriver");var e="ng-animate-shim",n="ng-anchor",r="ng-anchor-out",i="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$document","$sniffer",function(t,o,a,s,l,u){function c(t){return t.replace(/\bng-\S+\b/g,"")}function f(t,e){return R(t)&&(t=t.split(" ")),R(e)&&(e=e.split(" ")),t.filter(function(t){return-1===e.indexOf(t)}).join(" ")}function h(o,s,l){function u(t){var e={},n=b(t).getBoundingClientRect();return N(["width","height","top","left"],function(t){var r=n[t];switch(t){case"top":r+=g.scrollTop;break;case"left":r+=g.scrollLeft}e[t]=Math.floor(r)+"px"}),e}function h(){var e=t(y,{addClass:r,delay:!0,from:u(s)});return e.$$willAnimate?e:null}function p(t){return t.attr("class")||""}function d(){var e=c(p(l)),n=f(e,w),o=f(w,e),a=t(y,{to:u(l),addClass:i+" "+n,removeClass:r+" "+o,delay:!0});return a.$$willAnimate?a:null}function m(){y.remove(),s.removeClass(e),l.removeClass(e)}var y=I(b(s).cloneNode(!0)),w=c(p(y));s.addClass(e),l.addClass(e),y.addClass(n),v.append(y);var x,$=h();if(!$&&(x=d(),!x))return m();var C=$||x;return{start:function(){function t(){n&&n.end()}var e,n=C.start();return n.done(function(){return n=null,!x&&(x=d())?(n=x.start(),n.done(function(){n=null,m(),e.complete()}),n):(m(),void e.complete())}),e=new a({end:t,cancel:t})}}}function p(t,e,n,r){var i=d(t),o=d(e),s=[];return N(r,function(t){var e=t.out,r=t["in"],i=h(n,e,r);i&&s.push(i)}),i||o||0!==s.length?{start:function(){function t(){N(e,function(t){t.end()})}var e=[];i&&e.push(i.start()),o&&e.push(o.start()),N(s,function(t){e.push(t.start())});var n=new a({end:t,cancel:t});return a.all(e,function(t){n.complete(t)}),n}}:void 0}function d(e){var n=e.element,r=e.options||{};e.structural?(r.structural=r.applyClassesEarly=!0,r.event=e.event,"leave"===r.event&&(r.onDone=r.domOperation)):r.event=null;var i=t(n,r);return i.$$willAnimate?i:null}if(!u.animations&&!u.transitions)return P;var g=b(l).body,m=b(s),v=I(g.parentNode===m?g:m);return function(t){return t.from&&t.to?p(t.from,t.to,t.classes,t.anchors):d(t)}}]}],ge=["$animateProvider",function(t){this.$get=["$injector","$$AnimateRunner","$$rAFMutex","$$jqLite",function(e,n,r,i){function o(n){n=j(n)?n:n.split(" ");for(var r=[],i={},o=0;o<n.length;o++){var a=n[o],s=t.$$registeredAnimations[a];s&&!i[a]&&(r.push(e.get(s)),i[a]=!0)}return r}var a=h(i);return function(t,e,r,i){function s(){i.domOperation(),a(t,i)}function l(t,e,r,i,o){var a;switch(r){case"animate":a=[e,i.from,i.to,o];break;case"setClass":a=[e,g,m,o];break;case"addClass":a=[e,g,o];break;case"removeClass":a=[e,m,o];break;default:a=[e,o]}a.push(i);var s=t.apply(t,a);if(s)if(q(s.start)&&(s=s.start()),s instanceof n)s.done(o);else if(q(s))return s;return P}function u(t,e,r,i,o){var a=[];return N(i,function(i){var s=i[o];s&&a.push(function(){var i,o,a=!1,u=function(t){a||(a=!0,(o||P)(t),i.complete(!t))};return i=new n({end:function(){u()},cancel:function(){u(!0)}}),o=l(s,t,e,r,function(t){var e=t===!1;u(e)}),i})}),a}function c(t,e,r,i,o){var a=u(t,e,r,i,o);if(0===a.length){var s,l;"beforeSetClass"===o?(s=u(t,"removeClass",r,i,"beforeRemoveClass"),l=u(t,"addClass",r,i,"beforeAddClass")):"setClass"===o&&(s=u(t,"removeClass",r,i,"removeClass"),l=u(t,"addClass",r,i,"addClass")),s&&(a=a.concat(s)),l&&(a=a.concat(l))}if(0!==a.length)return function(t){var e=[];return a.length&&N(a,function(t){e.push(t())}),e.length?n.all(e,t):t(),function(t){N(e,function(e){t?e.cancel():e.end()})}}}3===arguments.length&&z(r)&&(i=r,r=null),i=p(i),r||(r=t.attr("class")||"",i.addClass&&(r+=" "+i.addClass),i.removeClass&&(r+=" "+i.removeClass));var f,h,g=i.addClass,m=i.removeClass,v=o(r);if(v.length){var y,b;"leave"==e?(b="leave",y="afterLeave"):(b="before"+e.charAt(0).toUpperCase()+e.substr(1),y=e),"enter"!==e&&"move"!==e&&(f=c(t,e,i,v,b)),h=c(t,e,i,v,y)}return f||h?{start:function(){function e(e){l=!0,s(),d(t,i),u.complete(e)}function r(t){l||((o||P)(t),e(t))}var o,a=[];f&&a.push(function(t){o=f(t)}),a.length?a.push(function(t){s(),t(!0)}):s(),h&&a.push(function(t){o=h(t)});var l=!1,u=new n({end:function(){r()},cancel:function(){r(!0)}});return n.chain(a,e),u}}:void 0}}]}],me=["$$animationProvider",function(t){t.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(t,e){function n(e){var n=e.element,r=e.event,i=e.options,o=e.classes;return t(n,r,o,i)}return function(t){if(t.from&&t.to){var r=n(t.from),i=n(t.to);if(!r&&!i)return;return{start:function(){function t(){return function(){N(o,function(t){t.end()})}}function n(t){a.complete(t)}var o=[];r&&o.push(r.start()),i&&o.push(i.start()),e.all(o,n);var a=new e({end:t(),cancel:t()});return a}}}return n(t)}}]}],ve="data-ng-animate",ye="$ngAnimatePin",be=["$animateProvider",function(t){function e(t,e,n,r){return a[t].some(function(t){return t(e,n,r)})}function n(t,e){t=t||{};var n=(t.addClass||"").length>0,r=(t.removeClass||"").length>0;return e?n&&r:n||r}var i=1,o=2,a=this.rules={skip:[],cancel:[],join:[]};a.join.push(function(t,e){return!e.structural&&n(e.options)}),a.skip.push(function(t,e){return!e.structural&&!n(e.options)}),a.skip.push(function(t,e,n){return"leave"==n.event&&e.structural}),a.skip.push(function(t,e,n){return n.structural&&!e.structural}),a.cancel.push(function(t,e,n){return n.structural&&e.structural}),a.cancel.push(function(t,e,n){return n.state===o&&e.structural}),a.cancel.push(function(t,e,n){var r=e.options,i=n.options;return r.addClass&&r.addClass===i.removeClass||r.removeClass&&r.removeClass===i.addClass}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite",function(a,s,c,f,g,m,y,w,x){function $(t,e){return v(t,e,{})}function C(t,e){var n=b(t),r=[],i=U[e];return i&&N(i,function(t){t.node.contains(n)&&r.push(t.callback)}),r}function S(t,e,n,r){a(function(){N(C(e,t),function(t){t(e,n,r)})})}function k(t,r,a){function u(e,n,r,i){S(n,t,r,i),e.progress(n,r,i)}function c(e){K(t,a),d(t,a),a.domOperation(),g.complete(!e)}var f,h;t=l(t),t&&(f=b(t),h=t.parent()),a=p(a);var g=new y;if(!f)return c(),g;j(a.addClass)&&(a.addClass=a.addClass.join(" ")),j(a.removeClass)&&(a.removeClass=a.removeClass.join(" ")),a.from&&!z(a.from)&&(a.from=null),a.to&&!z(a.to)&&(a.to=null);var w=[f.className,a.addClass,a.removeClass].join(" ");if(!X(w))return c(),g;var x=["enter","move","leave"].indexOf(r)>=0,C=!P||O.get(f),k=!C&&F.get(f)||{},_=!!k.state;if(C||_&&k.state==i||(C=!E(t,h,r)),C)return c(),g;x&&T(t);var L={structural:x,element:t,event:r,close:c,options:a,runner:g};if(_){var I=e("skip",t,L,k);if(I)return k.state===o?(c(),g):(v(t,k.options,a),k.runner);var N=e("cancel",t,L,k);if(N)k.state===o?k.runner.end():k.structural?k.close():v(t,L.options,k.options);else{var R=e("join",t,L,k);if(R){if(k.state!==o)return r=L.event=k.event,a=v(t,k.options,L.options),g;$(t,a)}}}else $(t,a);var H=L.structural;if(H||(H="animate"===L.event&&Object.keys(L.options.to||{}).length>0||n(L.options)),!H)return c(),M(t),g;x&&A(h);var B=(k.counter||0)+1;return L.counter=B,D(t,i,L),s.$$postDigest(function(){var e=F.get(f),i=!e;e=e||{};var s=t.parent()||[],l=s.length>0&&("animate"===e.event||e.structural||n(e.options));if(i||e.counter!==B||!l)return i&&(K(t,a),d(t,a)),(i||x&&e.event!==r)&&(a.domOperation(),g.end()),void(l||M(t));r=!e.structural&&n(e.options,!0)?"setClass":e.event,e.structural&&A(s),D(t,o);var h=m(t,r,e.options);h.done(function(e){c(!e);var n=F.get(f);n&&n.counter===B&&M(b(t)),u(g,r,"close",{})}),g.setHost(h),u(g,r,"start",{})}),g}function T(t){var e=b(t),n=e.querySelectorAll("["+ve+"]");N(n,function(t){var e=parseInt(t.getAttribute(ve)),n=F.get(t);switch(e){case o:n.runner.end();case i:n&&F.remove(t)}})}function M(t){var e=b(t);e.removeAttribute(ve),F.remove(e)}function _(t,e){return b(t)===b(e)}function A(t){function e(t,e){!e.structural&&n(e.options)&&(e.state===o&&e.runner.end(),M(t))}for(var r=b(t);;){if(!r||r.nodeType!==V)break;var i=F.get(r);i&&e(r,i),r=r.parentNode}}function E(t,e){var n,r=!1,i=!1,o=!1,a=t.data(ye);for(a&&(e=a);e&&e.length;){i||(i=_(e,c));var s=e[0];if(s.nodeType!==V)break;var l=F.get(s)||{};if(o||(o=l.structural||O.get(s)),H(n)||n===!0){var u=e.data(Y);B(u)&&(n=u)}if(o&&n===!1)break;i||(i=_(e,c),i||(a=e.data(ye),a&&(e=a))),r||(r=_(e,q)),e=e.parent()}var f=!o||n;return f&&i&&r}function D(t,e,n){n=n||{},n.state=e;var r=b(t);r.setAttribute(ve,e);var i=F.get(r),o=i?L(i,n):n;F.put(r,o)}var F=new g,O=new g,P=null,R=s.$watch(function(){return 0===w.totalPendingRequests},function(t){t&&(R(),s.$$postDigest(function(){s.$$postDigest(function(){null===P&&(P=!0)})}))}),q=I(f[0].body),U={},G=t.classNameFilter(),X=G?function(t){return G.test(t)}:function(){return!0},K=h(x);return{on:function(t,e,n){var r=u(e);U[t]=U[t]||[],U[t].push({node:r,callback:n})},off:function(t,e,n){function r(t,e,n){var r=u(e);return t.filter(function(t){var e=t.node===r&&(!n||t.callback===n);return!e})}var i=U[t];i&&(U[t]=1===arguments.length?null:r(i,e,n))},pin:function(t,e){r(W(t),"element","not an element"),r(W(e),"parentElement","not an element"),t.data(ye,e)},push:function(t,e,n,r){return n=n||{},n.domOperation=r,k(t,e,n)},enabled:function(t,e){var n=arguments.length;if(0===n)e=!!P;else{var r=W(t);if(r){var i=b(t),o=O.get(i);1===n?e=!o:(e=!!e,e?o&&O.remove(i):O.put(i,!0))}else e=P=!!t}return e}}}]}],we=["$$rAF",function(t){return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}],xe=["$q","$$rAFMutex",function(t,e){function n(t){this.setHost(t),this._doneCallbacks=[],this._runInAnimationFrame=e(),this._state=0}var r=0,i=1,o=2;return n.chain=function(t,e){function n(){return r===t.length?void e(!0):void t[r](function(t){return t===!1?void e(!1):(r++,void n())})}var r=0;n()},n.all=function(t,e){function n(n){i=i&&n,++r===t.length&&e(i)}var r=0,i=!0;N(t,function(t){t.done(n)})},n.prototype={setHost:function(t){this.host=t||{}},done:function(t){this._state===o?t():this._doneCallbacks.push(t)},progress:P,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){e===!1?n():t()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},"catch":function(t){return this.getPromise()["catch"](t)},"finally":function(t){return this.getPromise()["finally"](t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;e._state===r&&(e._state=i,e._runInAnimationFrame(function(){e._resolve(t)}))},_resolve:function(t){this._state!==o&&(N(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=o)}},n}],$e=["$animateProvider",function(){function t(t,e){t.data(a,e)}function e(t){t.removeData(a)}function n(t){return t.data(a)}var r="ng-animate-ref",o=this.drivers=[],a="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$rAFScheduler",function(a,s,l,u,c){var f=[],g=h(a),m=0,v=0,y=[];return function(h,w,x){function $(t){var e="["+r+"]",n=t.hasAttribute(r)?[t]:t.querySelectorAll(e),i=[];return N(n,function(t){var e=t.getAttribute(r);e&&e.length&&i.push(t)}),i}function C(t){var e=[],n={};N(t,function(t,i){var o=t.element,a=b(o),s=t.event,l=["enter","move"].indexOf(s)>=0,u=t.structural?$(a):[];if(u.length){var c=l?"to":"from";N(u,function(t){var e=t.getAttribute(r);n[e]=n[e]||{},n[e][c]={animationID:i,element:I(t)}})}else e.push(t)});var i={},o={};return N(n,function(n){var r=n.from,a=n.to;if(!r||!a){var s=r?r.animationID:a.animationID,l=s.toString();return void(i[l]||(i[l]=!0,e.push(t[s])))}var u=t[r.animationID],c=t[a.animationID],f=r.animationID.toString();if(!o[f]){var h=o[f]={structural:!0,beforeStart:function(){u.beforeStart(),c.beforeStart()},close:function(){u.close(),c.close()},classes:S(u.classes,c.classes),from:u,to:c,anchors:[]};h.classes.length?e.push(h):(e.push(u),e.push(c))}o[f].anchors.push({out:r.element,"in":a.element})}),e}function S(t,e){t=t.split(" "),e=e.split(" ");for(var n=[],r=0;r<t.length;r++){var i=t[r];if("ng-"!==i.substring(0,3))for(var o=0;o<e.length;o++)if(i===e[o]){n.push(i);break}}return n.join(" ")}function k(t){for(var e=o.length-1;e>=0;e--){var n=o[e];if(l.has(n)){var r=l.get(n),i=r(t);if(i)return i}}}function T(){h.addClass(U),O&&a.addClass(h,O)}function M(t,e){function r(t){n(t).setHost(e)}t.from&&t.to?(r(t.from.element),r(t.to.element)):r(t.element)}function _(){var t=n(h);!t||"leave"===w&&x.$$domOperationFired||t.end()}function A(t){h.off("$destroy",_),e(h),g(h,x),d(h,x),x.domOperation(),O&&a.removeClass(h,O),h.removeClass(U),D.complete(!t)}x=p(x);var E=["enter","move","leave"].indexOf(w)>=0,D=new u({end:function(){A()},cancel:function(){A(!0)}});if(!o.length)return A(),D;t(h,D);var F=i(h.attr("class"),i(x.addClass,x.removeClass)),O=x.tempClasses;O&&(F+=" "+O,x.tempClasses=null);var P;return E||(P=m,m+=1),f.push({element:h,classes:F,event:w,classBasedIndex:P,structural:E,options:x,beforeStart:T,close:A}),h.on("$destroy",_),f.length>1?D:(s.$$postDigest(function(){v=m,m=0,y.length=0;var t=[];N(f,function(e){n(e.element)&&t.push(e)}),f.length=0,N(C(t),function(t){function e(){t.beforeStart();var e,r=t.close,i=t.anchors?t.from.element||t.to.element:t.element;if(n(i)){var o=k(t);o&&(e=o.start)}if(e){var a=e();a.done(function(t){r(!t)}),M(t,a)}else r()}t.structural?e():(y.push({node:b(t.element),fn:e}),t.classBasedIndex===v-1&&(y=y.sort(function(t,e){return e.node.contains(t.node)}).map(function(t){return t.fn}),c(y)))})}),D)}}]}];e.module("ngAnimate",[]).directive("ngAnimateChildren",X).factory("$$rAFMutex",we).factory("$$rAFScheduler",G).factory("$$AnimateRunner",xe).provider("$$animateQueue",be).provider("$$animation",$e).provider("$animateCss",pe).provider("$$animateCssDriver",de).provider("$$animateJs",ge).provider("$$animateJsDriver",me)}(window,window.angular),/*
 * angular-ui-bootstrap
 * http://angular-ui.github.io/bootstrap/

 * Version: 0.12.0 - 2014-11-16
 * License: MIT
 */
angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(t,e,n){function r(t){for(var e in t)if(void 0!==o.style[e])return t[e]}var i=function(r,o,a){a=a||{};var s=t.defer(),l=i[a.animation?"animationEndEventName":"transitionEndEventName"],u=function(){n.$apply(function(){r.unbind(l,u),s.resolve(r)})};return l&&r.bind(l,u),e(function(){angular.isString(o)?r.addClass(o):angular.isFunction(o)?o(r):angular.isObject(o)&&r.css(o),l||s.resolve(r)}),s.promise.cancel=function(){l&&r.unbind(l,u),s.reject("Transition cancelled")},s.promise},o=document.createElement("trans"),a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},s={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return i.transitionEndEventName=r(a),i.animationEndEventName=r(s),i}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(t){return{link:function(e,n,r){function i(e){function r(){u===i&&(u=void 0)}var i=t(n,e);return u&&u.cancel(),u=i,i.then(r,r),i}function o(){c?(c=!1,a()):(n.removeClass("collapse").addClass("collapsing"),i({height:n[0].scrollHeight+"px"}).then(a))}function a(){n.removeClass("collapsing"),n.addClass("collapse in"),n.css({height:"auto"})}function s(){if(c)c=!1,l(),n.css({height:0});else{n.css({height:n[0].scrollHeight+"px"});{n[0].offsetWidth}n.removeClass("collapse in").addClass("collapsing"),i({height:0}).then(l)}}function l(){n.removeClass("collapsing"),n.addClass("collapse")}var u,c=!0;e.$watch(r.collapse,function(t){t?s():o()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(t,e,n){this.groups=[],this.closeOthers=function(r){var i=angular.isDefined(e.closeOthers)?t.$eval(e.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(t){t!==r&&(t.isOpen=!1)})},this.addGroup=function(t){var e=this;this.groups.push(t),t.$on("$destroy",function(){e.removeGroup(t)})},this.removeGroup=function(t){var e=this.groups.indexOf(t);-1!==e&&this.groups.splice(e,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(t){this.heading=t}},link:function(t,e,n,r){r.addGroup(t),t.$watch("isOpen",function(e){e&&r.closeOthers(t)}),t.toggleOpen=function(){t.isDisabled||(t.isOpen=!t.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(t,e,n,r,i){r.setHeading(i(t,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(t,e,n,r){t.$watch(function(){return r[n.accordionTransclude]},function(t){t&&(e.html(""),e.append(t))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(t,e){t.closeable="close"in e,this.close=t.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(t){return{require:"alert",link:function(e,n,r,i){t(function(){i.close()},parseInt(r.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(t,e,n){e.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),t.$watch(n.bindHtmlUnsafe,function(t){e.html(t||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(t){this.activeClass=t.activeClass||"active",this.toggleEvent=t.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(t,e,n,r){var i=r[0],o=r[1];o.$render=function(){e.toggleClass(i.activeClass,angular.equals(o.$modelValue,t.$eval(n.btnRadio)))},e.bind(i.toggleEvent,function(){var r=e.hasClass(i.activeClass);(!r||angular.isDefined(n.uncheckable))&&t.$apply(function(){o.$setViewValue(r?null:t.$eval(n.btnRadio)),o.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(t,e,n,r){function i(){return a(n.btnCheckboxTrue,!0)}function o(){return a(n.btnCheckboxFalse,!1)}function a(e,n){var r=t.$eval(e);return angular.isDefined(r)?r:n}var s=r[0],l=r[1];l.$render=function(){e.toggleClass(s.activeClass,angular.equals(l.$modelValue,i()))},e.bind(s.toggleEvent,function(){t.$apply(function(){l.$setViewValue(e.hasClass(s.activeClass)?o():i()),l.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$interval","$transition",function(t,e,n,r){function i(){o();var e=+t.interval;!isNaN(e)&&e>0&&(s=n(a,e))}function o(){s&&(n.cancel(s),s=null)}function a(){var e=+t.interval;l&&!isNaN(e)&&e>0?t.next():t.pause()}var s,l,u=this,c=u.slides=t.slides=[],f=-1;u.currentSlide=null;var h=!1;u.select=t.select=function(n,o){function a(){if(!h){if(u.currentSlide&&angular.isString(o)&&!t.noTransition&&n.$element){n.$element.addClass(o);{n.$element[0].offsetWidth}angular.forEach(c,function(t){angular.extend(t,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(n,{direction:o,active:!0,entering:!0}),angular.extend(u.currentSlide||{},{direction:o,leaving:!0}),t.$currentTransition=r(n.$element,{}),function(e,n){t.$currentTransition.then(function(){s(e,n)},function(){s(e,n)})}(n,u.currentSlide)}else s(n,u.currentSlide);u.currentSlide=n,f=l,i()}}function s(e,n){angular.extend(e,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(n||{},{direction:"",active:!1,leaving:!1,entering:!1}),t.$currentTransition=null}var l=c.indexOf(n);void 0===o&&(o=l>f?"next":"prev"),n&&n!==u.currentSlide&&(t.$currentTransition?(t.$currentTransition.cancel(),e(a)):a())},t.$on("$destroy",function(){h=!0}),u.indexOfSlide=function(t){return c.indexOf(t)},t.next=function(){var e=(f+1)%c.length;return t.$currentTransition?void 0:u.select(c[e],"next")},t.prev=function(){var e=0>f-1?c.length-1:f-1;return t.$currentTransition?void 0:u.select(c[e],"prev")},t.isActive=function(t){return u.currentSlide===t},t.$watch("interval",i),t.$on("$destroy",o),t.play=function(){l||(l=!0,i())},t.pause=function(){t.noPause||(l=!1,o())},u.addSlide=function(e,n){e.$element=n,c.push(e),1===c.length||e.active?(u.select(c[c.length-1]),1==c.length&&t.play()):e.active=!1},u.removeSlide=function(t){var e=c.indexOf(t);c.splice(e,1),c.length>0&&t.active?u.select(e>=c.length?c[e-1]:c[e]):f>e&&f--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(t,e,n,r){r.addSlide(t,e),t.$on("$destroy",function(){r.removeSlide(t)}),t.$watch("active",function(e){e&&r.select(t)})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(t,e){function n(t){var n=[],r=t.split("");return angular.forEach(i,function(e,i){var o=t.indexOf(i);if(o>-1){t=t.split(""),r[o]="("+e.regex+")",t[o]="$";for(var a=o+1,s=o+i.length;s>a;a++)r[a]="",t[a]="$";t=t.join(""),n.push({index:o,apply:e.apply})}}),{regex:new RegExp("^"+r.join("")+"$"),map:e(n,"index")}}function r(t,e,n){return 1===e&&n>28?29===n&&(t%4===0&&t%100!==0||t%400===0):3===e||5===e||8===e||10===e?31>n:!0}this.parsers={};var i={yyyy:{regex:"\\d{4}",apply:function(t){this.year=+t}},yy:{regex:"\\d{2}",apply:function(t){this.year=+t+2e3}},y:{regex:"\\d{1,4}",apply:function(t){this.year=+t}},MMMM:{regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)}},MMM:{regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(t){this.month=t-1}},M:{regex:"[1-9]|1[0-2]",apply:function(t){this.month=t-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t}},EEEE:{regex:t.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:t.DATETIME_FORMATS.SHORTDAY.join("|")}};this.parse=function(e,i){if(!angular.isString(e)||!i)return e;i=t.DATETIME_FORMATS[i]||i,this.parsers[i]||(this.parsers[i]=n(i));var o=this.parsers[i],a=o.regex,s=o.map,l=e.match(a);if(l&&l.length){for(var u,c={year:1900,month:0,date:1,hours:0},f=1,h=l.length;h>f;f++){var p=s[f-1];p.apply&&p.apply.call(c,l[f])}return r(c.year,c.month,c.date)&&(u=new Date(c.year,c.month,c.date,c.hours)),u}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(t,e){function n(t,n){return t.currentStyle?t.currentStyle[n]:e.getComputedStyle?e.getComputedStyle(t)[n]:t.style[n]}function r(t){return"static"===(n(t,"position")||"static")}var i=function(e){for(var n=t[0],i=e.offsetParent||n;i&&i!==n&&r(i);)i=i.offsetParent;return i||n};return{position:function(e){var n=this.offset(e),r={top:0,left:0},o=i(e[0]);o!=t[0]&&(r=this.offset(angular.element(o)),r.top+=o.clientTop-o.scrollTop,r.left+=o.clientLeft-o.scrollLeft);var a=e[0].getBoundingClientRect();return{width:a.width||e.prop("offsetWidth"),height:a.height||e.prop("offsetHeight"),top:n.top-r.top,left:n.left-r.left}},offset:function(n){var r=n[0].getBoundingClientRect();return{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(e.pageYOffset||t[0].documentElement.scrollTop),left:r.left+(e.pageXOffset||t[0].documentElement.scrollLeft)}},positionElements:function(t,e,n,r){var i,o,a,s,l=n.split("-"),u=l[0],c=l[1]||"center";i=r?this.offset(t):this.position(t),o=e.prop("offsetWidth"),a=e.prop("offsetHeight");var f={center:function(){return i.left+i.width/2-o/2},left:function(){return i.left},right:function(){return i.left+i.width}},h={center:function(){return i.top+i.height/2-a/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(u){case"right":s={top:h[c](),left:f[u]()};break;case"left":s={top:h[c](),left:i.left-o};break;case"bottom":s={top:h[u](),left:f[c]()};break;default:s={top:i.top-a,left:f[c]()}}return s}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(t,e,n,r,i,o,a,s){var l=this,u={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(n,i){l[n]=angular.isDefined(e[n])?8>i?r(e[n])(t.$parent):t.$parent.$eval(e[n]):s[n]}),angular.forEach(["minDate","maxDate"],function(r){e[r]?t.$parent.$watch(n(e[r]),function(t){l[r]=t?new Date(t):null,l.refreshView()}):l[r]=s[r]?new Date(s[r]):null}),t.datepickerMode=t.datepickerMode||s.datepickerMode,t.uniqueId="datepicker-"+t.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined(e.initDate)?t.$parent.$eval(e.initDate):new Date,t.isActive=function(e){return 0===l.compare(e.date,l.activeDate)?(t.activeDateId=e.uid,!0):!1},this.init=function(t){u=t,u.$render=function(){l.render()}},this.render=function(){if(u.$modelValue){var t=new Date(u.$modelValue),e=!isNaN(t);e?this.activeDate=t:o.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),u.$setValidity("date",e)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var t=u.$modelValue?new Date(u.$modelValue):null;u.$setValidity("date-disabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,e){var n=u.$modelValue?new Date(u.$modelValue):null;return{date:t,label:a(t,e),selected:n&&0===this.compare(t,n),disabled:this.isDisabled(t),current:0===this.compare(t,new Date)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||e.dateDisabled&&t.dateDisabled({date:n,mode:t.datepickerMode})},this.split=function(t,e){for(var n=[];t.length>0;)n.push(t.splice(0,e));return n},t.select=function(e){if(t.datepickerMode===l.minMode){var n=u.$modelValue?new Date(u.$modelValue):new Date(0,0,0,0,0,0,0);n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),u.$setViewValue(n),u.$render()}else l.activeDate=e,t.datepickerMode=l.modes[l.modes.indexOf(t.datepickerMode)-1]},t.move=function(t){var e=l.activeDate.getFullYear()+t*(l.step.years||0),n=l.activeDate.getMonth()+t*(l.step.months||0);l.activeDate.setFullYear(e,n,1),l.refreshView()},t.toggleMode=function(e){e=e||1,t.datepickerMode===l.maxMode&&1===e||t.datepickerMode===l.minMode&&-1===e||(t.datepickerMode=l.modes[l.modes.indexOf(t.datepickerMode)+e])},t.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var c=function(){i(function(){l.element[0].focus()},0,!1)};t.$on("datepicker.focus",c),t.keydown=function(e){var n=t.keys[e.which];if(n&&!e.shiftKey&&!e.altKey)if(e.preventDefault(),e.stopPropagation(),"enter"===n||"space"===n){if(l.isDisabled(l.activeDate))return;t.select(l.activeDate),c()}else!e.ctrlKey||"up"!==n&&"down"!==n?(l.handleKeyDown(n,e),l.refreshView()):(t.toggleMode("up"===n?1:-1),c())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(t,e,n,r){var i=r[0],o=r[1];o&&i.init(o)}}}).directive("daypicker",["dateFilter",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(e,n,r,i){function o(t,e){return 1!==e||t%4!==0||t%100===0&&t%400!==0?l[e]:29}function a(t,e){var n=new Array(e),r=new Date(t),i=0;for(r.setHours(12);e>i;)n[i++]=new Date(r),r.setDate(r.getDate()+1);return n}function s(t){var e=new Date(t);e.setDate(e.getDate()+4-(e.getDay()||7));var n=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((n-e)/864e5)/7)+1}e.showWeeks=i.showWeeks,i.step={months:1},i.element=n;var l=[31,28,31,30,31,30,31,31,30,31,30,31];i._refreshView=function(){var n=i.activeDate.getFullYear(),r=i.activeDate.getMonth(),o=new Date(n,r,1),l=i.startingDay-o.getDay(),u=l>0?7-l:-l,c=new Date(o);u>0&&c.setDate(-u+1);for(var f=a(c,42),h=0;42>h;h++)f[h]=angular.extend(i.createDateObject(f[h],i.formatDay),{secondary:f[h].getMonth()!==r,uid:e.uniqueId+"-"+h});e.labels=new Array(7);for(var p=0;7>p;p++)e.labels[p]={abbr:t(f[p].date,i.formatDayHeader),full:t(f[p].date,"EEEE")};if(e.title=t(i.activeDate,i.formatDayTitle),e.rows=i.split(f,7),e.showWeeks){e.weekNumbers=[];for(var d=s(e.rows[0][0].date),g=e.rows.length;e.weekNumbers.push(d++)<g;);}},i.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate())},i.handleKeyDown=function(t){var e=i.activeDate.getDate();if("left"===t)e-=1;else if("up"===t)e-=7;else if("right"===t)e+=1;else if("down"===t)e+=7;else if("pageup"===t||"pagedown"===t){var n=i.activeDate.getMonth()+("pageup"===t?-1:1);i.activeDate.setMonth(n,1),e=Math.min(o(i.activeDate.getFullYear(),i.activeDate.getMonth()),e)}else"home"===t?e=1:"end"===t&&(e=o(i.activeDate.getFullYear(),i.activeDate.getMonth()));i.activeDate.setDate(e)},i.refreshView()}}}]).directive("monthpicker",["dateFilter",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(e,n,r,i){i.step={years:1},i.element=n,i._refreshView=function(){for(var n=new Array(12),r=i.activeDate.getFullYear(),o=0;12>o;o++)n[o]=angular.extend(i.createDateObject(new Date(r,o,1),i.formatMonth),{uid:e.uniqueId+"-"+o});e.title=t(i.activeDate,i.formatMonthTitle),e.rows=i.split(n,3)},i.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth())-new Date(e.getFullYear(),e.getMonth())},i.handleKeyDown=function(t){var e=i.activeDate.getMonth();if("left"===t)e-=1;else if("up"===t)e-=3;else if("right"===t)e+=1;else if("down"===t)e+=3;else if("pageup"===t||"pagedown"===t){var n=i.activeDate.getFullYear()+("pageup"===t?-1:1);i.activeDate.setFullYear(n)}else"home"===t?e=0:"end"===t&&(e=11);i.activeDate.setMonth(e)},i.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(t,e,n,r){function i(t){return parseInt((t-1)/o,10)*o+1}var o=r.yearRange;r.step={years:o},r.element=e,r._refreshView=function(){for(var e=new Array(o),n=0,a=i(r.activeDate.getFullYear());o>n;n++)e[n]=angular.extend(r.createDateObject(new Date(a+n,0,1),r.formatYear),{uid:t.uniqueId+"-"+n});t.title=[e[0].label,e[o-1].label].join(" - "),t.rows=r.split(e,5)},r.compare=function(t,e){return t.getFullYear()-e.getFullYear()},r.handleKeyDown=function(t){var e=r.activeDate.getFullYear();"left"===t?e-=1:"up"===t?e-=5:"right"===t?e+=1:"down"===t?e+=5:"pageup"===t||"pagedown"===t?e+=("pageup"===t?-1:1)*r.step.years:"home"===t?e=i(r.activeDate.getFullYear()):"end"===t&&(e=i(r.activeDate.getFullYear())+o-1),r.activeDate.setFullYear(e)},r.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(t,e,n,r,i,o,a){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(s,l,u,c){function f(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function h(t){if(t){if(angular.isDate(t)&&!isNaN(t))return c.$setValidity("date",!0),t;if(angular.isString(t)){var e=o.parse(t,p)||new Date(t);return isNaN(e)?void c.$setValidity("date",!1):(c.$setValidity("date",!0),e)}return void c.$setValidity("date",!1)}return c.$setValidity("date",!0),null}var p,d=angular.isDefined(u.closeOnDateSelection)?s.$parent.$eval(u.closeOnDateSelection):a.closeOnDateSelection,g=angular.isDefined(u.datepickerAppendToBody)?s.$parent.$eval(u.datepickerAppendToBody):a.appendToBody;s.showButtonBar=angular.isDefined(u.showButtonBar)?s.$parent.$eval(u.showButtonBar):a.showButtonBar,s.getText=function(t){return s[t+"Text"]||a[t+"Text"]},u.$observe("datepickerPopup",function(t){p=t||a.datepickerPopup,c.$render()});var m=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");m.attr({"ng-model":"date","ng-change":"dateSelection()"});var v=angular.element(m.children()[0]);u.datepickerOptions&&angular.forEach(s.$parent.$eval(u.datepickerOptions),function(t,e){v.attr(f(e),t)}),s.watchData={},angular.forEach(["minDate","maxDate","datepickerMode"],function(t){if(u[t]){var n=e(u[t]);if(s.$parent.$watch(n,function(e){s.watchData[t]=e}),v.attr(f(t),"watchData."+t),"datepickerMode"===t){var r=n.assign;s.$watch("watchData."+t,function(t,e){t!==e&&r(s.$parent,t)})}}}),u.dateDisabled&&v.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),c.$parsers.unshift(h),s.dateSelection=function(t){angular.isDefined(t)&&(s.date=t),c.$setViewValue(s.date),c.$render(),d&&(s.isOpen=!1,l[0].focus())},l.bind("input change keyup",function(){s.$apply(function(){s.date=c.$modelValue})}),c.$render=function(){var t=c.$viewValue?i(c.$viewValue,p):"";l.val(t),s.date=h(c.$modelValue)};var y=function(t){s.isOpen&&t.target!==l[0]&&s.$apply(function(){s.isOpen=!1})},b=function(t){s.keydown(t)};l.bind("keydown",b),s.keydown=function(t){27===t.which?(t.preventDefault(),t.stopPropagation(),s.close()):40!==t.which||s.isOpen||(s.isOpen=!0)},s.$watch("isOpen",function(t){t?(s.$broadcast("datepicker.focus"),s.position=g?r.offset(l):r.position(l),s.position.top=s.position.top+l.prop("offsetHeight"),n.bind("click",y)):n.unbind("click",y)}),s.select=function(t){if("today"===t){var e=new Date;angular.isDate(c.$modelValue)?(t=new Date(c.$modelValue),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate())):t=new Date(e.setHours(0,0,0,0))}s.dateSelection(t)},s.close=function(){s.isOpen=!1,l[0].focus()};var w=t(m)(s);m.remove(),g?n.find("body").append(w):l.after(w),s.$on("$destroy",function(){w.remove(),l.unbind("keydown",b),n.unbind("click",y)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(t,e){e.bind("click",function(t){t.preventDefault(),t.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(t){var e=null;this.open=function(i){e||(t.bind("click",n),t.bind("keydown",r)),e&&e!==i&&(e.isOpen=!1),e=i},this.close=function(i){e===i&&(e=null,t.unbind("click",n),t.unbind("keydown",r))};var n=function(t){if(e){var n=e.getToggleElement();t&&n&&n[0].contains(t.target)||e.$apply(function(){e.isOpen=!1})}},r=function(t){27===t.which&&(e.focusToggleElement(),n())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(t,e,n,r,i,o){var a,s=this,l=t.$new(),u=r.openClass,c=angular.noop,f=e.onToggle?n(e.onToggle):angular.noop;this.init=function(r){s.$element=r,e.isOpen&&(a=n(e.isOpen),c=a.assign,t.$watch(a,function(t){l.isOpen=!!t}))},this.toggle=function(t){return l.isOpen=arguments.length?!!t:!l.isOpen},this.isOpen=function(){return l.isOpen},l.getToggleElement=function(){return s.toggleElement},l.focusToggleElement=function(){s.toggleElement&&s.toggleElement[0].focus()},l.$watch("isOpen",function(e,n){o[e?"addClass":"removeClass"](s.$element,u),e?(l.focusToggleElement(),i.open(l)):i.close(l),c(t,e),angular.isDefined(e)&&e!==n&&f(t,{open:!!e})}),t.$on("$locationChangeSuccess",function(){l.isOpen=!1}),t.$on("$destroy",function(){l.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(t,e,n,r){r.init(e)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(t,e,n,r){if(r){r.toggleElement=e;var i=function(i){i.preventDefault(),e.hasClass("disabled")||n.disabled||t.$apply(function(){r.toggle()})};e.bind("click",i),e.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(r.isOpen,function(t){e.attr("aria-expanded",!!t)}),t.$on("$destroy",function(){e.unbind("click",i)})}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var t=[];return{add:function(e,n){t.push({key:e,value:n})},get:function(e){for(var n=0;n<t.length;n++)if(e==t[n].key)return t[n]},keys:function(){for(var e=[],n=0;n<t.length;n++)e.push(t[n].key);return e},top:function(){return t[t.length-1]},remove:function(e){for(var n=-1,r=0;r<t.length;r++)if(e==t[r].key){n=r;break}return t.splice(n,1)[0]},removeTop:function(){return t.splice(t.length-1,1)[0]},length:function(){return t.length}}}}}).directive("modalBackdrop",["$timeout",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(e,n,r){e.backdropClass=r.backdropClass||"",e.animate=!1,t(function(){e.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(t,e){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(t,e){return e.templateUrl||"template/modal/window.html"},link:function(n,r,i){r.addClass(i.windowClass||""),n.size=i.size,e(function(){n.animate=!0,r[0].querySelectorAll("[autofocus]").length||r[0].focus()}),n.close=function(e){var n=t.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),t.dismiss(n.key,"backdrop click"))}}}}]).directive("modalTransclude",function(){return{link:function(t,e,n,r,i){i(t.$parent,function(t){e.empty(),e.append(t)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(t,e,n,r,i,o){function a(){for(var t=-1,e=p.keys(),n=0;n<e.length;n++)p.get(e[n]).value.backdrop&&(t=n);return t}function s(t){var e=n.find("body").eq(0),r=p.get(t).value;p.remove(t),u(r.modalDomEl,r.modalScope,300,function(){r.modalScope.$destroy(),e.toggleClass(h,p.length()>0),l()})}function l(){if(c&&-1==a()){var t=f;u(c,f,150,function(){t.$destroy(),t=null}),c=void 0,f=void 0}}function u(n,r,i,o){function a(){a.done||(a.done=!0,n.remove(),o&&o())}r.animate=!1;var s=t.transitionEndEventName;if(s){var l=e(a,i);n.bind(s,function(){e.cancel(l),a(),r.$apply()})}else e(a)}var c,f,h="modal-open",p=o.createNew(),d={};return i.$watch(a,function(t){f&&(f.index=t)}),n.bind("keydown",function(t){var e;27===t.which&&(e=p.top(),e&&e.value.keyboard&&(t.preventDefault(),i.$apply(function(){d.dismiss(e.key,"escape key press")})))}),d.open=function(t,e){p.add(t,{deferred:e.deferred,modalScope:e.scope,backdrop:e.backdrop,keyboard:e.keyboard});var o=n.find("body").eq(0),s=a();if(s>=0&&!c){f=i.$new(!0),f.index=s;var l=angular.element("<div modal-backdrop></div>");l.attr("backdrop-class",e.backdropClass),c=r(l)(f),o.append(c)}var u=angular.element("<div modal-window></div>");u.attr({"template-url":e.windowTemplateUrl,"window-class":e.windowClass,size:e.size,index:p.length()-1,animate:"animate"}).html(e.content);var d=r(u)(e.scope);p.top().value.modalDomEl=d,o.append(d),o.addClass(h)},d.close=function(t,e){var n=p.get(t);n&&(n.value.deferred.resolve(e),s(t))},d.dismiss=function(t,e){var n=p.get(t);n&&(n.value.deferred.reject(e),s(t))},d.dismissAll=function(t){for(var e=this.getTop();e;)this.dismiss(e.key,t),e=this.getTop()},d.getTop=function(){return p.top()},d}]).provider("$modal",function(){var t={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(e,n,r,i,o,a,s){function l(t){return t.template?r.when(t.template):i.get(angular.isFunction(t.templateUrl)?t.templateUrl():t.templateUrl,{cache:o}).then(function(t){return t.data})}function u(t){var n=[];return angular.forEach(t,function(t){(angular.isFunction(t)||angular.isArray(t))&&n.push(r.when(e.invoke(t)))}),n}var c={};return c.open=function(e){var i=r.defer(),o=r.defer(),c={result:i.promise,opened:o.promise,close:function(t){s.close(c,t)},dismiss:function(t){s.dismiss(c,t)}};if(e=angular.extend({},t.options,e),e.resolve=e.resolve||{},!e.template&&!e.templateUrl)throw new Error("One of template or templateUrl options is required.");var f=r.all([l(e)].concat(u(e.resolve)));return f.then(function(t){var r=(e.scope||n).$new();r.$close=c.close,r.$dismiss=c.dismiss;var o,l={},u=1;e.controller&&(l.$scope=r,l.$modalInstance=c,angular.forEach(e.resolve,function(e,n){l[n]=t[u++]}),o=a(e.controller,l),e.controllerAs&&(r[e.controllerAs]=o)),s.open(c,{scope:r,deferred:i,content:t[0],backdrop:e.backdrop,keyboard:e.keyboard,backdropClass:e.backdropClass,windowClass:e.windowClass,windowTemplateUrl:e.windowTemplateUrl,size:e.size})},function(t){i.reject(t)}),f.then(function(){o.resolve(!0)},function(){o.reject(!1)}),c},c}]};return t}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(t,e,n){var r=this,i={$setViewValue:angular.noop},o=e.numPages?n(e.numPages).assign:angular.noop;this.init=function(o,a){i=o,this.config=a,i.$render=function(){r.render()},e.itemsPerPage?t.$parent.$watch(n(e.itemsPerPage),function(e){r.itemsPerPage=parseInt(e,10),t.totalPages=r.calculateTotalPages()}):this.itemsPerPage=a.itemsPerPage},this.calculateTotalPages=function(){var e=this.itemsPerPage<1?1:Math.ceil(t.totalItems/this.itemsPerPage);return Math.max(e||0,1)},this.render=function(){t.page=parseInt(i.$viewValue,10)||1},t.selectPage=function(e){t.page!==e&&e>0&&e<=t.totalPages&&(i.$setViewValue(e),i.$render())},t.getText=function(e){return t[e+"Text"]||r.config[e+"Text"]},t.noPrevious=function(){return 1===t.page},t.noNext=function(){return t.page===t.totalPages},t.$watch("totalItems",function(){t.totalPages=r.calculateTotalPages()}),t.$watch("totalPages",function(e){o(t.$parent,e),t.page>e?t.selectPage(e):i.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(t,e){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,r,i,o){function a(t,e,n){return{number:t,text:e,active:n}}function s(t,e){var n=[],r=1,i=e,o=angular.isDefined(c)&&e>c;o&&(f?(r=Math.max(t-Math.floor(c/2),1),i=r+c-1,i>e&&(i=e,r=i-c+1)):(r=(Math.ceil(t/c)-1)*c+1,i=Math.min(r+c-1,e)));for(var s=r;i>=s;s++){var l=a(s,s,s===t);n.push(l)}if(o&&!f){if(r>1){var u=a(r-1,"...",!1);n.unshift(u)}if(e>i){var h=a(i+1,"...",!1);n.push(h)}}return n}var l=o[0],u=o[1];if(u){var c=angular.isDefined(i.maxSize)?n.$parent.$eval(i.maxSize):e.maxSize,f=angular.isDefined(i.rotate)?n.$parent.$eval(i.rotate):e.rotate;n.boundaryLinks=angular.isDefined(i.boundaryLinks)?n.$parent.$eval(i.boundaryLinks):e.boundaryLinks,n.directionLinks=angular.isDefined(i.directionLinks)?n.$parent.$eval(i.directionLinks):e.directionLinks,l.init(u,e),i.maxSize&&n.$parent.$watch(t(i.maxSize),function(t){c=parseInt(t,10),l.render()
});var h=l.render;l.render=function(){h(),n.page>0&&n.page<=n.totalPages&&(n.pages=s(n.page,n.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("pager",["pagerConfig",function(t){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(e,n,r,i){var o=i[0],a=i[1];a&&(e.align=angular.isDefined(r.align)?e.$parent.$eval(r.align):t.align,o.init(a,t))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function t(t){var e=/[A-Z]/g,n="-";return t.replace(e,function(t,e){return(e?n:"")+t.toLowerCase()})}var e={placement:"top",animation:!0,popupDelay:0},n={mouseenter:"mouseleave",click:"click",focus:"blur"},r={};this.options=function(t){angular.extend(r,t)},this.setTriggers=function(t){angular.extend(n,t)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(i,o,a,s,l,u){return function(i,c,f){function h(t){var e=t||p.trigger||f,r=n[e]||e;return{show:e,hide:r}}var p=angular.extend({},e,r),d=t(i),g=u.startSymbol(),m=u.endSymbol(),v="<div "+d+'-popup title="'+g+"title"+m+'" content="'+g+"content"+m+'" placement="'+g+"placement"+m+'" animation="animation" is-open="isOpen"></div>';return{restrict:"EA",compile:function(){var t=o(v);return function(e,n,r){function o(){A.isOpen?f():u()}function u(){(!_||e.$eval(r[c+"Enable"]))&&(y(),A.popupDelay?k||(k=a(d,A.popupDelay,!1),k.then(function(t){t()})):d()())}function f(){e.$apply(function(){g()})}function d(){return k=null,S&&(a.cancel(S),S=null),A.content?(m(),$.css({top:0,left:0,display:"block"}),T?s.find("body").append($):n.after($),E(),A.isOpen=!0,A.$digest(),E):angular.noop}function g(){A.isOpen=!1,a.cancel(k),k=null,A.animation?S||(S=a(v,500)):v()}function m(){$&&v(),C=A.$new(),$=t(C,angular.noop)}function v(){S=null,$&&($.remove(),$=null),C&&(C.$destroy(),C=null)}function y(){b(),w()}function b(){var t=r[c+"Placement"];A.placement=angular.isDefined(t)?t:p.placement}function w(){var t=r[c+"PopupDelay"],e=parseInt(t,10);A.popupDelay=isNaN(e)?p.popupDelay:e}function x(){var t=r[c+"Trigger"];D(),M=h(t),M.show===M.hide?n.bind(M.show,o):(n.bind(M.show,u),n.bind(M.hide,f))}var $,C,S,k,T=angular.isDefined(p.appendToBody)?p.appendToBody:!1,M=h(void 0),_=angular.isDefined(r[c+"Enable"]),A=e.$new(!0),E=function(){var t=l.positionElements(n,$,A.placement,T);t.top+="px",t.left+="px",$.css(t)};A.isOpen=!1,r.$observe(i,function(t){A.content=t,!t&&A.isOpen&&g()}),r.$observe(c+"Title",function(t){A.title=t});var D=function(){n.unbind(M.show,u),n.unbind(M.hide,f)};x();var F=e.$eval(r[c+"Animation"]);A.animation=angular.isDefined(F)?!!F:p.animation;var O=e.$eval(r[c+"AppendToBody"]);T=angular.isDefined(O)?O:T,T&&e.$on("$locationChangeSuccess",function(){A.isOpen&&g()}),e.$on("$destroy",function(){a.cancel(S),a.cancel(k),D(),v(),A=null})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(t){return t("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(t){return t("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(t){return t("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(t,e,n){var r=this,i=angular.isDefined(e.animate)?t.$parent.$eval(e.animate):n.animate;this.bars=[],t.max=angular.isDefined(e.max)?t.$parent.$eval(e.max):n.max,this.addBar=function(e,n){i||n.css({transition:"none"}),this.bars.push(e),e.$watch("value",function(n){e.percent=+(100*n/t.max).toFixed(2)}),e.$on("$destroy",function(){n=null,r.removeBar(e)})},this.removeBar=function(t){this.bars.splice(this.bars.indexOf(t),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(t,e,n,r){r.addBar(t,e)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(t,e,n,r){r.addBar(t,angular.element(e.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(t,e,n){var r={$setViewValue:angular.noop};this.init=function(i){r=i,r.$render=this.render,this.stateOn=angular.isDefined(e.stateOn)?t.$parent.$eval(e.stateOn):n.stateOn,this.stateOff=angular.isDefined(e.stateOff)?t.$parent.$eval(e.stateOff):n.stateOff;var o=angular.isDefined(e.ratingStates)?t.$parent.$eval(e.ratingStates):new Array(angular.isDefined(e.max)?t.$parent.$eval(e.max):n.max);t.range=this.buildTemplateObjects(o)},this.buildTemplateObjects=function(t){for(var e=0,n=t.length;n>e;e++)t[e]=angular.extend({index:e},{stateOn:this.stateOn,stateOff:this.stateOff},t[e]);return t},t.rate=function(e){!t.readonly&&e>=0&&e<=t.range.length&&(r.$setViewValue(e),r.$render())},t.enter=function(e){t.readonly||(t.value=e),t.onHover({value:e})},t.reset=function(){t.value=r.$viewValue,t.onLeave()},t.onKeydown=function(e){/(37|38|39|40)/.test(e.which)&&(e.preventDefault(),e.stopPropagation(),t.rate(t.value+(38===e.which||39===e.which?1:-1)))},this.render=function(){t.value=r.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(t,e,n,r){var i=r[0],o=r[1];o&&i.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(t){var e=this,n=e.tabs=t.tabs=[];e.select=function(t){angular.forEach(n,function(e){e.active&&e!==t&&(e.active=!1,e.onDeselect())}),t.active=!0,t.onSelect()},e.addTab=function(t){n.push(t),1===n.length?t.active=!0:t.active&&e.select(t)},e.removeTab=function(t){var i=n.indexOf(t);if(t.active&&n.length>1&&!r){var o=i==n.length-1?i-1:i+1;e.select(n[o])}n.splice(i,1)};var r;t.$on("$destroy",function(){r=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(t,e,n){t.vertical=angular.isDefined(n.vertical)?t.$parent.$eval(n.vertical):!1,t.justified=angular.isDefined(n.justified)?t.$parent.$eval(n.justified):!1}}}).directive("tab",["$parse",function(t){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(e,n,r){return function(e,n,i,o){e.$watch("active",function(t){t&&o.select(e)}),e.disabled=!1,i.disabled&&e.$parent.$watch(t(i.disabled),function(t){e.disabled=!!t}),e.select=function(){e.disabled||(e.active=!0)},o.addTab(e),e.$on("$destroy",function(){o.removeTab(e)}),e.$transcludeFn=r}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(t,e){t.$watch("headingElement",function(t){t&&(e.html(""),e.append(t))})}}}]).directive("tabContentTransclude",function(){function t(t){return t.tagName&&(t.hasAttribute("tab-heading")||t.hasAttribute("data-tab-heading")||"tab-heading"===t.tagName.toLowerCase()||"data-tab-heading"===t.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(e,n,r){var i=e.$eval(r.tabContentTransclude);i.$transcludeFn(i.$parent,function(e){angular.forEach(e,function(e){t(e)?i.headingElement=e:n.append(e)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(t,e,n,r,i,o){function a(){var e=parseInt(t.hours,10),n=t.showMeridian?e>0&&13>e:e>=0&&24>e;return n?(t.showMeridian&&(12===e&&(e=0),t.meridian===g[1]&&(e+=12)),e):void 0}function s(){var e=parseInt(t.minutes,10);return e>=0&&60>e?e:void 0}function l(t){return angular.isDefined(t)&&t.toString().length<2?"0"+t:t}function u(t){c(),d.$setViewValue(new Date(p)),f(t)}function c(){d.$setValidity("time",!0),t.invalidHours=!1,t.invalidMinutes=!1}function f(e){var n=p.getHours(),r=p.getMinutes();t.showMeridian&&(n=0===n||12===n?12:n%12),t.hours="h"===e?n:l(n),t.minutes="m"===e?r:l(r),t.meridian=p.getHours()<12?g[0]:g[1]}function h(t){var e=new Date(p.getTime()+6e4*t);p.setHours(e.getHours(),e.getMinutes()),u()}var p=new Date,d={$setViewValue:angular.noop},g=angular.isDefined(e.meridians)?t.$parent.$eval(e.meridians):o.meridians||i.DATETIME_FORMATS.AMPMS;this.init=function(n,r){d=n,d.$render=this.render;var i=r.eq(0),a=r.eq(1),s=angular.isDefined(e.mousewheel)?t.$parent.$eval(e.mousewheel):o.mousewheel;s&&this.setupMousewheelEvents(i,a),t.readonlyInput=angular.isDefined(e.readonlyInput)?t.$parent.$eval(e.readonlyInput):o.readonlyInput,this.setupInputEvents(i,a)};var m=o.hourStep;e.hourStep&&t.$parent.$watch(n(e.hourStep),function(t){m=parseInt(t,10)});var v=o.minuteStep;e.minuteStep&&t.$parent.$watch(n(e.minuteStep),function(t){v=parseInt(t,10)}),t.showMeridian=o.showMeridian,e.showMeridian&&t.$parent.$watch(n(e.showMeridian),function(e){if(t.showMeridian=!!e,d.$error.time){var n=a(),r=s();angular.isDefined(n)&&angular.isDefined(r)&&(p.setHours(n),u())}else f()}),this.setupMousewheelEvents=function(e,n){var r=function(t){t.originalEvent&&(t=t.originalEvent);var e=t.wheelDelta?t.wheelDelta:-t.deltaY;return t.detail||e>0};e.bind("mousewheel wheel",function(e){t.$apply(r(e)?t.incrementHours():t.decrementHours()),e.preventDefault()}),n.bind("mousewheel wheel",function(e){t.$apply(r(e)?t.incrementMinutes():t.decrementMinutes()),e.preventDefault()})},this.setupInputEvents=function(e,n){if(t.readonlyInput)return t.updateHours=angular.noop,void(t.updateMinutes=angular.noop);var r=function(e,n){d.$setViewValue(null),d.$setValidity("time",!1),angular.isDefined(e)&&(t.invalidHours=e),angular.isDefined(n)&&(t.invalidMinutes=n)};t.updateHours=function(){var t=a();angular.isDefined(t)?(p.setHours(t),u("h")):r(!0)},e.bind("blur",function(){!t.invalidHours&&t.hours<10&&t.$apply(function(){t.hours=l(t.hours)})}),t.updateMinutes=function(){var t=s();angular.isDefined(t)?(p.setMinutes(t),u("m")):r(void 0,!0)},n.bind("blur",function(){!t.invalidMinutes&&t.minutes<10&&t.$apply(function(){t.minutes=l(t.minutes)})})},this.render=function(){var t=d.$modelValue?new Date(d.$modelValue):null;isNaN(t)?(d.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(p=t),c(),f())},t.incrementHours=function(){h(60*m)},t.decrementHours=function(){h(60*-m)},t.incrementMinutes=function(){h(v)},t.decrementMinutes=function(){h(-v)},t.toggleMeridian=function(){h(720*(p.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(t,e,n,r){var i=r[0],o=r[1];o&&i.init(o,e.find("input"))}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(t){var e=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var r=n.match(e);if(!r)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:r[3],source:t(r[4]),viewMapper:t(r[2]||r[1]),modelMapper:t(r[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(t,e,n,r,i,o,a){var s=[9,13,27,38,40];return{require:"ngModel",link:function(l,u,c,f){var h,p=l.$eval(c.typeaheadMinLength)||1,d=l.$eval(c.typeaheadWaitMs)||0,g=l.$eval(c.typeaheadEditable)!==!1,m=e(c.typeaheadLoading).assign||angular.noop,v=e(c.typeaheadOnSelect),y=c.typeaheadInputFormatter?e(c.typeaheadInputFormatter):void 0,b=c.typeaheadAppendToBody?l.$eval(c.typeaheadAppendToBody):!1,w=l.$eval(c.typeaheadFocusFirst)!==!1,x=e(c.ngModel).assign,$=a.parse(c.typeahead),C=l.$new();l.$on("$destroy",function(){C.$destroy()});var S="typeahead-"+C.$id+"-"+Math.floor(1e4*Math.random());u.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":S});var k=angular.element("<div typeahead-popup></div>");k.attr({id:S,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(c.typeaheadTemplateUrl)&&k.attr("template-url",c.typeaheadTemplateUrl);var T=function(){C.matches=[],C.activeIdx=-1,u.attr("aria-expanded",!1)},M=function(t){return S+"-option-"+t};C.$watch("activeIdx",function(t){0>t?u.removeAttr("aria-activedescendant"):u.attr("aria-activedescendant",M(t))});var _=function(t){var e={$viewValue:t};m(l,!0),n.when($.source(l,e)).then(function(n){var r=t===f.$viewValue;if(r&&h)if(n.length>0){C.activeIdx=w?0:-1,C.matches.length=0;for(var i=0;i<n.length;i++)e[$.itemName]=n[i],C.matches.push({id:M(i),label:$.viewMapper(C,e),model:n[i]});C.query=t,C.position=b?o.offset(u):o.position(u),C.position.top=C.position.top+u.prop("offsetHeight"),u.attr("aria-expanded",!0)}else T();r&&m(l,!1)},function(){T(),m(l,!1)})};T(),C.query=void 0;var A,E=function(t){A=r(function(){_(t)},d)},D=function(){A&&r.cancel(A)};f.$parsers.unshift(function(t){return h=!0,t&&t.length>=p?d>0?(D(),E(t)):_(t):(m(l,!1),D(),T()),g?t:t?void f.$setValidity("editable",!1):(f.$setValidity("editable",!0),t)}),f.$formatters.push(function(t){var e,n,r={};return y?(r.$model=t,y(l,r)):(r[$.itemName]=t,e=$.viewMapper(l,r),r[$.itemName]=void 0,n=$.viewMapper(l,r),e!==n?e:t)}),C.select=function(t){var e,n,i={};i[$.itemName]=n=C.matches[t].model,e=$.modelMapper(l,i),x(l,e),f.$setValidity("editable",!0),v(l,{$item:n,$model:e,$label:$.viewMapper(l,i)}),T(),r(function(){u[0].focus()},0,!1)},u.bind("keydown",function(t){0!==C.matches.length&&-1!==s.indexOf(t.which)&&(-1!=C.activeIdx||13!==t.which&&9!==t.which)&&(t.preventDefault(),40===t.which?(C.activeIdx=(C.activeIdx+1)%C.matches.length,C.$digest()):38===t.which?(C.activeIdx=(C.activeIdx>0?C.activeIdx:C.matches.length)-1,C.$digest()):13===t.which||9===t.which?C.$apply(function(){C.select(C.activeIdx)}):27===t.which&&(t.stopPropagation(),T(),C.$digest()))}),u.bind("blur",function(){h=!1});var F=function(t){u[0]!==t.target&&(T(),C.$digest())};i.bind("click",F),l.$on("$destroy",function(){i.unbind("click",F),b&&O.remove()});var O=t(k)(C);b?i.find("body").append(O):u.after(O)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(t,e,n){t.templateUrl=n.templateUrl,t.isOpen=function(){return t.matches.length>0},t.isActive=function(e){return t.active==e},t.selectActive=function(e){t.active=e},t.selectMatch=function(e){t.select({activeIdx:e})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(t,e,n,r){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(i,o,a){var s=r(a.templateUrl)(i.$parent)||"template/typeahead/typeahead-match.html";t.get(s,{cache:e}).success(function(t){o.replaceWith(n(t.trim())(i))})}}}]).filter("typeaheadHighlight",function(){function t(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(e,n){return n?(""+e).replace(new RegExp(t(n),"gi"),"<strong>$&</strong>"):e}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(t){t.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a href class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(t){t.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(t){t.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(t){t.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(t){t.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(t){t.put("template/modal/backdrop.html",'<div class="modal-backdrop fade {{ backdropClass }}"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(t){t.put("template/modal/window.html",'<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" modal-transclude></div></div>\n</div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(t){t.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(t){t.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(t){t.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(t){t.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(t){t.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(t){t.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(t){t.put("template/timepicker/timepicker.html",'<table>\n	<tbody>\n		<tr class="text-center">\n			<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n		<tr>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n				<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td>:</td>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n				<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n		</tr>\n		<tr class="text-center">\n			<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n	</tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(t){t.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')
}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(t){t.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");/*!
 * Bootstrap v3.3.4 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
if(+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),/* ========================================================================
 * Bootstrap: transition.js v3.3.5
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,r=this;t(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||t(r).trigger(t.support.transition.end)};return setTimeout(i,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),/* ========================================================================
 * Bootstrap: alert.js v3.3.5
 * http://getbootstrap.com/javascript/#alerts
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new r(this)),"string"==typeof e&&i[e].call(n)})}var n='[data-dismiss="alert"]',r=function(e){t(e).on("click",n,this.close)};r.VERSION="3.3.5",r.TRANSITION_DURATION=150,r.prototype.close=function(e){function n(){a.detach().trigger("closed.bs.alert").remove()}var i=t(this),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var a=t(o);e&&e.preventDefault(),a.length||(a=i.closest(".alert")),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(r.TRANSITION_DURATION):n())};var i=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=r,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.bs.alert.data-api",n,r.prototype.close)}(jQuery),/* ========================================================================
 * Bootstrap: button.js v3.3.5
 * http://getbootstrap.com/javascript/#buttons
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.button"),o="object"==typeof e&&e;i||r.data("bs.button",i=new n(this,o)),"toggle"==e?i.toggle():e&&i.setState(e)})}var n=function(e,r){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,r),this.isLoading=!1};n.VERSION="3.3.5",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",o=r.data();e+="Text",null==o.resetText&&r.data("resetText",r[i]()),setTimeout(t.proxy(function(){r[i](null==o[e]?this.options[e]:o[e]),"loadingText"==e?(this.isLoading=!0,r.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var r=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=r,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var r=t(n.target);r.hasClass("btn")||(r=r.closest(".btn")),e.call(r,"toggle"),t(n.target).is('input[type="radio"]')||t(n.target).is('input[type="checkbox"]')||n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),/* ========================================================================
 * Bootstrap: carousel.js v3.3.5
 * http://getbootstrap.com/javascript/#carousel
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.carousel"),o=t.extend({},n.DEFAULTS,r.data(),"object"==typeof e&&e),a="string"==typeof e?e:o.slide;i||r.data("bs.carousel",i=new n(this,o)),"number"==typeof e?i.to(e):a?i[a]():o.interval&&i.pause().cycle()})}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.3.5",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e),r="prev"==t&&0===n||"next"==t&&n==this.$items.length-1;if(r&&!this.options.wrap)return e;var i="prev"==t?-1:1,o=(n+i)%this.$items.length;return this.$items.eq(o)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(e,r){var i=this.$element.find(".item.active"),o=r||this.getItemForDirection(e,i),a=this.interval,s="next"==e?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var u=o[0],c=t.Event("slide.bs.carousel",{relatedTarget:u,direction:s});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var f=t(this.$indicators.children()[this.getItemIndex(o)]);f&&f.addClass("active")}var h=t.Event("slid.bs.carousel",{relatedTarget:u,direction:s});return t.support.transition&&this.$element.hasClass("slide")?(o.addClass(e),o[0].offsetWidth,i.addClass(s),o.addClass(s),i.one("bsTransitionEnd",function(){o.removeClass([e,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(h)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(h)),a&&this.cycle(),this}};var r=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=r,this};var i=function(n){var r,i=t(this),o=t(i.attr("data-target")||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var a=t.extend({},o.data(),i.data()),s=i.attr("data-slide-to");s&&(a.interval=!1),e.call(o,a),s&&o.data("bs.carousel").to(s),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",i).on("click.bs.carousel.data-api","[data-slide-to]",i),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),/* ========================================================================
 * Bootstrap: collapse.js v3.3.5
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){var n,r=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(r)}function n(e){return this.each(function(){var n=t(this),i=n.data("bs.collapse"),o=t.extend({},r.DEFAULTS,n.data(),"object"==typeof e&&e);!i&&o.toggle&&/show|hide/.test(e)&&(o.toggle=!1),i||n.data("bs.collapse",i=new r(this,o)),"string"==typeof e&&i[e]()})}var r=function(e,n){this.$element=t(e),this.options=t.extend({},r.DEFAULTS,n),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};r.VERSION="3.3.5",r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0},r.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(e=i.data("bs.collapse"),e&&e.transitioning))){var o=t.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){i&&i.length&&(n.call(i,"hide"),e||i.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var l=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(r.TRANSITION_DURATION)[a](this.$element[0][l])}}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(i,this)).emulateTransitionEnd(r.TRANSITION_DURATION):i.call(this)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},r.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(n,r){var i=t(r);this.addAriaAndCollapsedClass(e(i),i)},this)).end()},r.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var i=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=r,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(r){var i=t(this);i.attr("data-target")||r.preventDefault();var o=e(i),a=o.data("bs.collapse"),s=a?"toggle":i.data();n.call(o,s)})}(jQuery),/* ========================================================================
 * Bootstrap: dropdown.js v3.3.5
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&t(n);return r&&r.length?r:e.parent()}function n(n){n&&3===n.which||(t(i).remove(),t(o).each(function(){var r=t(this),i=e(r),o={relatedTarget:this};i.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(i[0],n.target)||(i.trigger(n=t.Event("hide.bs.dropdown",o)),n.isDefaultPrevented()||(r.attr("aria-expanded","false"),i.removeClass("open").trigger("hidden.bs.dropdown",o))))}))}function r(e){return this.each(function(){var n=t(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new a(this)),"string"==typeof e&&r[e].call(n)})}var i=".dropdown-backdrop",o='[data-toggle="dropdown"]',a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.5",a.prototype.toggle=function(r){var i=t(this);if(!i.is(".disabled, :disabled")){var o=e(i),a=o.hasClass("open");if(n(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",n);var s={relatedTarget:this};if(o.trigger(r=t.Event("show.bs.dropdown",s)),r.isDefaultPrevented())return;i.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},a.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var r=t(this);if(n.preventDefault(),n.stopPropagation(),!r.is(".disabled, :disabled")){var i=e(r),a=i.hasClass("open");if(!a&&27!=n.which||a&&27==n.which)return 27==n.which&&i.find(o).trigger("focus"),r.trigger("click");var s=" li:not(.disabled):visible a",l=i.find(".dropdown-menu"+s);if(l.length){var u=l.index(n.target);38==n.which&&u>0&&u--,40==n.which&&u<l.length-1&&u++,~u||(u=0),l.eq(u).trigger("focus")}}}};var s=t.fn.dropdown;t.fn.dropdown=r,t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),/* ========================================================================
 * Bootstrap: modal.js v3.3.5
 * http://getbootstrap.com/javascript/#modals
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e,r){return this.each(function(){var i=t(this),o=i.data("bs.modal"),a=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);o||i.data("bs.modal",o=new n(this,a)),"string"==typeof e?o[e](r):a.show&&o.show(r)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.5",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var r=this,i=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var i=t.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.adjustDialog(),i&&r.$element[0].offsetWidth,r.$element.addClass("in"),r.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});i?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):r.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var r=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&i;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){r.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var r=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=r,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var r=t(this),i=r.attr("href"),o=t(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},o.data(),r.data());r.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),e.call(o,a,this)})}(jQuery),/* ========================================================================
 * Bootstrap: tooltip.js v3.3.5
 * http://getbootstrap.com/javascript/#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.tooltip"),o="object"==typeof e&&e;(i||!/destroy|hide/.test(e))&&(i||r.data("bs.tooltip",i=new n(this,o)),"string"==typeof e&&i[e]())})}var n=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};n.VERSION="3.3.5",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,r){if(this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),o=i.length;o--;){var a=i[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,r){n[t]!=r&&(e[t]=r)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusin"==e.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusout"==e.type?"focus":"hover"]=!1),n.isInStateTrue()?void 0:(clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide())},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var r=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!r)return;var i=this,o=this.tip(),a=this.getUID(this.type);this.setContent(),o.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&o.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,u=l.test(s);u&&(s=s.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var c=this.getPosition(),f=o[0].offsetWidth,h=o[0].offsetHeight;if(u){var p=s,d=this.getPosition(this.$viewport);s="bottom"==s&&c.bottom+h>d.bottom?"top":"top"==s&&c.top-h<d.top?"bottom":"right"==s&&c.right+f>d.width?"left":"left"==s&&c.left-f<d.left?"right":s,o.removeClass(p).addClass(s)}var g=this.getCalculatedOffset(s,c,f,h);this.applyPlacement(g,s);var m=function(){var t=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==t&&i.leave(i)};t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",m).emulateTransitionEnd(n.TRANSITION_DURATION):m()}},n.prototype.applyPlacement=function(e,n){var r=this.tip(),i=r[0].offsetWidth,o=r[0].offsetHeight,a=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),e.top+=a,e.left+=s,t.offset.setOffset(r[0],t.extend({using:function(t){r.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),r.addClass("in");var l=r[0].offsetWidth,u=r[0].offsetHeight;"top"==n&&u!=o&&(e.top=e.top+o-u);var c=this.getViewportAdjustedDelta(n,e,l,u);c.left?e.left+=c.left:e.top+=c.top;var f=/top|bottom/.test(n),h=f?2*c.left-i+l:2*c.top-o+u,p=f?"offsetWidth":"offsetHeight";r.offset(e),this.replaceArrow(h,r[0][p],f)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(e){function r(){"in"!=i.hoverState&&o.detach(),i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),e&&e()}var i=this,o=t(this.$tip),a=t.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],r="BODY"==n.tagName,i=n.getBoundingClientRect();null==i.width&&(i=t.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var o=r?{top:0,left:0}:e.offset(),a={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},s=r?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},i,a,s,o)},n.prototype.getCalculatedOffset=function(t,e,n,r){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-r,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-r/2,left:e.left-n}:{top:e.top+e.height/2-r/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-o-a.scroll,l=e.top+o-a.scroll+r;s<a.top?i.top=a.top-s:l>a.top+a.height&&(i.top=a.top+a.height-l)}else{var u=e.left-o,c=e.left+o+n;u<a.left?i.left=a.left-u:c>a.right&&(i.left=a.left+a.width-c)}return i},n.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},n.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&(n=t(e.currentTarget).data("bs."+this.type),n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),e?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};var r=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=r,this}}(jQuery),/* ========================================================================
 * Bootstrap: popover.js v3.3.5
 * http://getbootstrap.com/javascript/#popovers
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.popover"),o="object"==typeof e&&e;(i||!/destroy|hide/.test(e))&&(i||r.data("bs.popover",i=new n(this,o)),"string"==typeof e&&i[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.5",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var r=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=r,this}}(jQuery),/* ========================================================================
 * Bootstrap: scrollspy.js v3.3.5
 * http://getbootstrap.com/javascript/#scrollspy
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(n,r){this.$body=t(document.body),this.$scrollElement=t(t(n).is(document.body)?window:n),this.options=t.extend({},e.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var r=t(this),i=r.data("bs.scrollspy"),o="object"==typeof n&&n;i||r.data("bs.scrollspy",i=new e(this,o)),"string"==typeof n&&i[n]()})}e.VERSION="3.3.5",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,n="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(n="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),i=e.data("target")||e.attr("href"),o=/^#./.test(i)&&t(i);return o&&o.length&&o.is(":visible")&&[[o[n]().top+r,i]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=r)return a!=(t=o[o.length-1])&&this.activate(t);if(a&&e<i[0])return this.activeTarget=null,this.clear();for(t=i.length;t--;)a!=o[t]&&e>=i[t]&&(void 0===i[t+1]||e<i[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',r=t(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=r,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),/* ========================================================================
 * Bootstrap: tab.js v3.3.5
 * http://getbootstrap.com/javascript/#tabs
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new n(this)),"string"==typeof e&&i[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.3.5",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),r=e.data("target");if(r||(r=e.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var i=n.find(".active:last a"),o=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(o),e.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=t(r);this.activate(e.closest("li"),n),this.activate(s,s.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},n.prototype.activate=function(e,r,i){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var a=r.find("> .active"),s=i&&t.support.transition&&(a.length&&a.hasClass("fade")||!!r.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),a.removeClass("in")};var r=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=r,this};var i=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),/* ========================================================================
 * Bootstrap: affix.js v3.3.5
 * http://getbootstrap.com/javascript/#affix
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.affix"),o="object"==typeof e&&e;i||r.data("bs.affix",i=new n(this,o)),"string"==typeof e&&i[e]()})}var n=function(e,r){this.options=t.extend({},n.DEFAULTS,r),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.5",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(t,e,n,r){var i=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return n>i?"top":!1;if("bottom"==this.affixed)return null!=n?i+this.unpin<=o.top?!1:"bottom":t-r>=i+a?!1:"bottom";var s=null==this.affixed,l=s?i:o.top,u=s?a:e;return null!=n&&n>=i?"top":null!=r&&l+u>=t-r?"bottom":!1},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),r=this.options.offset,i=r.top,o=r.bottom,a=Math.max(t(document).height(),t(document.body).height());"object"!=typeof r&&(o=i=r),"function"==typeof i&&(i=r.top(this.$element)),"function"==typeof o&&(o=r.bottom(this.$element));var s=this.getState(a,e,i,o);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),u=t.Event(l+".bs.affix");if(this.$element.trigger(u),u.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-e-o})}};var r=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=r,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),r=n.data();r.offset=r.offset||{},null!=r.offsetBottom&&(r.offset.bottom=r.offsetBottom),null!=r.offsetTop&&(r.offset.top=r.offsetTop),e.call(n,r)})})}(jQuery),/**
 * @license AngularJS v1.3.4
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e){"use strict";/*
 * HTML Parser By Misko Hevery (misko@hevery.com)
 * based on:  HTML Parser By John Resig (ejohn.org)
 * Original code by Erik Arvidsson, Mozilla Public License
 * http://erik.eae.net/simplehtmlparser/simplehtmlparser.js
 *
 * // Use like so:
 * htmlParser(htmlString, {
 *     start: function(tag, attrs, unary) {},
 *     end: function(tag) {},
 *     chars: function(text) {},
 *     comment: function(text) {}
 * });
 *
 */
function n(){this.$get=["$$sanitizeUri",function(t){return function(e){var n=[];return o(e,l(n,function(e,n){return!/^unsafe/.test(t(e,n))})),n.join("")}}]}function r(t){var n=[],r=l(n,e.noop);return r.chars(t),n.join("")}function i(t){var e,n={},r=t.split(",");for(e=0;e<r.length;e++)n[r[e]]=!0;return n}function o(t,n){function r(t,r,o,s){if(r=e.lowercase(r),S[r])for(;b.last()&&k[b.last()];)i("",b.last());C[r]&&b.last()==r&&i("",r),s=w[r]||!!s,s||b.push(r);var l={};o.replace(h,function(t,e,n,r,i){var o=n||r||i||"";l[e]=a(o)}),n.start&&n.start(r,l,s)}function i(t,r){var i,o=0;if(r=e.lowercase(r))for(o=b.length-1;o>=0&&b[o]!=r;o--);if(o>=0){for(i=b.length-1;i>=o;i--)n.end&&n.end(b[i]);b.length=o}}"string"!=typeof t&&(t=null===t||"undefined"==typeof t?"":""+t);var o,s,l,y,b=[],x=t;for(b.last=function(){return b[b.length-1]};t;){if(y="",s=!0,b.last()&&M[b.last()]?(t=t.replace(new RegExp("(.*)<\\s*\\/\\s*"+b.last()+"[^>]*>","i"),function(t,e){return e=e.replace(g,"$1").replace(v,"$1"),n.chars&&n.chars(a(e)),""}),i("",b.last())):(0===t.indexOf("<!--")?(o=t.indexOf("--",4),o>=0&&t.lastIndexOf("-->",o)===o&&(n.comment&&n.comment(t.substring(4,o)),t=t.substring(o+3),s=!1)):m.test(t)?(l=t.match(m),l&&(t=t.replace(l[0],""),s=!1)):d.test(t)?(l=t.match(f),l&&(t=t.substring(l[0].length),l[0].replace(f,i),s=!1)):p.test(t)&&(l=t.match(c),l?(l[4]&&(t=t.substring(l[0].length),l[0].replace(c,r)),s=!1):(y+="<",t=t.substring(1))),s&&(o=t.indexOf("<"),y+=0>o?t:t.substring(0,o),t=0>o?"":t.substring(o),n.chars&&n.chars(a(y)))),t==x)throw u("badparse","The sanitizer was unable to parse the following block of html: {0}",t);x=t}i()}function a(t){if(!t)return"";var e=P.exec(t),n=e[1],r=e[3],i=e[2];return i&&(O.innerHTML=i.replace(/</g,"&lt;"),i="textContent"in O?O.textContent:O.innerText),n+i+r}function s(t){return t.replace(/&/g,"&amp;").replace(y,function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return"&#"+(1024*(e-55296)+(n-56320)+65536)+";"}).replace(b,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function l(t,n){var r=!1,i=e.bind(t,t.push);return{start:function(t,o,a){t=e.lowercase(t),!r&&M[t]&&(r=t),r||_[t]!==!0||(i("<"),i(t),e.forEach(o,function(r,o){var a=e.lowercase(o),l="img"===t&&"src"===a||"background"===a;F[a]!==!0||A[a]===!0&&!n(r,l)||(i(" "),i(o),i('="'),i(s(r)),i('"'))}),i(a?"/>":">"))},end:function(t){t=e.lowercase(t),r||_[t]!==!0||(i("</"),i(t),i(">")),t==r&&(r=!1)},chars:function(t){r||i(s(t))}}}var u=e.$$minErr("$sanitize"),c=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,f=/^<\/\s*([\w:-]+)[^>]*>/,h=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,p=/^</,d=/^<\//,g=/<!--(.*?)-->/g,m=/<!DOCTYPE([^>]*?)>/i,v=/<!\[CDATA\[(.*?)]]>/g,y=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b=/([^\#-~| |!])/g,w=i("area,br,col,hr,img,wbr"),x=i("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$=i("rp,rt"),C=e.extend({},$,x),S=e.extend({},x,i("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),k=e.extend({},$,i("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),T=i("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use"),M=i("script,style"),_=e.extend({},w,S,k,C,T),A=i("background,cite,href,longdesc,src,usemap,xlink:href"),E=i("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),D=i("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan"),F=e.extend({},A,D,E),O=document.createElement("pre"),P=/^(\s*)([\s\S]*?)(\s*)$/;e.module("ngSanitize",[]).provider("$sanitize",n),e.module("ngSanitize").filter("linky",["$sanitize",function(t){var n=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"]/,i=/^mailto:/;return function(o,a){function s(t){t&&p.push(r(t))}function l(t,n){p.push("<a "),e.isDefined(a)&&p.push('target="',a,'" '),p.push('href="',t.replace('"',"&quot;"),'">'),s(n),p.push("</a>")}if(!o)return o;for(var u,c,f,h=o,p=[];u=h.match(n);)c=u[0],u[2]==u[3]&&(c="mailto:"+c),f=u.index,s(h.substr(0,f)),l(c,u[0].replace(i,"")),h=h.substring(f+u[0].length);return s(h),t(p.join(""))}}])}(window,window.angular),/**
 * angular-bootstrap-confirm - Displays a bootstrap confirmation popover when clicking the given element.
 * @version v0.3.1
 * @link https://github.com/mattlewis92/angular-bootstrap-confirm
 * @license MIT
 */
function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("angular"),require("angular-sanitize"),require("angular-bootstrap"));else if("function"==typeof define&&define.amd)define(["angular","angular-sanitize","angular-bootstrap"],e);else{var n="object"==typeof exports?e(require("angular"),require("angular-sanitize"),require("angular-bootstrap")):e(t.angular,t["angular-sanitize"],t["angular-bootstrap"]);for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(this,function(t,e,n){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var r=n(1);n(2),n(3),t.exports=r.module("mwl.confirm",["ngSanitize","ui.bootstrap.position"]).controller("PopoverConfirmCtrl",["$scope","$element","$compile","$document","$window","$timeout","$position","confirmationPopoverDefaults",function(t,e,n,i,o,a,s,l){function u(){var t=s.positionElements(e,m,d.popoverPlacement,!0);t.top+="px",t.left+="px",m.css(t)}function c(){d.isVisible||(m.css({display:"block"}),u(),d.isVisible=!0),d.isOpen=!0}function f(){d.isVisible&&(m.css({display:"none"}),d.isVisible=!1),d.isOpen=!1}function h(){d.isVisible?f():c(),t.$apply()}function p(n){!d.isVisible||m[0].contains(n.target)||e[0].contains(n.target)||(f(),t.$apply())}var d=this;d.defaults=l,d.popoverPlacement=d.placement||d.defaults.placement;var g=['<div class="popover" ng-class="vm.popoverPlacement">','<div class="arrow"></div>','<h3 class="popover-title" ng-bind-html="vm.title"></h3>','<div class="popover-content">','<p ng-bind-html="vm.message"></p>','<div class="row">','<div class="col-xs-6">','<button class="btn btn-block" ng-class="\'btn-\' + (vm.confirmButtonType || vm.defaults.confirmButtonType)" ng-click="vm.onConfirm(); vm.hidePopover()" ng-bind-html="vm.confirmText || vm.defaults.confirmText"></button>',"</div>",'<div class="col-xs-6">','<button class="btn btn-block" ng-class="\'btn-\' + (vm.cancelButtonType || vm.defaults.cancelButtonType)" ng-click="vm.onCancel(); vm.hidePopover()" ng-bind-html="vm.cancelText || vm.defaults.cancelText"></button>',"</div>","</div>","</div>","</div>"].join("\n"),m=r.element(g);m.css("display","none"),n(m)(t),i.find("body").append(m),d.isVisible=!1,d.showPopover=c,d.hidePopover=f,d.togglePopover=h,t.$watch("vm.isOpen",function(t){a(function(){t?c():f()})}),e.bind("click",h),o.addEventListener("resize",u),i.bind("click",p),i.bind("touchend",p),t.$on("$destroy",function(){m.remove(),e.unbind("click",h),o.removeEventListener("resize",u),i.unbind("click",p),i.unbind("touchend",p)})}]).directive("mwlConfirm",function(){return{restrict:"EA",controller:"PopoverConfirmCtrl as vm",bindToController:!0,scope:{confirmText:"@",cancelText:"@",message:"@",title:"@",placement:"@",onConfirm:"&",onCancel:"&",confirmButtonType:"@",cancelButtonType:"@",isOpen:"=?"}}}).value("confirmationPopoverDefaults",{confirmText:"Confirm",cancelText:"Cancel",confirmButtonType:"success",cancelButtonType:"default",placement:"top"}).name},function(e){e.exports=t},function(t){t.exports=e},function(t){t.exports=n}])}),function(){var t,e=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=angular.module("angularBootstrapNavTree",[]),t.directive("abnTree",["$timeout",function(t){return{restrict:"E",template:'<ul class="nav nav-list nav-pills nav-stacked abn-tree">\n  <li ng-repeat="row in tree_rows | filter:{visible:true} track by row.branch.uid" ng-animate="\'abn-tree-animate\'" ng-class="\'level-\' + {{ row.level }} + (row.branch.selected ? \' active\':\'\') + \' \' +row.classes.join(\' \')" class="abn-tree-row"><a ng-click="user_clicks_branch(row.branch)"><i ng-class="row.tree_icon" ng-click="row.branch.expanded = !row.branch.expanded" class="indented tree-icon"> </i><span class="indented tree-label">{{ row.label }} </span></a></li>\n</ul>',replace:!0,scope:{treeData:"=",onSelect:"&",initialSelection:"@",treeControl:"="},link:function(n,r,i){var o,a,s,l,u,c,f,h,p,d,g;if(o=function(t){return void console.log("ERROR:"+t)},null==i.iconExpand&&(i.iconExpand="icon-plus  glyphicon glyphicon-plus  fa fa-plus"),null==i.iconCollapse&&(i.iconCollapse="icon-minus glyphicon glyphicon-minus fa fa-minus"),null==i.iconLeaf&&(i.iconLeaf="icon-file  glyphicon glyphicon-file  fa fa-file"),null==i.expandLevel&&(i.expandLevel="3"),s=parseInt(i.expandLevel,10),!n.treeData)return void alert("no treeData defined for the tree!");if(null==n.treeData.length){if(null==treeData.label)return void alert("treeData should be an array of root branches");n.treeData=[treeData]}return u=function(t){var e,r,i,o,a,s;for(e=function(n,r){var i,o,a,s,l;if(t(n,r),null!=n.children){for(s=n.children,l=[],o=0,a=s.length;a>o;o++)i=s[o],l.push(e(i,r+1));return l}},a=n.treeData,s=[],i=0,o=a.length;o>i;i++)r=a[i],s.push(e(r,1));return s},d=null,p=function(e){if(!e)return null!=d&&(d.selected=!1),void(d=null);if(e!==d){if(null!=d&&(d.selected=!1),e.selected=!0,d=e,a(e),null!=e.onSelect)return t(function(){return e.onSelect(e)});if(null!=n.onSelect)return t(function(){return n.onSelect({branch:e})})}},n.user_clicks_branch=function(t){return t!==d?p(t):void 0},c=function(t){var e;return e=void 0,t.parent_uid&&u(function(n){return n.uid===t.parent_uid?e=n:void 0}),e},l=function(t,e){var n;return n=c(t),null!=n?(e(n),l(n,e)):void 0},a=function(t){return l(t,function(t){return t.expanded=!0})},n.tree_rows=[],h=function(){var t,r,o,a,s,l;for(u(function(t){return t.uid?void 0:t.uid=""+Math.random()}),console.log("UIDs are set."),u(function(t){var e,n,r,i,o;if(angular.isArray(t.children)){for(i=t.children,o=[],n=0,r=i.length;r>n;n++)e=i[n],o.push(e.parent_uid=t.uid);return o}}),n.tree_rows=[],u(function(t){var e,n;return t.children?t.children.length>0?(n=function(t){return"string"==typeof t?{label:t,children:[]}:t},t.children=function(){var r,i,o,a;for(o=t.children,a=[],r=0,i=o.length;i>r;r++)e=o[r],a.push(n(e));return a}()):void 0:t.children=[]}),t=function(r,o,a){var s,l,u,c,f,h,p;if(null==o.expanded&&(o.expanded=!1),null==o.classes&&(o.classes=[]),o.noLeaf||o.children&&0!==o.children.length?u=o.expanded?i.iconCollapse:i.iconExpand:(u=i.iconLeaf,e.call(o.classes,"leaf")<0&&o.classes.push("leaf")),n.tree_rows.push({level:r,branch:o,label:o.label,classes:o.classes,tree_icon:u,visible:a}),null!=o.children){for(h=o.children,p=[],c=0,f=h.length;f>c;c++)s=h[c],l=a&&o.expanded,p.push(t(r+1,s,l));return p}},s=n.treeData,l=[],o=0,a=s.length;a>o;o++)r=s[o],l.push(t(1,r,!0));return l},n.$watch("treeData",h,!0),null!=i.initialSelection&&u(function(e){return e.label===i.initialSelection?t(function(){return p(e)}):void 0}),f=n.treeData.length,console.log("num root branches = "+f),u(function(t,e){return t.level=e,t.expanded=t.level<s}),null!=n.treeControl&&angular.isObject(n.treeControl)?(g=n.treeControl,g.expand_all=function(){return u(function(t){return t.expanded=!0})},g.collapse_all=function(){return u(function(t){return t.expanded=!1})},g.get_first_branch=function(){return f=n.treeData.length,f>0?n.treeData[0]:void 0},g.select_first_branch=function(){var t;return t=g.get_first_branch(),g.select_branch(t)},g.get_selected_branch=function(){return d},g.get_parent_branch=function(t){return c(t)},g.select_branch=function(t){return p(t),t},g.get_children=function(t){return t.children},g.select_parent_branch=function(t){var e;return null==t&&(t=g.get_selected_branch()),null!=t&&(e=g.get_parent_branch(t),null!=e)?(g.select_branch(e),e):void 0},g.add_branch=function(t,e){return null!=t?(t.children.push(e),t.expanded=!0):n.treeData.push(e),e},g.add_root_branch=function(t){return g.add_branch(null,t),t},g.expand_branch=function(t){return null==t&&(t=g.get_selected_branch()),null!=t?(t.expanded=!0,t):void 0},g.collapse_branch=function(t){return null==t&&(t=d),null!=t?(t.expanded=!1,t):void 0},g.get_siblings=function(t){var e,r;return null==t&&(t=d),null!=t?(e=g.get_parent_branch(t),r=e?e.children:n.treeData):void 0},g.get_next_sibling=function(t){var e,n;return null==t&&(t=d),null!=t&&(n=g.get_siblings(t),f=n.length,e=n.indexOf(t),f>e)?n[e+1]:void 0},g.get_prev_sibling=function(t){var e,n;return null==t&&(t=d),n=g.get_siblings(t),f=n.length,e=n.indexOf(t),e>0?n[e-1]:void 0},g.select_next_sibling=function(t){var e;return null==t&&(t=d),null!=t&&(e=g.get_next_sibling(t),null!=e)?g.select_branch(e):void 0},g.select_prev_sibling=function(t){var e;return null==t&&(t=d),null!=t&&(e=g.get_prev_sibling(t),null!=e)?g.select_branch(e):void 0},g.get_first_child=function(t){var e;return null==t&&(t=d),null!=t&&(null!=(e=t.children)?e.length:void 0)>0?t.children[0]:void 0},g.get_closest_ancestor_next_sibling=function(t){var e,n;return e=g.get_next_sibling(t),null!=e?e:(n=g.get_parent_branch(t),g.get_closest_ancestor_next_sibling(n))},g.get_next_branch=function(t){var e;return null==t&&(t=d),null!=t?(e=g.get_first_child(t),null!=e?e:e=g.get_closest_ancestor_next_sibling(t)):void 0},g.select_next_branch=function(t){var e;return null==t&&(t=d),null!=t&&(e=g.get_next_branch(t),null!=e)?(g.select_branch(e),e):void 0},g.last_descendant=function(t){var e;return f=t.children.length,0===f?t:(e=t.children[f-1],g.last_descendant(e))},g.get_prev_branch=function(t){var e,n;return null==t&&(t=d),null!=t?(n=g.get_prev_sibling(t),null!=n?g.last_descendant(n):e=g.get_parent_branch(t)):void 0},g.select_prev_branch=function(t){var e;return null==t&&(t=d),null!=t&&(e=g.get_prev_branch(t),null!=e)?(g.select_branch(e),e):void 0}):void 0}}}])}.call(this),/**
 * @license AngularJS v1.3.4
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,n){"use strict";e.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(t,r){function i(){var t,i,o,l;for(t in s)c(a[t])&&r.cookies(t,n);for(t in a)i=a[t],e.isString(i)||(i=""+i,a[t]=i),i!==s[t]&&(r.cookies(t,i),l=!0);if(l){l=!1,o=r.cookies();for(t in a)a[t]!==o[t]&&(c(o[t])?delete a[t]:a[t]=o[t],l=!0)}}var o,a={},s={},l=!1,u=e.copy,c=e.isUndefined;return r.addPollFn(function(){var e=r.cookies();o!=e&&(o=e,u(e,s),u(e,a),l&&t.$apply())})(),l=!0,t.$watch(i),a}]).factory("$cookieStore",["$cookies",function(t){return{get:function(n){var r=t[n];return r?e.fromJson(r):r},put:function(n,r){t[n]=e.toJson(r)},remove:function(e){delete t[e]}}}])}(window,window.angular),function(){function t(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}t.prototype.diff_main=function(t,e,n,r){if("undefined"==typeof r&&(r=0>=this.Diff_Timeout?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout),null==t||null==e)throw Error("Null input. (diff_main)");if(t==e)return t?[[0,t]]:[];"undefined"==typeof n&&(n=!0);var i=n,o=this.diff_commonPrefix(t,e);n=t.substring(0,o),t=t.substring(o),e=e.substring(o);var o=this.diff_commonSuffix(t,e),a=t.substring(t.length-o);return t=t.substring(0,t.length-o),e=e.substring(0,e.length-o),t=this.diff_compute_(t,e,i,r),n&&t.unshift([0,n]),a&&t.push([0,a]),this.diff_cleanupMerge(t),t},t.prototype.diff_compute_=function(t,e,n,r){if(!t)return[[1,e]];if(!e)return[[-1,t]];var i=t.length>e.length?t:e,o=t.length>e.length?e:t,a=i.indexOf(o);return-1!=a?(n=[[1,i.substring(0,a)],[0,o],[1,i.substring(a+o.length)]],t.length>e.length&&(n[0][0]=n[2][0]=-1),n):1==o.length?[[-1,t],[1,e]]:(i=this.diff_halfMatch_(t,e))?(o=i[0],t=i[1],a=i[2],e=i[3],i=i[4],o=this.diff_main(o,a,n,r),n=this.diff_main(t,e,n,r),o.concat([[0,i]],n)):n&&100<t.length&&100<e.length?this.diff_lineMode_(t,e,r):this.diff_bisect_(t,e,r)},t.prototype.diff_lineMode_=function(t,e,n){var r=this.diff_linesToChars_(t,e);t=r.chars1,e=r.chars2,r=r.lineArray,t=this.diff_main(t,e,!1,n),this.diff_charsToLines_(t,r),this.diff_cleanupSemantic(t),t.push([0,""]);for(var i=r=e=0,o="",a="";e<t.length;){switch(t[e][0]){case 1:i++,a+=t[e][1];break;case-1:r++,o+=t[e][1];break;case 0:if(r>=1&&i>=1){for(t.splice(e-r-i,r+i),e=e-r-i,r=this.diff_main(o,a,!1,n),i=r.length-1;i>=0;i--)t.splice(e,0,r[i]);e+=r.length}r=i=0,a=o=""}e++}return t.pop(),t},t.prototype.diff_bisect_=function(t,e,n){for(var r=t.length,i=e.length,o=Math.ceil((r+i)/2),a=o,s=2*o,l=Array(s),u=Array(s),c=0;s>c;c++)l[c]=-1,u[c]=-1;l[a+1]=0,u[a+1]=0;for(var c=r-i,f=0!=c%2,h=0,p=0,d=0,g=0,m=0;o>m&&!((new Date).getTime()>n);m++){for(var v=-m+h;m-p>=v;v+=2){var y,b=a+v;y=v==-m||v!=m&&l[b-1]<l[b+1]?l[b+1]:l[b-1]+1;for(var w=y-v;r>y&&i>w&&t.charAt(y)==e.charAt(w);)y++,w++;if(l[b]=y,y>r)p+=2;else if(w>i)h+=2;else if(f&&(b=a+c-v,b>=0&&s>b&&-1!=u[b])){var x=r-u[b];if(y>=x)return this.diff_bisectSplit_(t,e,y,w,n)}}for(v=-m+d;m-g>=v;v+=2){for(b=a+v,x=v==-m||v!=m&&u[b-1]<u[b+1]?u[b+1]:u[b-1]+1,y=x-v;r>x&&i>y&&t.charAt(r-x-1)==e.charAt(i-y-1);)x++,y++;if(u[b]=x,x>r)g+=2;else if(y>i)d+=2;else if(!f&&(b=a+c-v,b>=0&&s>b&&-1!=l[b]&&(y=l[b],w=a+y-b,x=r-x,y>=x)))return this.diff_bisectSplit_(t,e,y,w,n)}}return[[-1,t],[1,e]]},t.prototype.diff_bisectSplit_=function(t,e,n,r,i){var o=t.substring(0,n),a=e.substring(0,r);return t=t.substring(n),e=e.substring(r),o=this.diff_main(o,a,!1,i),i=this.diff_main(t,e,!1,i),o.concat(i)},t.prototype.diff_linesToChars_=function(t,e){function n(t){for(var e="",n=0,o=-1,a=r.length;o<t.length-1;){o=t.indexOf("\n",n),-1==o&&(o=t.length-1);var s=t.substring(n,o+1),n=o+1;(i.hasOwnProperty?i.hasOwnProperty(s):void 0!==i[s])?e+=String.fromCharCode(i[s]):(e+=String.fromCharCode(a),i[s]=a,r[a++]=s)}return e}var r=[],i={};r[0]="";var o=n(t),a=n(e);return{chars1:o,chars2:a,lineArray:r}},t.prototype.diff_charsToLines_=function(t,e){for(var n=0;n<t.length;n++){for(var r=t[n][1],i=[],o=0;o<r.length;o++)i[o]=e[r.charCodeAt(o)];t[n][1]=i.join("")}},t.prototype.diff_commonPrefix=function(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;i>n;)t.substring(o,i)==e.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},t.prototype.diff_commonSuffix=function(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;i>n;)t.substring(t.length-i,t.length-o)==e.substring(e.length-i,e.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},t.prototype.diff_commonOverlap_=function(t,e){var n=t.length,r=e.length;if(0==n||0==r)return 0;if(n>r?t=t.substring(n-r):r>n&&(e=e.substring(0,n)),n=Math.min(n,r),t==e)return n;for(var r=0,i=1;;){var o=t.substring(n-i),o=e.indexOf(o);if(-1==o)return r;i+=o,(0==o||t.substring(n-i)==e.substring(0,i))&&(r=i,i++)}},t.prototype.diff_halfMatch_=function(t,e){function n(t,e,n){for(var r,i,o,s,l=t.substring(n,n+Math.floor(t.length/4)),u=-1,c="";-1!=(u=e.indexOf(l,u+1));){var f=a.diff_commonPrefix(t.substring(n),e.substring(u)),h=a.diff_commonSuffix(t.substring(0,n),e.substring(0,u));c.length<h+f&&(c=e.substring(u-h,u)+e.substring(u,u+f),r=t.substring(0,n-h),i=t.substring(n+f),o=e.substring(0,u-h),s=e.substring(u+f))}return 2*c.length>=t.length?[r,i,o,s,c]:null}if(0>=this.Diff_Timeout)return null;var r=t.length>e.length?t:e,i=t.length>e.length?e:t;if(4>r.length||2*i.length<r.length)return null;var o,a=this,s=n(r,i,Math.ceil(r.length/4)),r=n(r,i,Math.ceil(r.length/2));if(!s&&!r)return null;o=r?s&&s[4].length>r[4].length?s:r:s;var l;return t.length>e.length?(s=o[0],r=o[1],i=o[2],l=o[3]):(i=o[0],l=o[1],s=o[2],r=o[3]),o=o[4],[s,r,i,l,o]},t.prototype.diff_cleanupSemantic=function(t){for(var e=!1,n=[],r=0,i=null,o=0,a=0,s=0,l=0,u=0;o<t.length;)0==t[o][0]?(n[r++]=o,a=l,s=u,u=l=0,i=t[o][1]):(1==t[o][0]?l+=t[o][1].length:u+=t[o][1].length,i&&i.length<=Math.max(a,s)&&i.length<=Math.max(l,u)&&(t.splice(n[r-1],0,[-1,i]),t[n[r-1]+1][0]=1,r--,r--,o=r>0?n[r-1]:-1,u=l=s=a=0,i=null,e=!0)),o++;for(e&&this.diff_cleanupMerge(t),this.diff_cleanupSemanticLossless(t),o=1;o<t.length;)-1==t[o-1][0]&&1==t[o][0]&&(e=t[o-1][1],n=t[o][1],r=this.diff_commonOverlap_(e,n),i=this.diff_commonOverlap_(n,e),r>=i?(r>=e.length/2||r>=n.length/2)&&(t.splice(o,0,[0,n.substring(0,r)]),t[o-1][1]=e.substring(0,e.length-r),t[o+1][1]=n.substring(r),o++):(i>=e.length/2||i>=n.length/2)&&(t.splice(o,0,[0,e.substring(0,i)]),t[o-1][0]=1,t[o-1][1]=n.substring(0,n.length-i),t[o+1][0]=-1,t[o+1][1]=e.substring(i),o++),o++),o++},t.prototype.diff_cleanupSemanticLossless=function(e){function n(e,n){if(!e||!n)return 6;var r=e.charAt(e.length-1),i=n.charAt(0),o=r.match(t.nonAlphaNumericRegex_),a=i.match(t.nonAlphaNumericRegex_),s=o&&r.match(t.whitespaceRegex_),l=a&&i.match(t.whitespaceRegex_),r=s&&r.match(t.linebreakRegex_),i=l&&i.match(t.linebreakRegex_),u=r&&e.match(t.blanklineEndRegex_),c=i&&n.match(t.blanklineStartRegex_);return u||c?5:r||i?4:o&&!s&&l?3:s||l?2:o||a?1:0}for(var r=1;r<e.length-1;){if(0==e[r-1][0]&&0==e[r+1][0]){var i=e[r-1][1],o=e[r][1],a=e[r+1][1],s=this.diff_commonSuffix(i,o);if(s)var l=o.substring(o.length-s),i=i.substring(0,i.length-s),o=l+o.substring(0,o.length-s),a=l+a;for(var s=i,l=o,u=a,c=n(i,o)+n(o,a);o.charAt(0)===a.charAt(0);){var i=i+o.charAt(0),o=o.substring(1)+a.charAt(0),a=a.substring(1),f=n(i,o)+n(o,a);f>=c&&(c=f,s=i,l=o,u=a)}e[r-1][1]!=s&&(s?e[r-1][1]=s:(e.splice(r-1,1),r--),e[r][1]=l,u?e[r+1][1]=u:(e.splice(r+1,1),r--))}r++}},t.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,t.whitespaceRegex_=/\s/,t.linebreakRegex_=/[\r\n]/,t.blanklineEndRegex_=/\n\r?\n$/,t.blanklineStartRegex_=/^\r?\n\r?\n/,t.prototype.diff_cleanupEfficiency=function(t){for(var e=!1,n=[],r=0,i=null,o=0,a=!1,s=!1,l=!1,u=!1;o<t.length;)0==t[o][0]?(t[o][1].length<this.Diff_EditCost&&(l||u)?(n[r++]=o,a=l,s=u,i=t[o][1]):(r=0,i=null),l=u=!1):(-1==t[o][0]?u=!0:l=!0,i&&(a&&s&&l&&u||i.length<this.Diff_EditCost/2&&3==a+s+l+u)&&(t.splice(n[r-1],0,[-1,i]),t[n[r-1]+1][0]=1,r--,i=null,a&&s?(l=u=!0,r=0):(r--,o=r>0?n[r-1]:-1,l=u=!1),e=!0)),o++;e&&this.diff_cleanupMerge(t)},t.prototype.diff_cleanupMerge=function(t){t.push([0,""]);for(var e,n=0,r=0,i=0,o="",a="";n<t.length;)switch(t[n][0]){case 1:i++,a+=t[n][1],n++;break;case-1:r++,o+=t[n][1],n++;break;case 0:r+i>1?(0!==r&&0!==i&&(e=this.diff_commonPrefix(a,o),0!==e&&(n-r-i>0&&0==t[n-r-i-1][0]?t[n-r-i-1][1]+=a.substring(0,e):(t.splice(0,0,[0,a.substring(0,e)]),n++),a=a.substring(e),o=o.substring(e)),e=this.diff_commonSuffix(a,o),0!==e&&(t[n][1]=a.substring(a.length-e)+t[n][1],a=a.substring(0,a.length-e),o=o.substring(0,o.length-e))),0===r?t.splice(n-i,r+i,[1,a]):0===i?t.splice(n-r,r+i,[-1,o]):t.splice(n-r-i,r+i,[-1,o],[1,a]),n=n-r-i+(r?1:0)+(i?1:0)+1):0!==n&&0==t[n-1][0]?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,r=i=0,a=o=""}for(""===t[t.length-1][1]&&t.pop(),r=!1,n=1;n<t.length-1;)0==t[n-1][0]&&0==t[n+1][0]&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)==t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),r=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),r=!0)),n++;r&&this.diff_cleanupMerge(t)},t.prototype.diff_xIndex=function(t,e){var n,r=0,i=0,o=0,a=0;for(n=0;n<t.length&&(1!==t[n][0]&&(r+=t[n][1].length),-1!==t[n][0]&&(i+=t[n][1].length),!(r>e));n++)o=r,a=i;return t.length!=n&&-1===t[n][0]?a:a+(e-o)},t.prototype.diff_prettyHtml=function(t){for(var e=[],n=/&/g,r=/</g,i=/>/g,o=/\n/g,a=0;a<t.length;a++){var s=t[a][0],l=t[a][1],l=l.replace(n,"&amp;").replace(r,"&lt;").replace(i,"&gt;").replace(o,"&para;<br>");switch(s){case 1:e[a]='<ins style="background:#e6ffe6;">'+l+"</ins>";break;case-1:e[a]='<del style="background:#ffe6e6;">'+l+"</del>";break;case 0:e[a]="<span>"+l+"</span>"}}return e.join("")},t.prototype.diff_text1=function(t){for(var e=[],n=0;n<t.length;n++)1!==t[n][0]&&(e[n]=t[n][1]);return e.join("")},t.prototype.diff_text2=function(t){for(var e=[],n=0;n<t.length;n++)-1!==t[n][0]&&(e[n]=t[n][1]);return e.join("")},t.prototype.diff_levenshtein=function(t){for(var e=0,n=0,r=0,i=0;i<t.length;i++){var o=t[i][0],a=t[i][1];switch(o){case 1:n+=a.length;break;case-1:r+=a.length;break;case 0:e+=Math.max(n,r),r=n=0}}return e+=Math.max(n,r)},t.prototype.diff_toDelta=function(t){for(var e=[],n=0;n<t.length;n++)switch(t[n][0]){case 1:e[n]="+"+encodeURI(t[n][1]);break;case-1:e[n]="-"+t[n][1].length;break;case 0:e[n]="="+t[n][1].length}return e.join("	").replace(/%20/g," ")},t.prototype.diff_fromDelta=function(t,e){for(var n=[],r=0,i=0,o=e.split(/\t/g),a=0;a<o.length;a++){var s=o[a].substring(1);switch(o[a].charAt(0)){case"+":try{n[r++]=[1,decodeURI(s)]}catch(l){throw Error("Illegal escape in diff_fromDelta: "+s)}break;case"-":case"=":var u=parseInt(s,10);if(isNaN(u)||0>u)throw Error("Invalid number in diff_fromDelta: "+s);s=t.substring(i,i+=u),n[r++]="="==o[a].charAt(0)?[0,s]:[-1,s];break;default:if(o[a])throw Error("Invalid diff operation in diff_fromDelta: "+o[a])}}if(i!=t.length)throw Error("Delta length ("+i+") does not equal source text length ("+t.length+").");return n},t.prototype.match_main=function(t,e,n){if(null==t||null==e||null==n)throw Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,t.length)),t==e?0:t.length?t.substring(n,n+e.length)==e?n:this.match_bitap_(t,e,n):-1},t.prototype.match_bitap_=function(t,e,n){function r(t,r){var i=t/e.length,a=Math.abs(n-r);return o.Match_Distance?i+a/o.Match_Distance:a?1:i}if(e.length>this.Match_MaxBits)throw Error("Pattern too long for this browser.");var i=this.match_alphabet_(e),o=this,a=this.Match_Threshold,s=t.indexOf(e,n);-1!=s&&(a=Math.min(r(0,s),a),s=t.lastIndexOf(e,n+e.length),-1!=s&&(a=Math.min(r(0,s),a)));for(var l,u,c,f=1<<e.length-1,s=-1,h=e.length+t.length,p=0;p<e.length;p++){for(l=0,u=h;u>l;)r(p,n+u)<=a?l=u:h=u,u=Math.floor((h-l)/2+l);h=u,l=Math.max(1,n-u+1);var d=Math.min(n+u,t.length)+e.length;for(u=Array(d+2),u[d+1]=(1<<p)-1;d>=l;d--){var g=i[t.charAt(d-1)];if(u[d]=0===p?(u[d+1]<<1|1)&g:(u[d+1]<<1|1)&g|((c[d+1]|c[d])<<1|1)|c[d+1],u[d]&f&&(g=r(p,d-1),a>=g)){if(a=g,s=d-1,!(s>n))break;l=Math.max(1,2*n-s)}}if(r(p+1,n)>a)break;c=u}return s},t.prototype.match_alphabet_=function(t){for(var e={},n=0;n<t.length;n++)e[t.charAt(n)]=0;for(n=0;n<t.length;n++)e[t.charAt(n)]|=1<<t.length-n-1;return e},t.prototype.patch_addContext_=function(t,e){if(0!=e.length){for(var n=e.substring(t.start2,t.start2+t.length1),r=0;e.indexOf(n)!=e.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)r+=this.Patch_Margin,n=e.substring(t.start2-r,t.start2+t.length1+r);r+=this.Patch_Margin,(n=e.substring(t.start2-r,t.start2))&&t.diffs.unshift([0,n]),(r=e.substring(t.start2+t.length1,t.start2+t.length1+r))&&t.diffs.push([0,r]),t.start1-=n.length,t.start2-=n.length,t.length1+=n.length+r.length,t.length2+=n.length+r.length}},t.prototype.patch_make=function(e,n,r){var i;if("string"==typeof e&&"string"==typeof n&&"undefined"==typeof r)i=e,n=this.diff_main(i,n,!0),2<n.length&&(this.diff_cleanupSemantic(n),this.diff_cleanupEfficiency(n));else if(e&&"object"==typeof e&&"undefined"==typeof n&&"undefined"==typeof r)n=e,i=this.diff_text1(n);else if("string"==typeof e&&n&&"object"==typeof n&&"undefined"==typeof r)i=e;else{if("string"!=typeof e||"string"!=typeof n||!r||"object"!=typeof r)throw Error("Unknown call format to patch_make.");i=e,n=r}if(0===n.length)return[];r=[],e=new t.patch_obj;for(var o=0,a=0,s=0,l=i,u=0;u<n.length;u++){var c=n[u][0],f=n[u][1];switch(!o&&0!==c&&(e.start1=a,e.start2=s),c){case 1:e.diffs[o++]=n[u],e.length2+=f.length,i=i.substring(0,s)+f+i.substring(s);break;case-1:e.length1+=f.length,e.diffs[o++]=n[u],i=i.substring(0,s)+i.substring(s+f.length);break;case 0:f.length<=2*this.Patch_Margin&&o&&n.length!=u+1?(e.diffs[o++]=n[u],e.length1+=f.length,e.length2+=f.length):f.length>=2*this.Patch_Margin&&o&&(this.patch_addContext_(e,l),r.push(e),e=new t.patch_obj,o=0,l=i,a=s)}1!==c&&(a+=f.length),-1!==c&&(s+=f.length)}return o&&(this.patch_addContext_(e,l),r.push(e)),r},t.prototype.patch_deepCopy=function(e){for(var n=[],r=0;r<e.length;r++){var i=e[r],o=new t.patch_obj;o.diffs=[];for(var a=0;a<i.diffs.length;a++)o.diffs[a]=i.diffs[a].slice();o.start1=i.start1,o.start2=i.start2,o.length1=i.length1,o.length2=i.length2,n[r]=o}return n},t.prototype.patch_apply=function(t,e){if(0==t.length)return[e,[]];t=this.patch_deepCopy(t);var n=this.patch_addPadding(t);e=n+e+n,this.patch_splitMax(t);for(var r=0,i=[],o=0;o<t.length;o++){var a,s=t[o].start2+r,l=this.diff_text1(t[o].diffs),u=-1;if(l.length>this.Match_MaxBits?(a=this.match_main(e,l.substring(0,this.Match_MaxBits),s),-1!=a&&(u=this.match_main(e,l.substring(l.length-this.Match_MaxBits),s+l.length-this.Match_MaxBits),-1==u||a>=u)&&(a=-1)):a=this.match_main(e,l,s),-1==a)i[o]=!1,r-=t[o].length2-t[o].length1;else if(i[o]=!0,r=a-s,s=-1==u?e.substring(a,a+l.length):e.substring(a,u+this.Match_MaxBits),l==s)e=e.substring(0,a)+this.diff_text2(t[o].diffs)+e.substring(a+l.length);else if(s=this.diff_main(l,s,!1),l.length>this.Match_MaxBits&&this.diff_levenshtein(s)/l.length>this.Patch_DeleteThreshold)i[o]=!1;else{this.diff_cleanupSemanticLossless(s);for(var c,l=0,u=0;u<t[o].diffs.length;u++){var f=t[o].diffs[u];0!==f[0]&&(c=this.diff_xIndex(s,l)),1===f[0]?e=e.substring(0,a+c)+f[1]+e.substring(a+c):-1===f[0]&&(e=e.substring(0,a+c)+e.substring(a+this.diff_xIndex(s,l+f[1].length))),-1!==f[0]&&(l+=f[1].length)}}}return e=e.substring(n.length,e.length-n.length),[e,i]},t.prototype.patch_addPadding=function(t){for(var e=this.Patch_Margin,n="",r=1;e>=r;r++)n+=String.fromCharCode(r);for(r=0;r<t.length;r++)t[r].start1+=e,t[r].start2+=e;var r=t[0],i=r.diffs;if(0==i.length||0!=i[0][0])i.unshift([0,n]),r.start1-=e,r.start2-=e,r.length1+=e,r.length2+=e;else if(e>i[0][1].length){var o=e-i[0][1].length;i[0][1]=n.substring(i[0][1].length)+i[0][1],r.start1-=o,r.start2-=o,r.length1+=o,r.length2+=o}return r=t[t.length-1],i=r.diffs,0==i.length||0!=i[i.length-1][0]?(i.push([0,n]),r.length1+=e,r.length2+=e):e>i[i.length-1][1].length&&(o=e-i[i.length-1][1].length,i[i.length-1][1]+=n.substring(0,o),r.length1+=o,r.length2+=o),n},t.prototype.patch_splitMax=function(e){for(var n=this.Match_MaxBits,r=0;r<e.length;r++)if(!(e[r].length1<=n)){var i=e[r];e.splice(r--,1);for(var o=i.start1,a=i.start2,s="";0!==i.diffs.length;){var l=new t.patch_obj,u=!0;for(l.start1=o-s.length,l.start2=a-s.length,""!==s&&(l.length1=l.length2=s.length,l.diffs.push([0,s]));0!==i.diffs.length&&l.length1<n-this.Patch_Margin;){var s=i.diffs[0][0],c=i.diffs[0][1];1===s?(l.length2+=c.length,a+=c.length,l.diffs.push(i.diffs.shift()),u=!1):-1===s&&1==l.diffs.length&&0==l.diffs[0][0]&&c.length>2*n?(l.length1+=c.length,o+=c.length,u=!1,l.diffs.push([s,c]),i.diffs.shift()):(c=c.substring(0,n-l.length1-this.Patch_Margin),l.length1+=c.length,o+=c.length,0===s?(l.length2+=c.length,a+=c.length):u=!1,l.diffs.push([s,c]),c==i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(c.length))}s=this.diff_text2(l.diffs),s=s.substring(s.length-this.Patch_Margin),c=this.diff_text1(i.diffs).substring(0,this.Patch_Margin),""!==c&&(l.length1+=c.length,l.length2+=c.length,0!==l.diffs.length&&0===l.diffs[l.diffs.length-1][0]?l.diffs[l.diffs.length-1][1]+=c:l.diffs.push([0,c])),u||e.splice(++r,0,l)}}},t.prototype.patch_toText=function(t){for(var e=[],n=0;n<t.length;n++)e[n]=t[n];return e.join("")},t.prototype.patch_fromText=function(e){var n=[];if(!e)return n;e=e.split("\n");for(var r=0,i=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;r<e.length;){var o=e[r].match(i);if(!o)throw Error("Invalid patch string: "+e[r]);var a=new t.patch_obj;for(n.push(a),a.start1=parseInt(o[1],10),""===o[2]?(a.start1--,a.length1=1):"0"==o[2]?a.length1=0:(a.start1--,a.length1=parseInt(o[2],10)),a.start2=parseInt(o[3],10),""===o[4]?(a.start2--,a.length2=1):"0"==o[4]?a.length2=0:(a.start2--,a.length2=parseInt(o[4],10)),r++;r<e.length;){o=e[r].charAt(0);try{var s=decodeURI(e[r].substring(1))}catch(l){throw Error("Illegal escape in patch_fromText: "+s)}if("-"==o)a.diffs.push([-1,s]);else if("+"==o)a.diffs.push([1,s]);else if(" "==o)a.diffs.push([0,s]);else{if("@"==o)break;if(""!==o)throw Error('Invalid patch mode "'+o+'" in: '+s)}r++}}return n},t.patch_obj=function(){this.diffs=[],this.start2=this.start1=null,this.length2=this.length1=0},t.patch_obj.prototype.toString=function(){var t,e;t=0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1,e=0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2,t=["@@ -"+t+" +"+e+" @@\n"];var n;for(e=0;e<this.diffs.length;e++){switch(this.diffs[e][0]){case 1:n="+";break;case-1:n="-";break;case 0:n=" "}t[e+1]=n+encodeURI(this.diffs[e][1])+"\n"}return t.join("").replace(/%20/g," ")},this.diff_match_patch=t,this.DIFF_DELETE=-1,this.DIFF_INSERT=1,this.DIFF_EQUAL=0}(),angular.module("diff-match-patch",[]).factory("dmp",function(){function t(t){switch(t){case DIFF_INSERT:return"ins";case DIFF_DELETE:return"del";case DIFF_EQUAL:return"match"}}function e(t){switch(t){case DIFF_EQUAL:return" ";case DIFF_INSERT:return"+";case DIFF_DELETE:return"-"}}function n(t){switch(t){case DIFF_EQUAL:return"span";case DIFF_INSERT:return"ins";case DIFF_DELETE:return"del"}}function r(t){switch(t){case DIFF_EQUAL:return"equal";case DIFF_INSERT:return"insert";case DIFF_DELETE:return"delete"}}function i(t){return 0===Object.getOwnPropertyNames(t).length}function o(t,e,n){n=n||{};var o={};if(angular.isDefined(t)&&angular.isDefined(t.attrs)&&(o=angular.copy(t.attrs[r(e)]||{})),i(o)&&i(n))return"";for(var a in n)o[a]=angular.isDefined(o[a])?n[a]+" "+o[a]:n[a];var s=[];for(var a in o)s.push(a+'="'+o[a]+'"');return" "+s.join(" ")}function a(r,i,a){var s="";switch(i){case f.LINEDIFF:s='<div class="'+t(r)+'"><span'+o(a,r,{"class":"noselect"})+">"+e(r)+"</span>";break;case f.INSDEL:var l=n(r);s="<"+l+o(a,r)+">"}return s}function s(t,e){var r="";switch(e){case f.LINEDIFF:r="</div>";break;case f.INSDEL:r="</"+n(t)+">"}return r}function l(t,e,n){for(var r=t.split("\n"),i=0;i<r.length;i++)0!==r[i].length&&(r[i]=a(e,f.LINEDIFF,n)+r[i]+s(e,f.LINEDIFF));return r.join("")}function u(t,e,n){for(var r=/&/g,i=/</g,o=/>/g,u=0;u<t.length;u++){var c=t[u][1],h=c.replace(r,"&amp;").replace(i,"&lt;").replace(o,"&gt;");t[u][1]=h}for(var p=[],u=0;u<t.length;u++){var d=t[u][0],h=t[u][1];p[u]=e===f.LINEDIFF?l(h,d,n):a(d,e,n)+h+s(d,e)}return p.join("")}function c(t,e){return angular.isString(t)&&angular.isString(e)}var f={INSDEL:0,LINEDIFF:1};return{createDiffHtml:function(t,e,n){if(c(t,e)){var r=new diff_match_patch,i=r.diff_main(t,e);return u(i,f.INSDEL,n)}return""},createProcessingDiffHtml:function(t,e,n){if(c(t,e)){var r=new diff_match_patch,i=r.diff_main(t,e);return r.diff_cleanupEfficiency(i),u(i,f.INSDEL,n)}return""},createSemanticDiffHtml:function(t,e,n){if(c(t,e)){var r=new diff_match_patch,i=r.diff_main(t,e);return r.diff_cleanupSemantic(i),u(i,f.INSDEL,n)}return""},createLineDiffHtml:function(t,e,n){if(c(t,e)){var r=new diff_match_patch,i=r.diff_linesToChars_(t,e),o=r.diff_main(i.chars1,i.chars2,!1);return r.diff_charsToLines_(o,i.lineArray),u(o,f.LINEDIFF,n)}return""}}}).directive("diff",["$compile","dmp",function(t,e){var n={scope:{left:"=leftObj",right:"=rightObj",options:"=options"},link:function(n,r){var i=function(){r.html(e.createDiffHtml(n.left,n.right,n.options)),t(r.contents())(n)};n.$watch("left",i),n.$watch("right",i)}};return n}]).directive("processingDiff",["$compile","dmp",function(t,e){var n={scope:{left:"=leftObj",right:"=rightObj",options:"=options"},link:function(n,r){var i=function(){r.html(e.createProcessingDiffHtml(n.left,n.right,n.options)),t(r.contents())(n)};n.$watch("left",i),n.$watch("right",i)}};return n}]).directive("semanticDiff",["$compile","dmp",function(t,e){var n={scope:{left:"=leftObj",right:"=rightObj",options:"=options"},link:function(n,r){var i=function(){r.html(e.createSemanticDiffHtml(n.left,n.right,n.options)),t(r.contents())(n)};n.$watch("left",i),n.$watch("right",i)}};return n}]).directive("lineDiff",["$compile","dmp",function(t,e){var n={scope:{left:"=leftObj",right:"=rightObj",options:"=options"},link:function(n,r){var i=function(){r.html(e.createLineDiffHtml(n.left,n.right,n.options)),t(r.contents())(n)};n.$watch("left",i),n.$watch("right",i)}};return n}]),function(t,e,n,r,i,o){function a(t,e){return function(){return t.call(this,e.apply(this,arguments))}}function s(t){return function(e){return e[t]}}function l(t,e){return e.apply(o,t)}function u(t){var e=t.length-1,r=n.prototype.slice;if(0==e)return function(){return t.call(this,r.call(arguments))};if(1==e)return function(){return t.call(this,arguments[0],r.call(arguments,1))};var i=n(t.length);return function(){for(var n=0;e>n;n++)i[n]=arguments[n];return i[e]=r.call(arguments,e),t.apply(this,i)}}function c(t){return function(e,n){return t(n,e)}}function f(t,e){return function(n){return t(n)&&e(n)}}function h(){}function p(){return!0}function d(t){return function(){return t}}function g(t,e){return e&&e.constructor===t}function m(t){return t!==o}function v(t,n){return n instanceof e&&S(function(t){return t in n},t)}function y(t,e){return[t,e]}function b(t){return T(t.reduce(c(y),X))}function w(t){return $(function(t,e){return t.unshift(e),t},[],t)}function x(t,e){return e?y(t(K(e)),x(t,Q(e))):X}function $(t,e,n){return n?t($(t,e,Q(n)),K(n)):e}function C(t,e,n){function r(t,n){return t?e(K(t))?(n(K(t)),Q(t)):y(K(t),r(Q(t),n)):X}return r(t,n||h)}function S(t,e){return!e||t(K(e))&&S(t,Q(e))}function k(t,e){t&&(K(t).apply(null,e),k(Q(t),e))}function T(t){function e(t,n){return t?e(Q(t),y(K(t),n)):n}return e(t,X)}function M(t,e){return e&&(t(K(e))?K(e):M(t,Q(e)))}function _(t){"use strict";function e(){var t=0;H.length>g&&(n("Max buffer length exceeded: textNode"),t=Math.max(t,H.length)),B.length>g&&(n("Max buffer length exceeded: numberNode"),t=Math.max(t,B.length)),z=g-t+K}function n(t){H&&(h(H),p(),H=""),l=r(t+"\nLn: "+Z+"\nCol: "+Q+"\nChr: "+u),d(R(o,o,l))}function i(){return V==y?(h({}),p(),void(W=!0)):((V!==b||0!==X)&&n("Unexpected end"),H&&(h(H),p(),H=""),void(W=!0))}function a(t){return"\r"==t||"\n"==t||" "==t||"	"==t}function s(t){if(!l){if(W)return n("Cannot write after close");var r=0;for(u=t[0];u&&(c=u,u=t[r++]);)switch(K++,"\n"==u?(Z++,Q=0):Q++,V){case y:if("{"===u)V=w;else if("["===u)V=$;else if(!a(u))return n("Non-whitespace before {[.");continue;case k:case w:if(a(u))continue;if(V===k)U.push(T);else{if("}"===u){h({}),p(),V=U.pop()||b;continue}U.push(x)}if('"'!==u)return n('Malformed object key should start with " ');V=S;continue;case T:case x:if(a(u))continue;if(":"===u)V===x?(U.push(x),H&&(h({}),f(H),H=""),X++):H&&(f(H),H=""),V=b;else if("}"===u)H&&(h(H),p(),H=""),p(),X--,V=U.pop()||b;else{if(","!==u)return n("Bad object");V===x&&U.push(x),H&&(h(H),p(),H=""),V=k}continue;case $:case b:if(a(u))continue;if(V===$){if(h([]),X++,V=b,"]"===u){p(),X--,V=U.pop()||b;continue}U.push(C)}if('"'===u)V=S;else if("{"===u)V=w;else if("["===u)V=$;else if("t"===u)V=M;else if("f"===u)V=E;else if("n"===u)V=P;else if("-"===u)B+=u;else if("0"===u)B+=u,V=j;else{if(-1==="123456789".indexOf(u))return n("Bad value");B+=u,V=j}continue;case C:if(","===u)U.push(C),H&&(h(H),p(),H=""),V=b;else{if("]"!==u){if(a(u))continue;return n("Bad array")}H&&(h(H),p(),H=""),p(),X--,V=U.pop()||b}continue;case S:var i=r-1;t:for(;;){for(;G>0;)if(Y+=u,u=t.charAt(r++),4===G?(H+=String.fromCharCode(parseInt(Y,16)),G=0,i=r-1):G++,!u)break t;if('"'===u&&!q){V=U.pop()||b,H+=t.substring(i,r-1),H||(h(""),p());break}if("\\"===u&&!q&&(q=!0,H+=t.substring(i,r-1),u=t.charAt(r++),!u))break;if(q){if(q=!1,"n"===u?H+="\n":"r"===u?H+="\r":"t"===u?H+="	":"f"===u?H+="\f":"b"===u?H+="\b":"u"===u?(G=1,Y=""):H+=u,u=t.charAt(r++),i=r-1,u)continue;break}m.lastIndex=r;var o=m.exec(t);if(!o){r=t.length+1,H+=t.substring(i,r-1);break}if(r=o.index+1,u=t.charAt(o.index),!u){H+=t.substring(i,r-1);break}}continue;case M:if(!u)continue;if("r"!==u)return n("Invalid true started with t"+u);V=_;continue;case _:if(!u)continue;if("u"!==u)return n("Invalid true started with tr"+u);V=A;continue;case A:if(!u)continue;if("e"!==u)return n("Invalid true started with tru"+u);h(!0),p(),V=U.pop()||b;continue;case E:if(!u)continue;if("a"!==u)return n("Invalid false started with f"+u);V=D;continue;case D:if(!u)continue;if("l"!==u)return n("Invalid false started with fa"+u);V=F;continue;case F:if(!u)continue;if("s"!==u)return n("Invalid false started with fal"+u);V=O;continue;case O:if(!u)continue;if("e"!==u)return n("Invalid false started with fals"+u);h(!1),p(),V=U.pop()||b;continue;case P:if(!u)continue;if("u"!==u)return n("Invalid null started with n"+u);V=L;continue;case L:if(!u)continue;if("l"!==u)return n("Invalid null started with nu"+u);V=I;continue;case I:if(!u)continue;if("l"!==u)return n("Invalid null started with nul"+u);h(null),p(),V=U.pop()||b;continue;case N:if("."!==u)return n("Leading zero not followed by .");B+=u,V=j;continue;case j:if(-1!=="0123456789".indexOf(u))B+=u;else if("."===u){if(-1!==B.indexOf("."))return n("Invalid number has two dots");B+=u}else if("e"===u||"E"===u){if(-1!==B.indexOf("e")||-1!==B.indexOf("E"))return n("Invalid number has two exponential");B+=u}else if("+"===u||"-"===u){if("e"!==c&&"E"!==c)return n("Invalid symbol in number");B+=u}else B&&(h(parseFloat(B)),p(),B=""),r--,V=U.pop()||b;continue;default:return n("Unknown state: "+V)}K>=z&&e()}}var l,u,c,f=t(me).emit,h=t(ve).emit,p=t(ye).emit,d=t(ue).emit,g=65536,m=/[\\"\n]/g,v=0,y=v++,b=v++,w=v++,x=v++,$=v++,C=v++,S=v++,k=v++,T=v++,M=v++,_=v++,A=v++,E=v++,D=v++,F=v++,O=v++,P=v++,L=v++,I=v++,N=v++,j=v,z=g,H="",B="",q=!1,W=!1,V=y,U=[],Y=null,G=0,X=0,K=0,Q=0,Z=1;t(pe).on(s),t(de).on(i)}function A(t,e){"use strict";function n(t){return function(e){r=t(r,e)}}var r,i={};for(var o in e)t(o).on(n(e[o]),i);t(se).on(function(t){var e,n=K(r),i=te(n),o=Q(r);o&&(e=ee(K(o)),e[i]=t)}),t(le).on(function(){var t,e=K(r),n=te(e),i=Q(r);i&&(t=ee(K(i)),delete t[n])}),t(ge).on(function(){for(var n in e)t(n).un(i)})}function E(t){var e={};return t&&t.split("\r\n").forEach(function(t){var n=t.indexOf(": ");e[t.substring(0,n)]=t.substring(n+2)}),e}function D(t,e){function n(t){return{"http:":80,"https:":443}[t]}function r(e){return e.port||n(e.protocol||t.protocol)}return!!(e.protocol&&e.protocol!=t.protocol||e.host&&e.host!=t.host||e.host&&r(e)!=r(t))}function F(t){var e=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/,n=e.exec(t)||[];return{protocol:n[1]||"",host:n[2]||"",port:n[3]||""}}function O(){return new XMLHttpRequest}function P(e,n,r,i,a,s,l){"use strict";function u(){var t=n.responseText,e=t.substr(h);e&&c(e),h=Y(t)}var c=e(pe).emit,f=e(ue).emit,h=0,p=!0;e(ge).on(function(){n.onreadystatechange=null,n.abort()}),"onprogress"in n&&(n.onprogress=u),n.onreadystatechange=function(){function t(){try{p&&e(he).emit(n.status,E(n.getAllResponseHeaders())),p=!1}catch(t){}}switch(n.readyState){case 2:case 3:return t();case 4:t();var r=2==String(n.status)[0];r?(u(),e(de).emit()):f(R(n.status,n.responseText))}};try{n.open(r,i,!0);for(var d in s)n.setRequestHeader(d,s[d]);D(t.location,F(i))||n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.withCredentials=l,n.send(a)}catch(g){t.setTimeout(V(f,R(o,o,g)),0)}}function L(t,e){return{key:t,node:e}}function I(t){function e(t,e){var r=ee(K(t));return g(n,r)?o(t,Y(r),e):t}function r(t,n){if(!t)return u(n),o(t,ne,n);var r=e(t,n),a=Q(r),s=te(K(r));return i(a,s,n),y(L(s,n),a)}function i(t,e,n){ee(K(t))[e]=n}function o(t,e,n){t&&i(t,e,n);var r=y(L(e,n),t);return s(r),r}function a(t){return l(t),Q(t)||c(ee(K(t)))}var s=t(oe).emit,l=t(ae).emit,u=t(fe).emit,c=t(ce).emit,f={};return f[ve]=r,f[ye]=a,f[me]=o,f}function N(t,e,n){function r(t){return function(e){return e.id==t}}var i,o;return{on:function(n,r){var a={listener:n,id:r||n};return e&&e.emit(t,n,a.id),i=y(a,i),o=y(n,o),this},emit:function(){k(o,arguments)},un:function(e){var a;i=C(i,r(e),function(t){a=t}),a&&(o=C(o,function(t){return t==a.listener}),n&&n.emit(t,a.listener,a.id))},listeners:function(){return o},hasListener:function(t){var e=t?r(t):p;return m(M(e,i))}}}function j(){function t(t){return n[t]=N(t,r,i)}function e(e){return n[e]||t(e)}var n={},r=t("newListener"),i=t("removeListener");return["emit","on","un"].forEach(function(t){e[t]=u(function(n,r){l(r,e(n)[t])})}),e}function R(t,e,n){try{var r=i.parse(e)}catch(o){}return{statusCode:t,body:e,jsonBody:r,thrown:n}}function z(t,e){function n(t,e,n){var r=T(n);t(e,w(Q(x(te,r))),w(x(ee,r)))}function r(e,r,i){var o=t(e).emit;r.on(function(t){var e=i(t);e!==!1&&n(o,ee(e),t)},e),t("removeListener").on(function(n){n==e&&(t(n).listeners()||r.un(e))})}var i={node:t(ae),path:t(oe)};t("newListener").on(function(t){var n=/(node|path):(.*)/.exec(t);if(n){var o=i[n[1]];o.hasListener(t)||r(t,o,e(n[2]))}})}function H(t,e){function n(e,n){return t(e).on(i(n),n),g}function r(t,e,n){n=n||e;var r=i(e);return t.on(function(){var e=!1;g.forget=function(){e=!0},l(arguments,r),delete g.forget,e&&t.un(n)},n),g}function i(e){return function(){try{return e.apply(g,arguments)}catch(n){t(ue).emit(R(o,o,n))}}}function a(e,n){return t(e+":"+n)}function s(t){return function(){var e=t.apply(this,arguments);m(e)&&(e==W.drop?b():w(e))}}function c(t,e,n){var i;i="node"==t?s(n):n,r(a(t,e),i,n)}function f(t,e){for(var n in e)c(t,n,e[n])}function p(t,e,n){return G(e)?c(t,e,n):f(t,e),g}var g,v=/^(node|path):./,y=t(ce),b=t(le).emit,w=t(se).emit,x=u(function(e,n){if(g[e])l(n,g[e]);else{var i=t(e),o=n[0];v.test(e)?r(i,o):i.on(o)}return g}),$=function(e,n,r){if("done"==e)y.un(n);else if("node"==e||"path"==e)t.un(e+":"+n,r);else{var i=n;t(e).un(i)}return g};return t(fe).on(function(t){g.root=d(t)}),t(he).on(function(t,e){g.header=function(t){return t?e[t]:e}}),g={on:x,addListener:x,removeListener:$,emit:t.emit,node:V(p,"node"),path:V(p,"path"),done:V(r,y),start:V(n,he),fail:t(ue).on,abort:t(ge).emit,header:h,root:h,source:e}
}function B(t,e,n,r,i){var o=j();return e&&P(o,O(),t,e,n,r,i),_(o),A(o,I(o)),z(o,re),H(o,e)}function q(t,e,n,r,o,a,s){function l(t,e){return e===!1&&(t+=-1==t.indexOf("?")?"?":"&",t+="_="+(new Date).getTime()),t}return o=o?i.parse(i.stringify(o)):{},r?G(r)||(r=i.stringify(r),o["Content-Type"]=o["Content-Type"]||"application/json"):r=null,t(n||"GET",l(e,s),r,o,a||!1)}function W(t){var e=Z("resume","pause","pipe"),n=V(v,e);return t?n(t)||G(t)?q(B,t):q(B,t.url,t.method,t.body,t.headers,t.withCredentials,t.cached):B()}/*

Copyright (c) 2013, Jim Higson

All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are
met:

1.  Redistributions of source code must retain the above copyright
    notice, this list of conditions and the following disclaimer.

2.  Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the
    documentation and/or other materials provided with the distribution.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

*/
var V=u(function(t,e){var n=e.length;return u(function(r){for(var i=0;i<r.length;i++)e[n+i]=r[i];return e.length=n+r.length,t.apply(this,e)})}),U=(u(function(t){function e(t,e){return[l(t,e)]}var n=b(t);return u(function(t){return $(e,t,n)[0]})}),u(function(t){return u(function(e){for(var n,r=0;r<Y(t);r++)if(n=l(e,t[r]))return n})})),Y=s("length"),G=V(g,String),X=null,K=s(0),Q=s(1),Z=u(b),J=function(){var t=function(t){return t.exec.bind(t)},e=u(function(e){return e.unshift(/^/),t(RegExp(e.map(s("source")).join("")))}),n=/(\$?)/,r=/([\w-_]+|\*)/,i=/()/,o=/\["([^"]+)"\]/,a=/\[(\d+|\*)\]/,l=/{([\w ]*?)}/,c=/(?:{([\w ]*?)})?/,f=e(n,r,c),h=e(n,o,c),p=e(n,a,c),d=e(n,i,l),g=e(/\.\./),m=e(/\./),v=e(n,/!/),y=e(/$/);return function(t){return t(U(f,h,p,d),g,m,v,y)}}(),te=s("key"),ee=s("node"),ne={},re=J(function(t,e,n,i,o){function s(t,e){var n=e[k],r=n&&"*"!=n?function(t){return M(t)==n}:p;return f(r,t)}function l(t,e){var n=e[T];if(!n)return t;var r=V(v,b(n.split(/\W+/))),i=a(r,_);return f(i,t)}function u(t,e){var n=!!e[S];return n?f(t,K):t}function c(t){function e(t){return M(t)!=ne}return t==p?p:f(e,a(t,Q))}function h(t){if(t==p)return p;var e=d(),n=t,r=c(function(t){return i(t)}),i=U(e,n,r);return i}function d(){return function(t){return M(t)==ne}}function g(t){return function(e){var n=t(e);return n===!0?K(e):n}}function m(t,e,n){return $(function(t,e){return e(t,n)},e,t)}function y(t,e,n,r,i){var o=t(n);if(o){var a=m(e,r,o),s=n.substr(Y(o[0]));return i(s,a)}}function w(t,e){return V(y,t,e)}function x(t,e){return e}function C(t,e){var n=t?C:x;return A(t,e,n)}var S=1,k=2,T=3,M=a(te,K),_=a(ee,K),A=U(w(t,Z(u,l,s,c)),w(e,Z(h)),w(n,Z()),w(i,Z(u,d)),w(o,Z(g)),function(t){throw r('"'+t+'" could not be tokenised')});return function(t){try{return C(t,p)}catch(e){throw r('Could not compile "'+t+'" because '+e.message)}}}),ie=1,oe=ie++,ae=ie++,se=ie++,le=ie++,ue="fail",ce=ie++,fe=ie++,he="start",pe="data",de="end",ge=ie++,me=ie++,ve=ie++,ye=ie++;W.drop=function(){return W.drop},"function"==typeof define&&define.amd?define("oboe",[],function(){return W}):"object"==typeof exports?module.exports=W:t.oboe=W}(function(){try{return window}catch(t){return self}}(),Object,Array,Error,JSON),angular.module("ngOboe",[]).service("Oboe",["OboeStream",function(t){return function(e){return t.get(e)}}]).factory("OboeStream",["$q",function(t){return{get:function(e){var n=t.defer(),r=oboe(e).start(function(t){"function"==typeof e.start&&200===t&&e.start(r)}).fail(function(t){n.reject(t)}).node(e.pattern||".",function(t){return n.notify(t),oboe.drop}).done(function(){return"function"==typeof e.done&&e.done(),n.resolve(),oboe.drop});return n.promise}}}]),/*!
 * angular-translate - v2.8.1 - 2015-10-01
 * 
 * Copyright (c) 2015 The angular-translate team, Pascal Precht; Licensed MIT
 */
function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof exports?module.exports=e():e()}(this,function(){function t(t){"use strict";var e=t.storageKey(),n=t.storage(),r=function(){var r=t.preferredLanguage();angular.isString(r)?t.use(r):n.put(e,t.use())};r.displayName="fallbackFromIncorrectStorageValue",n?n.get(e)?t.use(n.get(e))["catch"](r):r():angular.isString(t.preferredLanguage())&&t.use(t.preferredLanguage())}function e(){"use strict";var t,e,n=null,r=!1,i=!1;e={sanitize:function(t,e){return"text"===e&&(t=a(t)),t},escape:function(t,e){return"text"===e&&(t=o(t)),t},sanitizeParameters:function(t,e){return"params"===e&&(t=s(t,a)),t},escapeParameters:function(t,e){return"params"===e&&(t=s(t,o)),t}},e.escaped=e.escapeParameters,this.addStrategy=function(t,n){return e[t]=n,this},this.removeStrategy=function(t){return delete e[t],this},this.useStrategy=function(t){return r=!0,n=t,this},this.$get=["$injector","$log",function(o,a){var s={},l=function(t,n,r){return angular.forEach(r,function(r){if(angular.isFunction(r))t=r(t,n);else if(angular.isFunction(e[r]))t=e[r](t,n);else{if(!angular.isString(e[r]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'");if(!s[e[r]])try{s[e[r]]=o.get(e[r])}catch(i){throw s[e[r]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'")}t=s[e[r]](t,n)}}),t},u=function(){r||i||(a.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),i=!0)};return o.has("$sanitize")&&(t=o.get("$sanitize")),{useStrategy:function(t){return function(e){t.useStrategy(e)}}(this),sanitize:function(t,e,r){if(n||u(),arguments.length<3&&(r=n),!r)return t;var i=angular.isArray(r)?r:[r];return l(t,e,i)}}}];var o=function(t){var e=angular.element("<div></div>");return e.text(t),e.html()},a=function(e){if(!t)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return t(e)},s=function(t,e){if(angular.isObject(t)){var n=angular.isArray(t)?[]:{};return angular.forEach(t,function(t,r){n[r]=s(t,e)}),n}return angular.isNumber(t)?t:e(t)}}function n(t,e,n,r){"use strict";var i,o,a,s,l,u,c,f,h,p,d,g,m,v,y,b={},w=[],x=t,$=[],C="translate-cloak",S=!1,k=!1,T=".",M=!1,_=0,A=!0,E="default",D={"default":function(t){return(t||"").split("-").join("_")},java:function(t){var e=(t||"").split("-").join("_"),n=e.split("_");return n.length>1?n[0].toLowerCase()+"_"+n[1].toUpperCase():e},bcp47:function(t){var e=(t||"").split("_").join("-"),n=e.split("-");return n.length>1?n[0].toLowerCase()+"-"+n[1].toUpperCase():e}},F="2.8.1",O=function(){if(angular.isFunction(r.getLocale))return r.getLocale();var t,n,i=e.$get().navigator,o=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(i.languages))for(t=0;t<i.languages.length;t++)if(n=i.languages[t],n&&n.length)return n;for(t=0;t<o.length;t++)if(n=i[o[t]],n&&n.length)return n;return null};O.displayName="angular-translate/service: getFirstBrowserLanguage";var P=function(){var t=O()||"";return D[E]&&(t=D[E](t)),t};P.displayName="angular-translate/service: getLocale";var L=function(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n;return-1},I=function(){return this.toString().replace(/^\s+|\s+$/g,"")},N=function(t){for(var e=[],n=angular.lowercase(t),r=0,i=w.length;i>r;r++)e.push(angular.lowercase(w[r]));if(L(e,n)>-1)return t;if(o){var a;for(var s in o){var l=!1,u=Object.prototype.hasOwnProperty.call(o,s)&&angular.lowercase(s)===angular.lowercase(t);if("*"===s.slice(-1)&&(l=s.slice(0,-1)===t.slice(0,s.length-1)),(u||l)&&(a=o[s],L(e,angular.lowercase(a))>-1))return a}}if(t){var c=t.split("_");if(c.length>1&&L(e,angular.lowercase(c[0]))>-1)return c[0]}return t},j=function(t,e){if(!t&&!e)return b;if(t&&!e){if(angular.isString(t))return b[t]}else angular.isObject(b[t])||(b[t]={}),angular.extend(b[t],R(e));return this};this.translations=j,this.cloakClassName=function(t){return t?(C=t,this):C},this.nestedObjectDelimeter=function(t){return t?(T=t,this):T};var R=function(t,e,n,r){var i,o,a,s;e||(e=[]),n||(n={});for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s=t[i],angular.isObject(s)?R(s,e.concat(i),n,i):(o=e.length?""+e.join(T)+T+i:i,e.length&&i===r&&(a=""+e.join(T),n[a]="@:"+o),n[o]=s));return n};R.displayName="flatObject",this.addInterpolation=function(t){return $.push(t),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(t){return p=t,this},this.useSanitizeValueStrategy=function(t){return n.useStrategy(t),this},this.preferredLanguage=function(t){return t?(z(t),this):i};var z=function(t){return t&&(i=t),i};this.translationNotFoundIndicator=function(t){return this.translationNotFoundIndicatorLeft(t),this.translationNotFoundIndicatorRight(t),this},this.translationNotFoundIndicatorLeft=function(t){return t?(m=t,this):m},this.translationNotFoundIndicatorRight=function(t){return t?(v=t,this):v},this.fallbackLanguage=function(t){return H(t),this};var H=function(t){return t?(angular.isString(t)?(s=!0,a=[t]):angular.isArray(t)&&(s=!1,a=t),angular.isString(i)&&L(a,i)<0&&a.push(i),this):s?a[0]:a};this.use=function(t){if(t){if(!b[t]&&!d)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+t+"'");return l=t,this}return l};var B=function(t){return t?(x=t,this):f?f+x:x};this.storageKey=B,this.useUrlLoader=function(t,e){return this.useLoader("$translateUrlLoader",angular.extend({url:t},e))},this.useStaticFilesLoader=function(t){return this.useLoader("$translateStaticFilesLoader",t)},this.useLoader=function(t,e){return d=t,g=e||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(t){return c=t,this},this.storagePrefix=function(t){return t?(f=t,this):t},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(t){return h=t,this},this.usePostCompiling=function(t){return S=!!t,this},this.forceAsyncReload=function(t){return k=!!t,this},this.uniformLanguageTag=function(t){return t?angular.isString(t)&&(t={standard:t}):t={},E=t.standard,this},this.determinePreferredLanguage=function(t){var e=t&&angular.isFunction(t)?t():P();return i=w.length?N(e):e,this},this.registerAvailableLanguageKeys=function(t,e){return t?(w=t,e&&(o=e),this):w},this.useLoaderCache=function(t){return t===!1?y=void 0:t===!0?y=!0:"undefined"==typeof t?y="$translationCache":t&&(y=t),this},this.directivePriority=function(t){return void 0===t?_:(_=t,this)},this.statefulFilter=function(t){return void 0===t?A:(A=t,this)},this.$get=["$log","$injector","$rootScope","$q",function(t,e,n,r){var o,f,w,E=e.get(p||"$translateDefaultInterpolation"),D=!1,O={},P={},q=function(t,e,n,s){if(angular.isArray(t)){var u=function(t){for(var i={},o=[],a=function(t){var o=r.defer(),a=function(e){i[t]=e,o.resolve([t,e])};return q(t,e,n,s).then(a,a),o.promise},l=0,u=t.length;u>l;l++)o.push(a(t[l]));return r.all(o).then(function(){return i})};return u(t)}var h=r.defer();t&&(t=I.apply(t));var p=function(){var t=i?P[i]:P[l];if(f=0,c&&!t){var e=o.get(x);if(t=P[e],a&&a.length){var n=L(a,e);f=0===n?1:0,L(a,i)<0&&a.push(i)}}return t}();if(p){var d=function(){ne(t,e,n,s).then(h.resolve,h.reject)};d.displayName="promiseResolved",p["finally"](d,h.reject)}else ne(t,e,n,s).then(h.resolve,h.reject);return h.promise},W=function(t){return m&&(t=[m,t].join(" ")),v&&(t=[t,v].join(" ")),t},V=function(t){l=t,c&&o.put(q.storageKey(),l),n.$emit("$translateChangeSuccess",{language:t}),E.setLocale(l);var e=function(t,e){O[e].setLocale(l)};e.displayName="eachInterpolatorLocaleSetter",angular.forEach(O,e),n.$emit("$translateChangeEnd",{language:t})},U=function(t){if(!t)throw"No language key specified for loading.";var i=r.defer();n.$emit("$translateLoadingStart",{language:t}),D=!0;var o=y;"string"==typeof o&&(o=e.get(o));var a=angular.extend({},g,{key:t,$http:angular.extend({},{cache:o},g.$http)}),s=function(e){var r={};n.$emit("$translateLoadingSuccess",{language:t}),angular.isArray(e)?angular.forEach(e,function(t){angular.extend(r,R(t))}):angular.extend(r,R(e)),D=!1,i.resolve({key:t,table:r}),n.$emit("$translateLoadingEnd",{language:t})};s.displayName="onLoaderSuccess";var l=function(t){n.$emit("$translateLoadingError",{language:t}),i.reject(t),n.$emit("$translateLoadingEnd",{language:t})};return l.displayName="onLoaderError",e.get(d)(a).then(s,l),i.promise};if(c&&(o=e.get(c),!o.get||!o.put))throw new Error("Couldn't use storage '"+c+"', missing get() or put() method!");if($.length){var Y=function(t){var n=e.get(t);n.setLocale(i||l),O[n.getInterpolationIdentifier()]=n};Y.displayName="interpolationFactoryAdder",angular.forEach($,Y)}var G=function(t){var e=r.defer();if(Object.prototype.hasOwnProperty.call(b,t))e.resolve(b[t]);else if(P[t]){var n=function(t){j(t.key,t.table),e.resolve(t.table)};n.displayName="translationTableResolver",P[t].then(n,e.reject)}else e.reject();return e.promise},X=function(t,e,n,i){var o=r.defer(),a=function(r){if(Object.prototype.hasOwnProperty.call(r,e)){i.setLocale(t);var a=r[e];"@:"===a.substr(0,2)?X(t,a.substr(2),n,i).then(o.resolve,o.reject):o.resolve(i.interpolate(r[e],n)),i.setLocale(l)}else o.reject()};return a.displayName="fallbackTranslationResolver",G(t).then(a,o.reject),o.promise},K=function(t,e,n,r){var i,o=b[t];if(o&&Object.prototype.hasOwnProperty.call(o,e)){if(r.setLocale(t),i=r.interpolate(o[e],n),"@:"===i.substr(0,2))return K(t,i.substr(2),n,r);r.setLocale(l)}return i},Q=function(t,n){if(h){var r=e.get(h)(t,l,n);return void 0!==r?r:t}return t},Z=function(t,e,n,i,o){var s=r.defer();if(t<a.length){var l=a[t];X(l,e,n,i).then(s.resolve,function(){Z(t+1,e,n,i,o).then(s.resolve)})}else s.resolve(o?o:Q(e,n));return s.promise},J=function(t,e,n,r){var i;if(t<a.length){var o=a[t];i=K(o,e,n,r),i||(i=J(t+1,e,n,r))}return i},te=function(t,e,n,r){return Z(w>0?w:f,t,e,n,r)},ee=function(t,e,n){return J(w>0?w:f,t,e,n)},ne=function(t,e,n,i){var o=r.defer(),s=l?b[l]:b,u=n?O[n]:E;if(s&&Object.prototype.hasOwnProperty.call(s,t)){var c=s[t];"@:"===c.substr(0,2)?q(c.substr(2),e,n,i).then(o.resolve,o.reject):o.resolve(u.interpolate(c,e))}else{var f;h&&!D&&(f=Q(t,e)),l&&a&&a.length?te(t,e,u,i).then(function(t){o.resolve(t)},function(t){o.reject(W(t))}):h&&!D&&f?o.resolve(i?i:f):i?o.resolve(i):o.reject(W(t))}return o.promise},re=function(t,e,n){var r,i=l?b[l]:b,o=E;if(O&&Object.prototype.hasOwnProperty.call(O,n)&&(o=O[n]),i&&Object.prototype.hasOwnProperty.call(i,t)){var s=i[t];r="@:"===s.substr(0,2)?re(s.substr(2),e,n):o.interpolate(s,e)}else{var u;h&&!D&&(u=Q(t,e)),l&&a&&a.length?(f=0,r=ee(t,e,o)):r=h&&!D&&u?u:W(t)}return r},ie=function(t){u===t&&(u=void 0),P[t]=void 0};q.preferredLanguage=function(t){return t&&z(t),i},q.cloakClassName=function(){return C},q.nestedObjectDelimeter=function(){return T},q.fallbackLanguage=function(t){if(void 0!==t&&null!==t){if(H(t),d&&a&&a.length)for(var e=0,n=a.length;n>e;e++)P[a[e]]||(P[a[e]]=U(a[e]));q.use(q.use())}return s?a[0]:a},q.useFallbackLanguage=function(t){if(void 0!==t&&null!==t)if(t){var e=L(a,t);e>-1&&(w=e)}else w=0},q.proposedLanguage=function(){return u},q.storage=function(){return o},q.use=function(t){if(!t)return l;var e=r.defer();n.$emit("$translateChangeStart",{language:t});var i=N(t);return i&&(t=i),!k&&b[t]||!d||P[t]?u===t&&P[t]?P[t].then(function(t){return e.resolve(t.key),t},function(t){return e.reject(t),r.reject(t)}):(e.resolve(t),V(t)):(u=t,P[t]=U(t).then(function(n){return j(n.key,n.table),e.resolve(n.key),u===t&&V(n.key),n},function(t){return n.$emit("$translateChangeError",{language:t}),e.reject(t),n.$emit("$translateChangeEnd",{language:t}),r.reject(t)}),P[t]["finally"](function(){ie(t)})),e.promise},q.storageKey=function(){return B()},q.isPostCompilingEnabled=function(){return S},q.isForceAsyncReloadEnabled=function(){return k},q.refresh=function(t){function e(){o.resolve(),n.$emit("$translateRefreshEnd",{language:t})}function i(){o.reject(),n.$emit("$translateRefreshEnd",{language:t})}if(!d)throw new Error("Couldn't refresh translation table, no loader registered!");var o=r.defer();if(n.$emit("$translateRefreshStart",{language:t}),t)if(b[t]){var s=function(n){j(n.key,n.table),t===l&&V(l),e()};s.displayName="refreshPostProcessor",U(t).then(s,i)}else i();else{var u=[],c={};if(a&&a.length)for(var f=0,h=a.length;h>f;f++)u.push(U(a[f])),c[a[f]]=!0;l&&!c[l]&&u.push(U(l));var p=function(t){b={},angular.forEach(t,function(t){j(t.key,t.table)}),l&&V(l),e()};p.displayName="refreshPostProcessor",r.all(u).then(p,i)}return o.promise},q.instant=function(t,e,n){if(null===t||angular.isUndefined(t))return t;if(angular.isArray(t)){for(var r={},o=0,s=t.length;s>o;o++)r[t[o]]=q.instant(t[o],e,n);return r}if(angular.isString(t)&&t.length<1)return t;t&&(t=I.apply(t));var u,c=[];i&&c.push(i),l&&c.push(l),a&&a.length&&(c=c.concat(a));for(var f=0,p=c.length;p>f;f++){var d=c[f];if(b[d]&&("undefined"!=typeof b[d][t]?u=re(t,e,n):(m||v)&&(u=W(t))),"undefined"!=typeof u)break}return u||""===u||(u=E.interpolate(t,e),h&&!D&&(u=Q(t,e))),u},q.versionInfo=function(){return F},q.loaderCache=function(){return y},q.directivePriority=function(){return _},q.statefulFilter=function(){return A},q.isReady=function(){return M};var oe=r.defer();oe.promise.then(function(){M=!0}),q.onReady=function(t){var e=r.defer();return angular.isFunction(t)&&e.promise.then(t),M?e.resolve():oe.promise.then(e.resolve),e.promise};var ae=n.$on("$translateReady",function(){oe.resolve(),ae(),ae=null}),se=n.$on("$translateChangeEnd",function(){oe.resolve(),se(),se=null});if(d){if(angular.equals(b,{})&&q.use()&&q.use(q.use()),a&&a.length)for(var le=function(t){return j(t.key,t.table),n.$emit("$translateChangeEnd",{language:t.key}),t},ue=0,ce=a.length;ce>ue;ue++){var fe=a[ue];(k||!b[fe])&&(P[fe]=U(fe).then(le))}}else n.$emit("$translateReady",{language:q.use()});return q}]}function r(t,e){"use strict";var n,r={},i="default";return r.setLocale=function(t){n=t},r.getInterpolationIdentifier=function(){return i},r.useSanitizeValueStrategy=function(t){return e.useStrategy(t),this},r.interpolate=function(n,r){r=r||{},r=e.sanitize(r,"params");var i=t(n)(r);return i=e.sanitize(i,"text")},r}function i(t,e,n,r,i,a){"use strict";var s=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:t.directivePriority(),compile:function(e,l){var u=l.translateValues?l.translateValues:void 0,c=l.translateInterpolation?l.translateInterpolation:void 0,f=e[0].outerHTML.match(/translate-value-+/i),h="^(.*)("+n.startSymbol()+".*"+n.endSymbol()+")(.*)",p="^(.*)"+n.startSymbol()+"(.*)"+n.endSymbol()+"(.*)";return function(e,d,g){e.interpolateParams={},e.preText="",e.postText="",e.translateNamespace=o(e);var m={},v=function(t,n,r){if(n.translateValues&&angular.extend(t,i(n.translateValues)(e.$parent)),f)for(var o in r)if(Object.prototype.hasOwnProperty.call(n,o)&&"translateValue"===o.substr(0,14)&&"translateValues"!==o){var a=angular.lowercase(o.substr(14,1))+o.substr(15);t[a]=r[o]}},y=function(t){if(angular.isFunction(y._unwatchOld)&&(y._unwatchOld(),y._unwatchOld=void 0),angular.equals(t,"")||!angular.isDefined(t)){var r=s.apply(d.text()),i=r.match(h);if(angular.isArray(i)){e.preText=i[1],e.postText=i[3],m.translate=n(i[2])(e.$parent);var o=r.match(p);angular.isArray(o)&&o[2]&&o[2].length&&(y._unwatchOld=e.$watch(o[2],function(t){m.translate=t,S()}))}else m.translate=r}else m.translate=t;S()},b=function(t){g.$observe(t,function(e){m[t]=e,S()})};v(e.interpolateParams,g,l);var w=!0;g.$observe("translate",function(t){"undefined"==typeof t?y(""):""===t&&w||(m.translate=t,S()),w=!1});for(var x in g)g.hasOwnProperty(x)&&"translateAttr"===x.substr(0,13)&&b(x);if(g.$observe("translateDefault",function(t){e.defaultText=t}),u&&g.$observe("translateValues",function(t){t&&e.$parent.$watch(function(){angular.extend(e.interpolateParams,i(t)(e.$parent))})}),f){var $=function(t){g.$observe(t,function(n){var r=angular.lowercase(t.substr(14,1))+t.substr(15);e.interpolateParams[r]=n})};for(var C in g)Object.prototype.hasOwnProperty.call(g,C)&&"translateValue"===C.substr(0,14)&&"translateValues"!==C&&$(C)}var S=function(){for(var t in m)m.hasOwnProperty(t)&&void 0!==m[t]&&k(t,m[t],e,e.interpolateParams,e.defaultText,e.translateNamespace)},k=function(e,n,r,i,o,a){n?(a&&"."===n.charAt(0)&&(n=a+n),t(n,i,c,o).then(function(t){T(t,r,!0,e)},function(t){T(t,r,!1,e)})):T(n,r,!1,e)},T=function(e,n,i,o){if("translate"===o){i||"undefined"==typeof n.defaultText||(e=n.defaultText),d.empty().append(n.preText+e+n.postText);var a=t.isPostCompilingEnabled(),s="undefined"!=typeof l.translateCompile,u=s&&"false"!==l.translateCompile;(a&&!s||u)&&r(d.contents())(n)}else{i||"undefined"==typeof n.defaultText||(e=n.defaultText);var c=g.$attr[o];"data-"===c.substr(0,5)&&(c=c.substr(5)),c=c.substr(15),d.attr(c,e)}};(u||f||g.translateDefault)&&e.$watch("interpolateParams",S,!0);var M=a.$on("$translateChangeSuccess",S);d.text().length?y(g.translate?g.translate:""):g.translate&&y(g.translate),S(),e.$on("$destroy",M)}}}}function o(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?o(t.$parent):void 0}function a(t){"use strict";return{compile:function(e){var n=function(){e.addClass(t.cloakClassName())},r=function(){e.removeClass(t.cloakClassName())};return t.onReady(function(){r()}),n(),function(e,i,o){o.translateCloak&&o.translateCloak.length&&o.$observe("translateCloak",function(e){t(e).then(r,n)})}}}}function s(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(t,e,n){t.translateNamespace=o(t),t.translateNamespace&&"."===n.translateNamespace.charAt(0)?t.translateNamespace+=n.translateNamespace:t.translateNamespace=n.translateNamespace}}}}}function o(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?o(t.$parent):void 0}function l(t,e){"use strict";var n=function(n,r,i){return angular.isObject(r)||(r=t(r)(this)),e.instant(n,r,i)};return e.statefulFilter()&&(n.$stateful=!0),n}function u(t){"use strict";return t("translations")}return angular.module("pascalprecht.translate",["ng"]).run(t),t.$inject=["$translate"],t.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",e),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",n),n.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],n.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",r),r.$inject=["$interpolate","$translateSanitization"],r.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",i),i.$inject=["$translate","$q","$interpolate","$compile","$parse","$rootScope"],i.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateCloak",a),a.$inject=["$translate"],a.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",s),s.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").filter("translate",l),l.$inject=["$parse","$translate"],l.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",u),u.$inject=["$cacheFactory"],u.displayName="$translationCache","pascalprecht.translate"}),function(){"use strict";angular.module("relativeDate",[]).value("now",null).value("relativeDateTranslations",{just_now:"just now",seconds_ago:"{{time}} seconds ago",a_minute_ago:"a minute ago",minutes_ago:"{{time}} minutes ago",an_hour_ago:"an hour ago",hours_ago:"{{time}} hours ago",a_day_ago:"yesterday",days_ago:"{{time}} days ago",a_week_ago:"a week ago",weeks_ago:"{{time}} weeks ago",a_month_ago:"a month ago",months_ago:"{{time}} months ago",a_year_ago:"a year ago",years_ago:"{{time}} years ago",over_a_year_ago:"over a year ago",seconds_from_now:"{{time}} seconds from now",a_minute_from_now:"a minute from now",minutes_from_now:"{{time}} minutes from now",an_hour_from_now:"an hour from now",hours_from_now:"{{time}} hours from now",a_day_from_now:"tomorrow",days_from_now:"{{time}} days from now",a_week_from_now:"a week from now",weeks_from_now:"{{time}} weeks from now",a_month_from_now:"a month from now",months_from_now:"{{time}} months from now",a_year_from_now:"a year from now",years_from_now:"{{time}} years from now",over_a_year_from_now:"over a year from now"}).filter("relativeDate",["$injector","now","relativeDateTranslations",function(t,e,n){var r,i;return r=t.has("$translate")?t.get("$translate"):{instant:function(t,e){return n[t].replace("{{time}}",e.time)}},i=function(t,e){return Math.round(Math.abs(t-e)/1e3)},function(t){var n,o,a,s,l,u,c,f,h;switch(u=e?e:new Date,t instanceof Date||(t=new Date(t)),o=null,s=60,a=60*s,n=24*a,f=7*n,l=30*n,h=365*n,o=i(u,t),o>n&&f>o&&(t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0),o=i(u,t)),c=function(e,n){var i;return i="just_now"===e?e:u>=t?""+e+"_ago":""+e+"_from_now",r.instant(i,{time:n})},!1){case!(30>o):return c("just_now");case!(s>o):return c("seconds",o);case!(2*s>o):return c("a_minute");case!(a>o):return c("minutes",Math.floor(o/s));case 1!==Math.floor(o/a):return c("an_hour");case!(n>o):return c("hours",Math.floor(o/a));case!(2*n>o):return c("a_day");case!(f>o):return c("days",Math.floor(o/n));case 1!==Math.floor(o/f):return c("a_week");case!(l>o):return c("weeks",Math.floor(o/f));case 1!==Math.floor(o/l):return c("a_month");case!(h>o):return c("months",Math.floor(o/l));case 1!==Math.floor(o/h):return c("a_year");default:return c("over_a_year")}}}])}.call(this),/**
 * @license AngularJS v1.4.7
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,n){"use strict";function r(t){return null!=t&&""!==t&&"hasOwnProperty"!==t&&s.test("."+t)}function i(t,i){if(!r(i))throw a("badmember",'Dotted member path "@{0}" is invalid.',i);for(var o=i.split("."),s=0,l=o.length;l>s&&e.isDefined(t);s++){var u=o[s];t=null!==t?t[u]:n}return t}function o(t,n){n=n||{},e.forEach(n,function(t,e){delete n[e]});for(var r in t)!t.hasOwnProperty(r)||"$"===r.charAt(0)&&"$"===r.charAt(1)||(n[r]=t[r]);return n}var a=e.$$minErr("$resource"),s=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;e.module("ngResource",["ng"]).provider("$resource",function(){var t=/^https?:\/\/[^\/]*/,r=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$q",function(s,l){function u(t){return c(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function c(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,e?"%20":"+")}function f(t,e){this.template=t,this.defaults=g({},r.defaults,e),this.urlParams={}}function h(t,u,c,y){function b(t,e){var n={};return e=g({},u,e),d(e,function(e,r){v(e)&&(e=e()),n[r]=e&&e.charAt&&"@"==e.charAt(0)?i(t,e.substr(1)):e}),n}function w(t){return t.resource}function x(t){o(t||{},this)}var $=new f(t,y);return c=g({},r.defaults.actions,c),x.prototype.toJSON=function(){var t=g({},this);return delete t.$promise,delete t.$resolved,t},d(c,function(t,r){var i=/^(POST|PUT|PATCH)$/i.test(t.method);x[r]=function(u,c,f,h){var y,C,S,k={};switch(arguments.length){case 4:S=h,C=f;case 3:case 2:if(!v(c)){k=u,y=c,C=f;break}if(v(u)){C=u,S=c;break}C=c,S=f;case 1:v(u)?C=u:i?y=u:k=u;break;case 0:break;default:throw a("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var T=this instanceof x,M=T?y:t.isArray?[]:new x(y),_={},A=t.interceptor&&t.interceptor.response||w,E=t.interceptor&&t.interceptor.responseError||n;d(t,function(t,e){"params"!=e&&"isArray"!=e&&"interceptor"!=e&&(_[e]=m(t))}),i&&(_.data=y),$.setUrlParams(_,g({},b(y,t.params||{}),k),t.url);var D=s(_).then(function(n){var i=n.data,s=M.$promise;if(i){if(e.isArray(i)!==!!t.isArray)throw a("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",r,t.isArray?"array":"object",e.isArray(i)?"array":"object",_.method,_.url);t.isArray?(M.length=0,d(i,function(t){M.push("object"==typeof t?new x(t):t)})):(o(i,M),M.$promise=s)}return M.$resolved=!0,n.resource=M,n},function(t){return M.$resolved=!0,(S||p)(t),l.reject(t)});return D=D.then(function(t){var e=A(t);return(C||p)(e,t.headers),e},E),T?D:(M.$promise=D,M.$resolved=!1,M)},x.prototype["$"+r]=function(t,e,n){v(t)&&(n=e,e=t,t={});var i=x[r].call(this,t,this,e,n);return i.$promise||i}}),x.bind=function(e){return h(t,g({},u,e),c)},x}var p=e.noop,d=e.forEach,g=e.extend,m=e.copy,v=e.isFunction;return f.prototype={setUrlParams:function(n,r,i){var o,s,l=this,c=i||l.template,f="",h=l.urlParams={};d(c.split(/\W/),function(t){if("hasOwnProperty"===t)throw a("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(t)&&t&&new RegExp("(^|[^\\\\]):"+t+"(\\W|$)").test(c)&&(h[t]=!0)}),c=c.replace(/\\:/g,":"),c=c.replace(t,function(t){return f=t,""}),r=r||{},d(l.urlParams,function(t,n){o=r.hasOwnProperty(n)?r[n]:l.defaults[n],e.isDefined(o)&&null!==o?(s=u(o),c=c.replace(new RegExp(":"+n+"(\\W|$)","g"),function(t,e){return s+e})):c=c.replace(new RegExp("(/?):"+n+"(\\W|$)","g"),function(t,e,n){return"/"==n.charAt(0)?n:e+n})}),l.defaults.stripTrailingSlashes&&(c=c.replace(/\/+$/,"")||"/"),c=c.replace(/\/\.(?=\w+($|\?))/,"."),n.url=f+c.replace(/\/\\\./,"/."),d(r,function(t,e){l.urlParams[e]||(n.params=n.params||{},n.params[e]=t)})}},h}]})}(window,window.angular),/**
 * @license AngularJS v1.3.4
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e){"use strict";function n(t,n,i){r.directive(t,["$parse","$swipe",function(r,o){var a=75,s=.3,l=30;return function(u,c,f){function h(t){if(!p)return!1;var e=Math.abs(t.y-p.y),r=(t.x-p.x)*n;return d&&a>e&&r>0&&r>l&&s>e/r}var p,d,g=r(f[t]),m=["touch"];e.isDefined(f.ngSwipeDisableMouse)||m.push("mouse"),o.bind(c,{start:function(t){p=t,d=!0},cancel:function(){d=!1},end:function(t,e){h(t)&&u.$apply(function(){c.triggerHandler(i),g(u,{$event:e})})}},m)}}])}var r=e.module("ngTouch",[]);r.factory("$swipe",[function(){function t(t){var e=t.touches&&t.touches.length?t.touches:[t],n=t.changedTouches&&t.changedTouches[0]||t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]||e[0].originalEvent||e[0];return{x:n.clientX,y:n.clientY}}function n(t,n){var r=[];return e.forEach(t,function(t){var e=i[t][n];e&&r.push(e)}),r.join(" ")}var r=10,i={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};return{bind:function(e,i,o){var a,s,l,u,c=!1;o=o||["mouse","touch"],e.on(n(o,"start"),function(e){l=t(e),c=!0,a=0,s=0,u=l,i.start&&i.start(l,e)});var f=n(o,"cancel");f&&e.on(f,function(t){c=!1,i.cancel&&i.cancel(t)}),e.on(n(o,"move"),function(e){if(c&&l){var n=t(e);if(a+=Math.abs(n.x-u.x),s+=Math.abs(n.y-u.y),u=n,!(r>a&&r>s))return s>a?(c=!1,void(i.cancel&&i.cancel(e))):(e.preventDefault(),void(i.move&&i.move(n,e)))}}),e.on(n(o,"end"),function(e){c&&(c=!1,i.end&&i.end(t(e),e))})}}}]),r.config(["$provide",function(t){t.decorator("ngClickDirective",["$delegate",function(t){return t.shift(),t}])}]),r.directive("ngClick",["$parse","$timeout","$rootElement",function(t,n,r){function i(t,e,n,r){return Math.abs(t-n)<g&&Math.abs(e-r)<g}function o(t,e,n){for(var r=0;r<t.length;r+=2)if(i(t[r],t[r+1],e,n))return t.splice(r,r+2),!0;return!1}function a(t){if(!(Date.now()-u>d)){var e=t.touches&&t.touches.length?t.touches:[t],n=e[0].clientX,r=e[0].clientY;1>n&&1>r||f&&f[0]===n&&f[1]===r||(f&&(f=null),"label"===t.target.tagName.toLowerCase()&&(f=[n,r]),o(c,n,r)||(t.stopPropagation(),t.preventDefault(),t.target&&t.target.blur()))}}function s(t){var e=t.touches&&t.touches.length?t.touches:[t],r=e[0].clientX,i=e[0].clientY;c.push(r,i),n(function(){for(var t=0;t<c.length;t+=2)if(c[t]==r&&c[t+1]==i)return void c.splice(t,t+2)},d,!1)}function l(t,e){c||(r[0].addEventListener("click",a,!0),r[0].addEventListener("touchstart",s,!0),c=[]),u=Date.now(),o(c,t,e)}var u,c,f,h=750,p=12,d=2500,g=25,m="ng-click-active";return function(n,r,i){function o(){d=!1,r.removeClass(m)}var a,s,u,c,f=t(i.ngClick),d=!1;r.on("touchstart",function(t){d=!0,a=t.target?t.target:t.srcElement,3==a.nodeType&&(a=a.parentNode),r.addClass(m),s=Date.now();var e=t.touches&&t.touches.length?t.touches:[t],n=e[0].originalEvent||e[0];u=n.clientX,c=n.clientY}),r.on("touchmove",function(){o()}),r.on("touchcancel",function(){o()}),r.on("touchend",function(t){var n=Date.now()-s,f=t.changedTouches&&t.changedTouches.length?t.changedTouches:t.touches&&t.touches.length?t.touches:[t],g=f[0].originalEvent||f[0],m=g.clientX,v=g.clientY,y=Math.sqrt(Math.pow(m-u,2)+Math.pow(v-c,2));d&&h>n&&p>y&&(l(m,v),a&&a.blur(),e.isDefined(i.disabled)&&i.disabled!==!1||r.triggerHandler("click",[t])),o()}),r.onclick=function(){},r.on("click",function(t,e){n.$apply(function(){f(n,{$event:e||t})})}),r.on("mousedown",function(){r.addClass(m)}),r.on("mousemove mouseup",function(){r.removeClass(m)})}}]),n("ngSwipeLeft",-1,"swipeleft"),n("ngSwipeRight",1,"swiperight")}(window,window.angular),// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE
function(t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else{if("function"==typeof define&&define.amd)return define([],t);this.CodeMirror=t()}}(function(){"use strict";function t(n,r){if(!(this instanceof t))return new t(n,r);this.options=r=r?No(r):{},No(Za,r,!1),p(r);var i=r.value;"string"==typeof i&&(i=new $s(i,r.mode,null,r.lineSeparator)),this.doc=i;var o=new t.inputStyles[r.inputStyle](this),a=this.display=new e(n,i,o);a.wrapper.CodeMirror=this,u(this),s(this),r.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),r.autofocus&&!_a&&a.input.focus(),v(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Eo,keySeq:null,specialChars:null};var l=this;ya&&11>ba&&setTimeout(function(){l.display.input.reset(!0)},20),Bn(this),Xo(),wn(this),this.curOp.forceUpdate=!0,Xi(this,i),r.autofocus&&!_a||l.hasFocus()?setTimeout(jo(mr,this),20):vr(this);for(var c in Ja)Ja.hasOwnProperty(c)&&Ja[c](this,r[c],ts);$(this),r.finishInit&&r.finishInit(this);for(var f=0;f<is.length;++f)is[f](this);$n(this),wa&&r.lineWrapping&&"optimizelegibility"==getComputedStyle(a.lineDiv).textRendering&&(a.lineDiv.style.textRendering="auto")}function e(t,e,n){var r=this;this.input=n,r.scrollbarFiller=Bo("div",null,"CodeMirror-scrollbar-filler"),r.scrollbarFiller.setAttribute("cm-not-content","true"),r.gutterFiller=Bo("div",null,"CodeMirror-gutter-filler"),r.gutterFiller.setAttribute("cm-not-content","true"),r.lineDiv=Bo("div",null,"CodeMirror-code"),r.selectionDiv=Bo("div",null,null,"position: relative; z-index: 1"),r.cursorDiv=Bo("div",null,"CodeMirror-cursors"),r.measure=Bo("div",null,"CodeMirror-measure"),r.lineMeasure=Bo("div",null,"CodeMirror-measure"),r.lineSpace=Bo("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none"),r.mover=Bo("div",[Bo("div",[r.lineSpace],"CodeMirror-lines")],null,"position: relative"),r.sizer=Bo("div",[r.mover],"CodeMirror-sizer"),r.sizerWidth=null,r.heightForcer=Bo("div",null,null,"position: absolute; height: "+Os+"px; width: 1px;"),r.gutters=Bo("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=Bo("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=Bo("div",[r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),ya&&8>ba&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),wa||ga&&_a||(r.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(r.wrapper):t(r.wrapper)),r.viewFrom=r.viewTo=e.first,r.reportedViewFrom=r.reportedViewTo=e.first,r.view=[],r.renderedView=null,r.externalMeasured=null,r.viewOffset=0,r.lastWrapHeight=r.lastWrapWidth=0,r.updateLineNumbers=null,r.nativeBarWidth=r.barHeight=r.barWidth=0,r.scrollbarsClipped=!1,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.alignWidgets=!1,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r.shift=!1,r.selForContextMenu=null,r.activeTouch=null,n.init(r)}function n(e){e.doc.mode=t.getMode(e.options,e.doc.modeOption),r(e)}function r(t){t.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),t.doc.frontier=t.doc.first,je(t,100),t.state.modeGen++,t.curOp&&Ln(t)}function i(t){t.options.lineWrapping?(Ks(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(Xs(t.display.wrapper,"CodeMirror-wrap"),h(t)),a(t),Ln(t),sn(t),setTimeout(function(){y(t)},100)}function o(t){var e=yn(t.display),n=t.options.lineWrapping,r=n&&Math.max(5,t.display.scroller.clientWidth/bn(t.display)-3);return function(i){if(xi(t.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*e:o+e}}function a(t){var e=t.doc,n=o(t);e.iter(function(t){var e=n(t);e!=t.height&&Ji(t,e)})}function s(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),sn(t)}function l(t){u(t),Ln(t),setTimeout(function(){x(t)},20)}function u(t){var e=t.display.gutters,n=t.options.gutters;qo(e);for(var r=0;r<n.length;++r){var i=n[r],o=e.appendChild(Bo("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(t.display.lineGutter=o,o.style.width=(t.display.lineNumWidth||1)+"px")}e.style.display=r?"":"none",c(t)}function c(t){var e=t.display.gutters.offsetWidth;t.display.sizer.style.marginLeft=e+"px"}function f(t){if(0==t.height)return 0;for(var e,n=t.text.length,r=t;e=di(r);){var i=e.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=t;e=gi(r);){var i=e.find(0,!0);n-=r.text.length-i.from.ch,r=i.to.line,n+=r.text.length-i.to.ch}return n}function h(t){var e=t.display,n=t.doc;e.maxLine=Ki(n,n.first),e.maxLineLength=f(e.maxLine),e.maxLineChanged=!0,n.iter(function(t){var n=f(t);n>e.maxLineLength&&(e.maxLineLength=n,e.maxLine=t)})}function p(t){var e=Oo(t.gutters,"CodeMirror-linenumbers");-1==e&&t.lineNumbers?t.gutters=t.gutters.concat(["CodeMirror-linenumbers"]):e>-1&&!t.lineNumbers&&(t.gutters=t.gutters.slice(0),t.gutters.splice(e,1))}function d(t){var e=t.display,n=e.gutters.offsetWidth,r=Math.round(t.doc.height+qe(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Ve(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:n}}function g(t,e,n){this.cm=n;var r=this.vert=Bo("div",[Bo("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=Bo("div",[Bo("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");t(r),t(i),_s(r,"scroll",function(){r.clientHeight&&e(r.scrollTop,"vertical")}),_s(i,"scroll",function(){i.clientWidth&&e(i.scrollLeft,"horizontal")}),this.checkedOverlay=!1,ya&&8>ba&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function m(){}function v(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&Xs(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new t.scrollbarModel[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),_s(t,"mousedown",function(){e.state.focused&&setTimeout(function(){e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){"horizontal"==n?ir(e,t):rr(e,t)},e),e.display.scrollbars.addClass&&Ks(e.display.wrapper,e.display.scrollbars.addClass)}function y(t,e){e||(e=d(t));var n=t.display.barWidth,r=t.display.barHeight;b(t,e);for(var i=0;4>i&&n!=t.display.barWidth||r!=t.display.barHeight;i++)n!=t.display.barWidth&&t.options.lineWrapping&&D(t),b(t,d(t)),n=t.display.barWidth,r=t.display.barHeight}function b(t,e){var n=t.display,r=n.scrollbars.update(e);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=e.gutterWidth+"px"):n.gutterFiller.style.display=""}function w(t,e,n){var r=n&&null!=n.top?Math.max(0,n.top):t.scroller.scrollTop;r=Math.floor(r-Be(t));var i=n&&null!=n.bottom?n.bottom:r+t.wrapper.clientHeight,o=eo(e,r),a=eo(e,i);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;o>s?(o=s,a=eo(e,no(Ki(e,s))+t.wrapper.clientHeight)):Math.min(l,e.lastLine())>=a&&(o=eo(e,no(Ki(e,l))-t.wrapper.clientHeight),a=l)}return{from:o,to:Math.max(a,o+1)}}function x(t){var e=t.display,n=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var r=S(e)-e.scroller.scrollLeft+t.doc.scrollLeft,i=e.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){t.options.fixedGutter&&n[a].gutter&&(n[a].gutter.style.left=o);var s=n[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}t.options.fixedGutter&&(e.gutters.style.left=r+i+"px")}}function $(t){if(!t.options.lineNumbers)return!1;var e=t.doc,n=C(t.options,e.first+e.size-1),r=t.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(Bo("div",[Bo("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",c(t),!0}return!1}function C(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function S(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function k(t,e,n){var r=t.display;this.viewport=e,this.visible=w(r,t.doc,e),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Ue(t),this.force=n,this.dims=O(t),this.events=[]}function T(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=Ve(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=Ve(t)+"px",e.scrollbarsClipped=!0)}function M(t,e){var n=t.display,r=t.doc;if(e.editorIsHidden)return Nn(t),!1;if(!e.force&&e.visible.from>=n.viewFrom&&e.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==Hn(t))return!1;$(t)&&(Nn(t),e.dims=O(t));var i=r.first+r.size,o=Math.max(e.visible.from-t.options.viewportMargin,r.first),a=Math.min(i,e.visible.to+t.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(i,n.viewTo)),La&&(o=bi(t.doc,o),a=wi(t.doc,a));var s=o!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=e.wrapperHeight||n.lastWrapWidth!=e.wrapperWidth;zn(t,o,a),n.viewOffset=no(Ki(t.doc,n.viewFrom)),t.display.mover.style.top=n.viewOffset+"px";var l=Hn(t);if(!s&&0==l&&!e.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=Vo();return l>4&&(n.lineDiv.style.display="none"),P(t,n.updateLineNumbers,e.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,u&&Vo()!=u&&u.offsetHeight&&u.focus(),qo(n.cursorDiv),qo(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=e.wrapperHeight,n.lastWrapWidth=e.wrapperWidth,je(t,400)),n.updateLineNumbers=null,!0}function _(t,e){for(var n=e.viewport,r=!0;(r&&t.options.lineWrapping&&e.oldDisplayWidth!=Ue(t)||(n&&null!=n.top&&(n={top:Math.min(t.doc.height+qe(t.display)-Ye(t),n.top)}),e.visible=w(t.display,t.doc,n),!(e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)))&&M(t,e);r=!1){D(t);var i=d(t);Oe(t),E(t,i),y(t,i)}e.signal(t,"update",t),(t.display.viewFrom!=t.display.reportedViewFrom||t.display.viewTo!=t.display.reportedViewTo)&&(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function A(t,e){var n=new k(t,e);if(M(t,n)){D(t),_(t,n);var r=d(t);Oe(t),E(t,r),y(t,r),n.finish()}}function E(t,e){t.display.sizer.style.minHeight=e.docHeight+"px";var n=e.docHeight+t.display.barHeight;t.display.heightForcer.style.top=n+"px",t.display.gutters.style.height=Math.max(n+Ve(t),e.clientHeight)+"px"}function D(t){for(var e=t.display,n=e.lineDiv.offsetTop,r=0;r<e.view.length;r++){var i,o=e.view[r];if(!o.hidden){if(ya&&8>ba){var a=o.node.offsetTop+o.node.offsetHeight;i=a-n,n=a}else{var s=o.node.getBoundingClientRect();i=s.bottom-s.top}var l=o.line.height-i;if(2>i&&(i=yn(e)),(l>.001||-.001>l)&&(Ji(o.line,i),F(o.line),o.rest))for(var u=0;u<o.rest.length;u++)F(o.rest[u])}}}function F(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e)t.widgets[e].height=t.widgets[e].node.offsetHeight}function O(t){for(var e=t.display,n={},r={},i=e.gutters.clientLeft,o=e.gutters.firstChild,a=0;o;o=o.nextSibling,++a)n[t.options.gutters[a]]=o.offsetLeft+o.clientLeft+i,r[t.options.gutters[a]]=o.clientWidth;return{fixedPos:S(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:e.wrapper.clientWidth}}function P(t,e,n){function r(e){var n=e.nextSibling;return wa&&Aa&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),n}for(var i=t.display,o=t.options.lineNumbers,a=i.lineDiv,s=a.firstChild,l=i.view,u=i.viewFrom,c=0;c<l.length;c++){var f=l[c];if(f.hidden);else if(f.node&&f.node.parentNode==a){for(;s!=f.node;)s=r(s);var h=o&&null!=e&&u>=e&&f.lineNumber;f.changes&&(Oo(f.changes,"gutter")>-1&&(h=!1),L(t,f,u,n)),h&&(qo(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(C(t.options,u)))),s=f.node.nextSibling}else{var p=q(t,f,u,n);a.insertBefore(p,s)}u+=f.size}for(;s;)s=r(s)}function L(t,e,n,r){for(var i=0;i<e.changes.length;i++){var o=e.changes[i];"text"==o?R(t,e):"gutter"==o?H(t,e,n,r):"class"==o?z(e):"widget"==o&&B(t,e,r)}e.changes=null}function I(t){return t.node==t.text&&(t.node=Bo("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),ya&&8>ba&&(t.node.style.zIndex=2)),t.node}function N(t){var e=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(e&&(e+=" CodeMirror-linebackground"),t.background)e?t.background.className=e:(t.background.parentNode.removeChild(t.background),t.background=null);else if(e){var n=I(t);t.background=n.insertBefore(Bo("div",null,e),n.firstChild)}}function j(t,e){var n=t.display.externalMeasured;return n&&n.line==e.line?(t.display.externalMeasured=null,e.measure=n.measure,n.built):Ni(t,e)}function R(t,e){var n=e.text.className,r=j(t,e);e.text==e.node&&(e.node=r.pre),e.text.parentNode.replaceChild(r.pre,e.text),e.text=r.pre,r.bgClass!=e.bgClass||r.textClass!=e.textClass?(e.bgClass=r.bgClass,e.textClass=r.textClass,z(e)):n&&(e.text.className=n)}function z(t){N(t),t.line.wrapClass?I(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var e=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=e||""}function H(t,e,n,r){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var i=I(e);e.gutterBackground=Bo("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),i.insertBefore(e.gutterBackground,e.text)}var o=e.line.gutterMarkers;if(t.options.lineNumbers||o){var i=I(e),a=e.gutter=Bo("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(t.display.input.setUneditable(a),i.insertBefore(a,e.text),e.line.gutterClass&&(a.className+=" "+e.line.gutterClass),!t.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(e.lineNumber=a.appendChild(Bo("div",C(t.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),o)for(var s=0;s<t.options.gutters.length;++s){var l=t.options.gutters[s],u=o.hasOwnProperty(l)&&o[l];u&&a.appendChild(Bo("div",[u],"CodeMirror-gutter-elt","left: "+r.gutterLeft[l]+"px; width: "+r.gutterWidth[l]+"px"))}}}function B(t,e,n){e.alignable&&(e.alignable=null);for(var r,i=e.node.firstChild;i;i=r){var r=i.nextSibling;"CodeMirror-linewidget"==i.className&&e.node.removeChild(i)}W(t,e,n)}function q(t,e,n,r){var i=j(t,e);return e.text=e.node=i.pre,i.bgClass&&(e.bgClass=i.bgClass),i.textClass&&(e.textClass=i.textClass),z(e),H(t,e,n,r),W(t,e,r),e.node}function W(t,e,n){if(V(t,e.line,e,n,!0),e.rest)for(var r=0;r<e.rest.length;r++)V(t,e.rest[r],e,n,!1)}function V(t,e,n,r,i){if(e.widgets)for(var o=I(n),a=0,s=e.widgets;a<s.length;++a){var l=s[a],u=Bo("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),U(l,u,n,r),t.display.input.setUneditable(u),i&&l.above?o.insertBefore(u,n.gutter||n.text):o.appendChild(u),So(l,"redraw")}}function U(t,e,n,r){if(t.noHScroll){(n.alignable||(n.alignable=[])).push(e);var i=r.wrapperWidth;e.style.left=r.fixedPos+"px",t.coverGutter||(i-=r.gutterTotalWidth,e.style.paddingLeft=r.gutterTotalWidth+"px"),e.style.width=i+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-r.gutterTotalWidth+"px"))}function Y(t){return Ia(t.line,t.ch)}function G(t,e){return Na(t,e)<0?e:t}function X(t,e){return Na(t,e)<0?t:e}function K(t){t.state.focused||(t.display.input.focus(),mr(t))}function Q(t){return t.options.readOnly||t.doc.cantEdit}function Z(t,e,n,r,i){var o=t.doc;t.display.shift=!1,r||(r=o.sel);var a=t.state.pasteIncoming||"paste"==i,s=o.splitLines(e),l=null;if(a&&r.ranges.length>1)if(ja&&ja.join("\n")==e){if(r.ranges.length%ja.length==0){l=[];for(var u=0;u<ja.length;u++)l.push(o.splitLines(ja[u]))}}else s.length==r.ranges.length&&(l=Po(s,function(t){return[t]}));for(var u=r.ranges.length-1;u>=0;u--){var c=r.ranges[u],f=c.from(),h=c.to();c.empty()&&(n&&n>0?f=Ia(f.line,f.ch-n):t.state.overwrite&&!a&&(h=Ia(h.line,Math.min(Ki(o,h.line).text.length,h.ch+Fo(s).length))));var p=t.curOp.updateInput,d={from:f,to:h,text:l?l[u%l.length]:s,origin:i||(a?"paste":t.state.cutIncoming?"cut":"+input")};kr(t.doc,d),So(t,"inputRead",t,d)}e&&!a&&te(t,e),Nr(t),t.curOp.updateInput=p,t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=!1}function J(t,e){var n=t.clipboardData&&t.clipboardData.getData("text/plain");return n?(t.preventDefault(),Q(e)||e.options.disableInput||An(e,function(){Z(e,n,0,null,"paste")}),!0):void 0}function te(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var n=t.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=t.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(e.indexOf(o.electricChars.charAt(s))>-1){a=Rr(t,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Ki(t.doc,i.head.line).text.slice(0,i.head.ch))&&(a=Rr(t,i.head.line,"smart"));a&&So(t,"electricInput",t,i.head.line)}}}function ee(t){for(var e=[],n=[],r=0;r<t.doc.sel.ranges.length;r++){var i=t.doc.sel.ranges[r].head.line,o={anchor:Ia(i,0),head:Ia(i+1,0)};n.push(o),e.push(t.getRange(o.anchor,o.head))}return{text:e,ranges:n}}function ne(t){t.setAttribute("autocorrect","off"),t.setAttribute("autocapitalize","off"),t.setAttribute("spellcheck","false")}function re(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new Eo,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function ie(){var t=Bo("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),e=Bo("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return wa?t.style.width="1000px":t.setAttribute("wrap","off"),Ma&&(t.style.border="1px solid black"),ne(t),e}function oe(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Eo,this.gracePeriod=!1}function ae(t,e){var n=Ze(t,e.line);if(!n||n.hidden)return null;var r=Ki(t.doc,e.line),i=Xe(n,r,e.line),o=ro(r),a="left";if(o){var s=ua(o,e.ch);a=s%2?"right":"left"}var l=en(i.map,e.ch,a);return l.offset="right"==l.collapse?l.end:l.start,l}function se(t,e){return e&&(t.bad=!0),t}function le(t,e,n){var r;if(e==t.display.lineDiv){if(r=t.display.lineDiv.childNodes[n],!r)return se(t.clipPos(Ia(t.display.viewTo-1)),!0);e=null,n=0}else for(r=e;;r=r.parentNode){if(!r||r==t.display.lineDiv)return null;if(r.parentNode&&r.parentNode==t.display.lineDiv)break}for(var i=0;i<t.display.view.length;i++){var o=t.display.view[i];if(o.node==r)return ue(o,e,n)}}function ue(t,e,n){function r(e,n,r){for(var i=-1;i<(c?c.length:0);i++)for(var o=0>i?u.map:c[i],a=0;a<o.length;a+=3){var s=o[a+2];if(s==e||s==n){var l=to(0>i?t.line:t.rest[i]),f=o[a]+r;return(0>r||s!=e)&&(f=o[a+(r?1:0)]),Ia(l,f)}}}var i=t.text.firstChild,o=!1;if(!e||!Us(i,e))return se(Ia(to(t.line),0),!0);if(e==i&&(o=!0,e=i.childNodes[n],n=0,!e)){var a=t.rest?Fo(t.rest):t.line;return se(Ia(to(a),a.text.length),o)}var s=3==e.nodeType?e:null,l=e;for(s||1!=e.childNodes.length||3!=e.firstChild.nodeType||(s=e.firstChild,n&&(n=s.nodeValue.length));l.parentNode!=i;)l=l.parentNode;var u=t.measure,c=u.maps,f=r(s,l,n);if(f)return se(f,o);for(var h=l.nextSibling,p=s?s.nodeValue.length-n:0;h;h=h.nextSibling){if(f=r(h,h.firstChild,0))return se(Ia(f.line,f.ch-p),o);p+=h.textContent.length}for(var d=l.previousSibling,p=n;d;d=d.previousSibling){if(f=r(d,d.firstChild,-1))return se(Ia(f.line,f.ch+p),o);p+=h.textContent.length}}function ce(t,e,n,r,i){function o(t){return function(e){return e.id==t}}function a(e){if(1==e.nodeType){var n=e.getAttribute("cm-text");if(null!=n)return""==n&&(n=e.textContent.replace(/\u200b/g,"")),void(s+=n);var c,f=e.getAttribute("cm-marker");if(f){var h=t.findMarks(Ia(r,0),Ia(i+1,0),o(+f));return void(h.length&&(c=h[0].find())&&(s+=Qi(t.doc,c.from,c.to).join(u)))}if("false"==e.getAttribute("contenteditable"))return;for(var p=0;p<e.childNodes.length;p++)a(e.childNodes[p]);/^(pre|div|p)$/i.test(e.nodeName)&&(l=!0)}else if(3==e.nodeType){var d=e.nodeValue;if(!d)return;l&&(s+=u,l=!1),s+=d}}for(var s="",l=!1,u=t.doc.lineSeparator();a(e),e!=n;)e=e.nextSibling;return s}function fe(t,e){this.ranges=t,this.primIndex=e}function he(t,e){this.anchor=t,this.head=e}function pe(t,e){var n=t[e];t.sort(function(t,e){return Na(t.from(),e.from())}),e=Oo(t,n);for(var r=1;r<t.length;r++){var i=t[r],o=t[r-1];if(Na(o.to(),i.from())>=0){var a=X(o.from(),i.from()),s=G(o.to(),i.to()),l=o.empty()?i.from()==i.head:o.from()==o.head;e>=r&&--e,t.splice(--r,2,new he(l?s:a,l?a:s))}}return new fe(t,e)}function de(t,e){return new fe([new he(t,e||t)],0)}function ge(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function me(t,e){if(e.line<t.first)return Ia(t.first,0);var n=t.first+t.size-1;return e.line>n?Ia(n,Ki(t,n).text.length):ve(e,Ki(t,e.line).text.length)}function ve(t,e){var n=t.ch;return null==n||n>e?Ia(t.line,e):0>n?Ia(t.line,0):t}function ye(t,e){return e>=t.first&&e<t.first+t.size}function be(t,e){for(var n=[],r=0;r<e.length;r++)n[r]=me(t,e[r]);return n}function we(t,e,n,r){if(t.cm&&t.cm.display.shift||t.extend){var i=e.anchor;if(r){var o=Na(n,i)<0;o!=Na(r,i)<0?(i=n,n=r):o!=Na(n,r)<0&&(n=r)}return new he(i,n)}return new he(r||n,n)}function xe(t,e,n,r){Me(t,new fe([we(t,t.sel.primary(),e,n)],0),r)}function $e(t,e,n){for(var r=[],i=0;i<t.sel.ranges.length;i++)r[i]=we(t,t.sel.ranges[i],e[i],null);var o=pe(r,t.sel.primIndex);Me(t,o,n)}function Ce(t,e,n,r){var i=t.sel.ranges.slice(0);i[e]=n,Me(t,pe(i,t.sel.primIndex),r)}function Se(t,e,n,r){Me(t,de(e,n),r)}function ke(t,e){var n={ranges:e.ranges,update:function(e){this.ranges=[];for(var n=0;n<e.length;n++)this.ranges[n]=new he(me(t,e[n].anchor),me(t,e[n].head))}};return Ds(t,"beforeSelectionChange",t,n),t.cm&&Ds(t.cm,"beforeSelectionChange",t.cm,n),n.ranges!=e.ranges?pe(n.ranges,n.ranges.length-1):e}function Te(t,e,n){var r=t.history.done,i=Fo(r);i&&i.ranges?(r[r.length-1]=e,_e(t,e,n)):Me(t,e,n)}function Me(t,e,n){_e(t,e,n),co(t,t.sel,t.cm?t.cm.curOp.id:0/0,n)}function _e(t,e,n){(_o(t,"beforeSelectionChange")||t.cm&&_o(t.cm,"beforeSelectionChange"))&&(e=ke(t,e));var r=n&&n.bias||(Na(e.primary().head,t.sel.primary().head)<0?-1:1);Ae(t,De(t,e,r,!0)),n&&n.scroll===!1||!t.cm||Nr(t.cm)}function Ae(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=t.cm.curOp.selectionChanged=!0,Mo(t.cm)),So(t,"cursorActivity",t))}function Ee(t){Ae(t,De(t,t.sel,null,!1),Ls)}function De(t,e,n,r){for(var i,o=0;o<e.ranges.length;o++){var a=e.ranges[o],s=Fe(t,a.anchor,n,r),l=Fe(t,a.head,n,r);(i||s!=a.anchor||l!=a.head)&&(i||(i=e.ranges.slice(0,o)),i[o]=new he(s,l))}return i?pe(i,e.primIndex):e}function Fe(t,e,n,r){var i=!1,o=e,a=n||1;t.cantEdit=!1;t:for(;;){var s=Ki(t,o.line);if(s.markedSpans)for(var l=0;l<s.markedSpans.length;++l){var u=s.markedSpans[l],c=u.marker;if((null==u.from||(c.inclusiveLeft?u.from<=o.ch:u.from<o.ch))&&(null==u.to||(c.inclusiveRight?u.to>=o.ch:u.to>o.ch))){if(r&&(Ds(c,"beforeCursorEnter"),c.explicitlyCleared)){if(s.markedSpans){--l;continue}break}if(!c.atomic)continue;var f=c.find(0>a?-1:1);if(0==Na(f,o)&&(f.ch+=a,f.ch<0?f=f.line>t.first?me(t,Ia(f.line-1)):null:f.ch>s.text.length&&(f=f.line<t.first+t.size-1?Ia(f.line+1,0):null),!f)){if(i)return r?(t.cantEdit=!0,Ia(t.first,0)):Fe(t,e,n,!0);i=!0,f=e,a=-a}o=f;continue t}}return o}}function Oe(t){t.display.input.showSelection(t.display.input.prepareSelection())}function Pe(t,e){for(var n=t.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(e!==!1||a!=n.sel.primIndex){var s=n.sel.ranges[a],l=s.empty();(l||t.options.showCursorWhenSelecting)&&Le(t,s.head,i),l||Ie(t,s,o)}return r}function Le(t,e,n){var r=pn(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),i=n.appendChild(Bo("div","","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*t.options.cursorHeight+"px",r.other){var o=n.appendChild(Bo("div","","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function Ie(t,e,n){function r(t,e,n,r){0>e&&(e=0),e=Math.round(e),r=Math.round(r),s.appendChild(Bo("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px; top: "+e+"px; width: "+(null==n?c-t:n)+"px; height: "+(r-e)+"px"))}function i(e,n,i){function o(n,r){return hn(t,Ia(e,n),"div",f,r)}var s,l,f=Ki(a,e),h=f.text.length;return ta(ro(f),n||0,null==i?h:i,function(t,e,a){var f,p,d,g=o(t,"left");if(t==e)f=g,p=d=g.left;else{if(f=o(e-1,"right"),"rtl"==a){var m=g;g=f,f=m}p=g.left,d=f.right}null==n&&0==t&&(p=u),f.top-g.top>3&&(r(p,g.top,null,g.bottom),p=u,g.bottom<f.top&&r(p,g.bottom,null,f.top)),null==i&&e==h&&(d=c),(!s||g.top<s.top||g.top==s.top&&g.left<s.left)&&(s=g),(!l||f.bottom>l.bottom||f.bottom==l.bottom&&f.right>l.right)&&(l=f),u+1>p&&(p=u),r(p,f.top,d-p,f.bottom)}),{start:s,end:l}}var o=t.display,a=t.doc,s=document.createDocumentFragment(),l=We(t.display),u=l.left,c=Math.max(o.sizerWidth,Ue(t)-o.sizer.offsetLeft)-l.right,f=e.from(),h=e.to();if(f.line==h.line)i(f.line,f.ch,h.ch);else{var p=Ki(a,f.line),d=Ki(a,h.line),g=vi(p)==vi(d),m=i(f.line,f.ch,g?p.text.length+1:null).end,v=i(h.line,g?0:null,h.ch).start;g&&(m.top<v.top-2?(r(m.right,m.top,null,m.bottom),r(u,v.top,v.left,v.bottom)):r(m.right,m.top,v.left-m.right,m.bottom)),m.bottom<v.top&&r(u,m.bottom,null,v.top)}n.appendChild(s)}function Ne(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var n=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval(function(){e.cursorDiv.style.visibility=(n=!n)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function je(t,e){t.doc.mode.startState&&t.doc.frontier<t.display.viewTo&&t.state.highlight.set(e,jo(Re,t))}function Re(t){var e=t.doc;if(e.frontier<e.first&&(e.frontier=e.first),!(e.frontier>=t.display.viewTo)){var n=+new Date+t.options.workTime,r=as(e.mode,He(t,e.frontier)),i=[];e.iter(e.frontier,Math.min(e.first+e.size,t.display.viewTo+500),function(o){if(e.frontier>=t.display.viewFrom){var a=o.styles,s=o.text.length>t.options.maxHighlightLength,l=Oi(t,o,s?as(e.mode,r):r,!0);o.styles=l.styles;var u=o.styleClasses,c=l.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var f=!a||a.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),h=0;!f&&h<a.length;++h)f=a[h]!=o.styles[h];f&&i.push(e.frontier),o.stateAfter=s?r:as(e.mode,r)}else o.text.length<=t.options.maxHighlightLength&&Li(t,o.text,r),o.stateAfter=e.frontier%5==0?as(e.mode,r):null;return++e.frontier,+new Date>n?(je(t,t.options.workDelay),!0):void 0}),i.length&&An(t,function(){for(var e=0;e<i.length;e++)In(t,i[e],"text")})}}function ze(t,e,n){for(var r,i,o=t.doc,a=n?-1:e-(t.doc.mode.innerMode?1e3:100),s=e;s>a;--s){if(s<=o.first)return o.first;var l=Ki(o,s-1);if(l.stateAfter&&(!n||s<=o.frontier))return s;var u=js(l.text,null,t.options.tabSize);(null==i||r>u)&&(i=s-1,r=u)}return i}function He(t,e,n){var r=t.doc,i=t.display;if(!r.mode.startState)return!0;var o=ze(t,e,n),a=o>r.first&&Ki(r,o-1).stateAfter;return a=a?as(r.mode,a):ss(r.mode),r.iter(o,e,function(n){Li(t,n.text,a);var s=o==e-1||o%5==0||o>=i.viewFrom&&o<i.viewTo;n.stateAfter=s?as(r.mode,a):null,++o}),n&&(r.frontier=o),a}function Be(t){return t.lineSpace.offsetTop}function qe(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function We(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=Wo(t.measure,Bo("pre","x")),n=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(t.cachedPaddingH=r),r}function Ve(t){return Os-t.display.nativeBarWidth}function Ue(t){return t.display.scroller.clientWidth-Ve(t)-t.display.barWidth}function Ye(t){return t.display.scroller.clientHeight-Ve(t)-t.display.barHeight}function Ge(t,e,n){var r=t.options.lineWrapping,i=r&&Ue(t);if(!e.measure.heights||r&&e.measure.width!=i){var o=e.measure.heights=[];if(r){e.measure.width=i;for(var a=e.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],u=a[s+1];Math.abs(l.bottom-u.bottom)>2&&o.push((l.bottom+u.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Xe(t,e,n){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var r=0;r<t.rest.length;r++)if(t.rest[r]==e)return{map:t.measure.maps[r],cache:t.measure.caches[r]};for(var r=0;r<t.rest.length;r++)if(to(t.rest[r])>n)return{map:t.measure.maps[r],cache:t.measure.caches[r],before:!0}}function Ke(t,e){e=vi(e);var n=to(e),r=t.display.externalMeasured=new On(t.doc,e,n);r.lineN=n;var i=r.built=Ni(t,r);return r.text=i.pre,Wo(t.display.lineMeasure,i.pre),r}function Qe(t,e,n,r){return tn(t,Je(t,e),n,r)}function Ze(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[jn(t,e)];var n=t.display.externalMeasured;return n&&e>=n.lineN&&e<n.lineN+n.size?n:void 0}function Je(t,e){var n=to(e),r=Ze(t,n);r&&!r.text?r=null:r&&r.changes&&(L(t,r,n,O(t)),t.curOp.forceUpdate=!0),r||(r=Ke(t,e));var i=Xe(r,e,n);return{line:e,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function tn(t,e,n,r,i){e.before&&(n=-1);var o,a=n+(r||"");return e.cache.hasOwnProperty(a)?o=e.cache[a]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(Ge(t,e.view,e.rect),e.hasHeights=!0),o=nn(t,e,n,r),o.bogus||(e.cache[a]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function en(t,e,n){for(var r,i,o,a,s=0;s<t.length;s+=3){var l=t[s],u=t[s+1];if(l>e?(i=0,o=1,a="left"):u>e?(i=e-l,o=i+1):(s==t.length-3||e==u&&t[s+3]>e)&&(o=u-l,i=o-1,e>=u&&(a="right")),null!=i){if(r=t[s+2],l==u&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==i)for(;s&&t[s-2]==t[s-3]&&t[s-1].insertLeft;)r=t[(s-=3)+2],a="left";if("right"==n&&i==u-l)for(;s<t.length-3&&t[s+3]==t[s+4]&&!t[s+5].insertLeft;)r=t[(s+=3)+2],a="right";break}}return{node:r,start:i,end:o,collapse:a,coverStart:l,coverEnd:u}}function nn(t,e,n,r){var i,o=en(e.map,n,r),a=o.node,s=o.start,l=o.end,u=o.collapse;if(3==a.nodeType){for(var c=0;4>c;c++){for(;s&&Ho(e.line.text.charAt(o.coverStart+s));)--s;for(;o.coverStart+l<o.coverEnd&&Ho(e.line.text.charAt(o.coverStart+l));)++l;
if(ya&&9>ba&&0==s&&l==o.coverEnd-o.coverStart)i=a.parentNode.getBoundingClientRect();else if(ya&&t.options.lineWrapping){var f=Bs(a,s,l).getClientRects();i=f.length?f["right"==r?f.length-1:0]:Ba}else i=Bs(a,s,l).getBoundingClientRect()||Ba;if(i.left||i.right||0==s)break;l=s,s-=1,u="right"}ya&&11>ba&&(i=rn(t.display.measure,i))}else{s>0&&(u=r="right");var f;i=t.options.lineWrapping&&(f=a.getClientRects()).length>1?f["right"==r?f.length-1:0]:a.getBoundingClientRect()}if(ya&&9>ba&&!s&&(!i||!i.left&&!i.right)){var h=a.parentNode.getClientRects()[0];i=h?{left:h.left,right:h.left+bn(t.display),top:h.top,bottom:h.bottom}:Ba}for(var p=i.top-e.rect.top,d=i.bottom-e.rect.top,g=(p+d)/2,m=e.view.measure.heights,c=0;c<m.length-1&&!(g<m[c]);c++);var v=c?m[c-1]:0,y=m[c],b={left:("right"==u?i.right:i.left)-e.rect.left,right:("left"==u?i.left:i.right)-e.rect.left,top:v,bottom:y};return i.left||i.right||(b.bogus=!0),t.options.singleCursorHeightPerLine||(b.rtop=p,b.rbottom=d),b}function rn(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Jo(t))return e;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*n,right:e.right*n,top:e.top*r,bottom:e.bottom*r}}function on(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function an(t){t.display.externalMeasure=null,qo(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)on(t.display.view[e])}function sn(t){an(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function ln(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function un(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function cn(t,e,n,r){if(e.widgets)for(var i=0;i<e.widgets.length;++i)if(e.widgets[i].above){var o=Si(e.widgets[i]);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var a=no(e);if("local"==r?a+=Be(t.display):a-=t.display.viewOffset,"page"==r||"window"==r){var s=t.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:un());var l=s.left+("window"==r?0:ln());n.left+=l,n.right+=l}return n.top+=a,n.bottom+=a,n}function fn(t,e,n){if("div"==n)return e;var r=e.left,i=e.top;if("page"==n)r-=ln(),i-=un();else if("local"==n||!n){var o=t.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=t.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function hn(t,e,n,r,i){return r||(r=Ki(t.doc,e.line)),cn(t,r,Qe(t,r,e.ch,i),n)}function pn(t,e,n,r,i,o){function a(e,a){var s=tn(t,i,e,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,cn(t,r,s,n)}function s(t,e){var n=l[e],r=n.level%2;return t==ea(n)&&e&&n.level<l[e-1].level?(n=l[--e],t=na(n)-(n.level%2?0:1),r=!0):t==na(n)&&e<l.length-1&&n.level<l[e+1].level&&(n=l[++e],t=ea(n)-n.level%2,r=!1),r&&t==n.to&&t>n.from?a(t-1):a(t,r)}r=r||Ki(t.doc,e.line),i||(i=Je(t,r));var l=ro(r),u=e.ch;if(!l)return a(u);var c=ua(l,u),f=s(u,c);return null!=il&&(f.other=s(u,il)),f}function dn(t,e){var n=0,e=me(t.doc,e);t.options.lineWrapping||(n=bn(t.display)*e.ch);var r=Ki(t.doc,e.line),i=no(r)+Be(t.display);return{left:n,right:n,top:i,bottom:i+r.height}}function gn(t,e,n,r){var i=Ia(t,e);return i.xRel=r,n&&(i.outside=!0),i}function mn(t,e,n){var r=t.doc;if(n+=t.display.viewOffset,0>n)return gn(r.first,0,!0,-1);var i=eo(r,n),o=r.first+r.size-1;if(i>o)return gn(r.first+r.size-1,Ki(r,o).text.length,!0,1);0>e&&(e=0);for(var a=Ki(r,i);;){var s=vn(t,a,i,e,n),l=gi(a),u=l&&l.find(0,!0);if(!l||!(s.ch>u.from.ch||s.ch==u.from.ch&&s.xRel>0))return s;i=to(a=u.to.line)}}function vn(t,e,n,r,i){function o(r){var i=pn(t,Ia(n,r),"line",e,u);return s=!0,a>i.bottom?i.left-l:a<i.top?i.left+l:(s=!1,i.left)}var a=i-no(e),s=!1,l=2*t.display.wrapper.clientWidth,u=Je(t,e),c=ro(e),f=e.text.length,h=ra(e),p=ia(e),d=o(h),g=s,m=o(p),v=s;if(r>m)return gn(n,p,v,1);for(;;){if(c?p==h||p==fa(e,h,1):1>=p-h){for(var y=d>r||m-r>=r-d?h:p,b=r-(y==h?d:m);Ho(e.text.charAt(y));)++y;var w=gn(n,y,y==h?g:v,-1>b?-1:b>1?1:0);return w}var x=Math.ceil(f/2),$=h+x;if(c){$=h;for(var C=0;x>C;++C)$=fa(e,$,1)}var S=o($);S>r?(p=$,m=S,(v=s)&&(m+=1e3),f=x):(h=$,d=S,g=s,f-=x)}}function yn(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==Ra){Ra=Bo("pre");for(var e=0;49>e;++e)Ra.appendChild(document.createTextNode("x")),Ra.appendChild(Bo("br"));Ra.appendChild(document.createTextNode("x"))}Wo(t.measure,Ra);var n=Ra.offsetHeight/50;return n>3&&(t.cachedTextHeight=n),qo(t.measure),n||1}function bn(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=Bo("span","xxxxxxxxxx"),n=Bo("pre",[e]);Wo(t.measure,n);var r=e.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(t.cachedCharWidth=i),i||10}function wn(t){t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Wa},qa?qa.ops.push(t.curOp):t.curOp.ownsGroup=qa={ops:[t.curOp],delayedCallbacks:[]}}function xn(t){var e=t.delayedCallbacks,n=0;do{for(;n<e.length;n++)e[n].call(null);for(var r=0;r<t.ops.length;r++){var i=t.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<e.length)}function $n(t){var e=t.curOp,n=e.ownsGroup;if(n)try{xn(n)}finally{qa=null;for(var r=0;r<n.ops.length;r++)n.ops[r].cm.curOp=null;Cn(n)}}function Cn(t){for(var e=t.ops,n=0;n<e.length;n++)Sn(e[n]);for(var n=0;n<e.length;n++)kn(e[n]);for(var n=0;n<e.length;n++)Tn(e[n]);for(var n=0;n<e.length;n++)Mn(e[n]);for(var n=0;n<e.length;n++)_n(e[n])}function Sn(t){var e=t.cm,n=e.display;T(e),t.updateMaxLine&&h(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<n.viewFrom||t.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new k(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function kn(t){t.updatedDisplay=t.mustUpdate&&M(t.cm,t.update)}function Tn(t){var e=t.cm,n=e.display;t.updatedDisplay&&D(e),t.barMeasure=d(e),n.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Qe(e,n.maxLine,n.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+t.adjustWidthTo+Ve(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+t.adjustWidthTo-Ue(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=n.input.prepareSelection())}function Mn(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&ir(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1),t.preparedSelection&&e.display.input.showSelection(t.preparedSelection),t.updatedDisplay&&E(e,t.barMeasure),(t.updatedDisplay||t.startHeight!=e.doc.height)&&y(e,t.barMeasure),t.selectionChanged&&Ne(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),t.focus&&t.focus==Vo()&&K(t.cm)}function _n(t){var e=t.cm,n=e.display,r=e.doc;if(t.updatedDisplay&&_(e,t.update),null==n.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null==t.scrollTop||n.scroller.scrollTop==t.scrollTop&&!t.forceScroll||(r.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,t.scrollTop)),n.scrollbars.setScrollTop(r.scrollTop),n.scroller.scrollTop=r.scrollTop),null==t.scrollLeft||n.scroller.scrollLeft==t.scrollLeft&&!t.forceScroll||(r.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-Ue(e),t.scrollLeft)),n.scrollbars.setScrollLeft(r.scrollLeft),n.scroller.scrollLeft=r.scrollLeft,x(e)),t.scrollToPos){var i=Or(e,me(r,t.scrollToPos.from),me(r,t.scrollToPos.to),t.scrollToPos.margin);t.scrollToPos.isCursor&&e.state.focused&&Fr(e,i)}var o=t.maybeHiddenMarkers,a=t.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||Ds(o[s],"hide");if(a)for(var s=0;s<a.length;++s)a[s].lines.length&&Ds(a[s],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&Ds(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function An(t,e){if(t.curOp)return e();wn(t);try{return e()}finally{$n(t)}}function En(t,e){return function(){if(t.curOp)return e.apply(t,arguments);wn(t);try{return e.apply(t,arguments)}finally{$n(t)}}}function Dn(t){return function(){if(this.curOp)return t.apply(this,arguments);wn(this);try{return t.apply(this,arguments)}finally{$n(this)}}}function Fn(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);wn(e);try{return t.apply(this,arguments)}finally{$n(e)}}}function On(t,e,n){this.line=e,this.rest=yi(e),this.size=this.rest?to(Fo(this.rest))-n+1:1,this.node=this.text=null,this.hidden=xi(t,e)}function Pn(t,e,n){for(var r,i=[],o=e;n>o;o=r){var a=new On(t.doc,Ki(t.doc,o),o);r=o+a.size,i.push(a)}return i}function Ln(t,e,n,r){null==e&&(e=t.doc.first),null==n&&(n=t.doc.first+t.doc.size),r||(r=0);var i=t.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>e)&&(i.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=i.viewTo)La&&bi(t.doc,e)<i.viewTo&&Nn(t);else if(n<=i.viewFrom)La&&wi(t.doc,n+r)>i.viewFrom?Nn(t):(i.viewFrom+=r,i.viewTo+=r);else if(e<=i.viewFrom&&n>=i.viewTo)Nn(t);else if(e<=i.viewFrom){var o=Rn(t,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):Nn(t)}else if(n>=i.viewTo){var o=Rn(t,e,e,-1);o?(i.view=i.view.slice(0,o.index),i.viewTo=o.lineN):Nn(t)}else{var a=Rn(t,e,e,-1),s=Rn(t,n,n+r,1);a&&s?(i.view=i.view.slice(0,a.index).concat(Pn(t,a.lineN,s.lineN)).concat(i.view.slice(s.index)),i.viewTo+=r):Nn(t)}var l=i.externalMeasured;l&&(n<l.lineN?l.lineN+=r:e<l.lineN+l.size&&(i.externalMeasured=null))}function In(t,e,n){t.curOp.viewChanged=!0;var r=t.display,i=t.display.externalMeasured;if(i&&e>=i.lineN&&e<i.lineN+i.size&&(r.externalMeasured=null),!(e<r.viewFrom||e>=r.viewTo)){var o=r.view[jn(t,e)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==Oo(a,n)&&a.push(n)}}}function Nn(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function jn(t,e){if(e>=t.display.viewTo)return null;if(e-=t.display.viewFrom,0>e)return null;for(var n=t.display.view,r=0;r<n.length;r++)if(e-=n[r].size,0>e)return r}function Rn(t,e,n,r){var i,o=jn(t,e),a=t.display.view;if(!La||n==t.doc.first+t.doc.size)return{index:o,lineN:n};for(var s=0,l=t.display.viewFrom;o>s;s++)l+=a[s].size;if(l!=e){if(r>0){if(o==a.length-1)return null;i=l+a[o].size-e,o++}else i=l-e;e+=i,n+=i}for(;bi(t.doc,n)!=n;){if(o==(0>r?0:a.length-1))return null;n+=r*a[o-(0>r?1:0)].size,o+=r}return{index:o,lineN:n}}function zn(t,e,n){var r=t.display,i=r.view;0==i.length||e>=r.viewTo||n<=r.viewFrom?(r.view=Pn(t,e,n),r.viewFrom=e):(r.viewFrom>e?r.view=Pn(t,e,r.viewFrom).concat(r.view):r.viewFrom<e&&(r.view=r.view.slice(jn(t,e))),r.viewFrom=e,r.viewTo<n?r.view=r.view.concat(Pn(t,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,jn(t,n)))),r.viewTo=n}function Hn(t){for(var e=t.display.view,n=0,r=0;r<e.length;r++){var i=e[r];i.hidden||i.node&&!i.changes||++n}return n}function Bn(t){function e(){i.activeTouch&&(o=setTimeout(function(){i.activeTouch=null},1e3),a=i.activeTouch,a.end=+new Date)}function n(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}function r(t,e){if(null==e.left)return!0;var n=e.left-t.left,r=e.top-t.top;return n*n+r*r>400}var i=t.display;_s(i.scroller,"mousedown",En(t,Yn)),ya&&11>ba?_s(i.scroller,"dblclick",En(t,function(e){if(!To(t,e)){var n=Un(t,e);if(n&&!Zn(t,e)&&!Vn(t.display,e)){ks(e);var r=t.findWordAt(n);xe(t.doc,r.anchor,r.head)}}})):_s(i.scroller,"dblclick",function(e){To(t,e)||ks(e)}),Oa||_s(i.scroller,"contextmenu",function(e){yr(t,e)});var o,a={end:0};_s(i.scroller,"touchstart",function(t){if(!n(t)){clearTimeout(o);var e=+new Date;i.activeTouch={start:e,moved:!1,prev:e-a.end<=300?a:null},1==t.touches.length&&(i.activeTouch.left=t.touches[0].pageX,i.activeTouch.top=t.touches[0].pageY)}}),_s(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),_s(i.scroller,"touchend",function(n){var o=i.activeTouch;if(o&&!Vn(i,n)&&null!=o.left&&!o.moved&&new Date-o.start<300){var a,s=t.coordsChar(i.activeTouch,"page");a=!o.prev||r(o,o.prev)?new he(s,s):!o.prev.prev||r(o,o.prev.prev)?t.findWordAt(s):new he(Ia(s.line,0),me(t.doc,Ia(s.line+1,0))),t.setSelection(a.anchor,a.head),t.focus(),ks(n)}e()}),_s(i.scroller,"touchcancel",e),_s(i.scroller,"scroll",function(){i.scroller.clientHeight&&(rr(t,i.scroller.scrollTop),ir(t,i.scroller.scrollLeft,!0),Ds(t,"scroll",t))}),_s(i.scroller,"mousewheel",function(e){or(t,e)}),_s(i.scroller,"DOMMouseScroll",function(e){or(t,e)}),_s(i.wrapper,"scroll",function(){i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(e){To(t,e)||Ms(e)},over:function(e){To(t,e)||(er(t,e),Ms(e))},start:function(e){tr(t,e)},drop:En(t,Jn),leave:function(){nr(t)}};var s=i.input.getField();_s(s,"keyup",function(e){pr.call(t,e)}),_s(s,"keydown",En(t,fr)),_s(s,"keypress",En(t,dr)),_s(s,"focus",jo(mr,t)),_s(s,"blur",jo(vr,t))}function qn(e,n,r){var i=r&&r!=t.Init;if(!n!=!i){var o=e.display.dragFunctions,a=n?_s:Es;a(e.display.scroller,"dragstart",o.start),a(e.display.scroller,"dragenter",o.enter),a(e.display.scroller,"dragover",o.over),a(e.display.scroller,"dragleave",o.leave),a(e.display.scroller,"drop",o.drop)}}function Wn(t){var e=t.display;(e.lastWrapHeight!=e.wrapper.clientHeight||e.lastWrapWidth!=e.wrapper.clientWidth)&&(e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize())}function Vn(t,e){for(var n=xo(e);n!=t.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==t.sizer&&n!=t.mover)return!0}function Un(t,e,n,r){var i=t.display;if(!n&&"true"==xo(e).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=e.clientX-s.left,a=e.clientY-s.top}catch(e){return null}var l,u=mn(t,o,a);if(r&&1==u.xRel&&(l=Ki(t.doc,u.line).text).length==u.ch){var c=js(l,l.length,t.options.tabSize)-l.length;u=Ia(u.line,Math.max(0,Math.round((o-We(t.display).left)/bn(t.display))-c))}return u}function Yn(t){var e=this,n=e.display;if(!(n.activeTouch&&n.input.supportsTouch()||To(e,t))){if(n.shift=t.shiftKey,Vn(n,t))return void(wa||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100)));if(!Zn(e,t)){var r=Un(e,t);switch(window.focus(),$o(t)){case 1:e.state.selectingText?e.state.selectingText(t):r?Gn(e,t,r):xo(t)==n.scroller&&ks(t);break;case 2:wa&&(e.state.lastMiddleDown=+new Date),r&&xe(e.doc,r),setTimeout(function(){n.input.focus()},20),ks(t);break;case 3:Oa?yr(e,t):gr(e)}}}}function Gn(t,e,n){ya?setTimeout(jo(K,t),0):t.curOp.focus=Vo();var r,i=+new Date;Ha&&Ha.time>i-400&&0==Na(Ha.pos,n)?r="triple":za&&za.time>i-400&&0==Na(za.pos,n)?(r="double",Ha={time:i,pos:n}):(r="single",za={time:i,pos:n});var o,a=t.doc.sel,s=Aa?e.metaKey:e.ctrlKey;t.options.dragDrop&&Zs&&!Q(t)&&"single"==r&&(o=a.contains(n))>-1&&(Na((o=a.ranges[o]).from(),n)<0||n.xRel>0)&&(Na(o.to(),n)>0||n.xRel<0)?Xn(t,e,n,s):Kn(t,e,n,r,s)}function Xn(t,e,n,r){var i=t.display,o=+new Date,a=En(t,function(s){wa&&(i.scroller.draggable=!1),t.state.draggingText=!1,Es(document,"mouseup",a),Es(i.scroller,"drop",a),Math.abs(e.clientX-s.clientX)+Math.abs(e.clientY-s.clientY)<10&&(ks(s),!r&&+new Date-200<o&&xe(t.doc,n),wa||ya&&9==ba?setTimeout(function(){document.body.focus(),i.input.focus()},20):i.input.focus())});wa&&(i.scroller.draggable=!0),t.state.draggingText=a,i.scroller.dragDrop&&i.scroller.dragDrop(),_s(document,"mouseup",a),_s(i.scroller,"drop",a)}function Kn(t,e,n,r,i){function o(e){if(0!=Na(m,e))if(m=e,"rect"==r){for(var i=[],o=t.options.tabSize,a=js(Ki(u,n.line).text,n.ch,o),s=js(Ki(u,e.line).text,e.ch,o),l=Math.min(a,s),p=Math.max(a,s),d=Math.min(n.line,e.line),g=Math.min(t.lastLine(),Math.max(n.line,e.line));g>=d;d++){var v=Ki(u,d).text,y=Rs(v,l,o);l==p?i.push(new he(Ia(d,y),Ia(d,y))):v.length>y&&i.push(new he(Ia(d,y),Ia(d,Rs(v,p,o))))}i.length||i.push(new he(n,n)),Me(u,pe(h.ranges.slice(0,f).concat(i),f),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var b=c,w=b.anchor,x=e;if("single"!=r){if("double"==r)var $=t.findWordAt(e);else var $=new he(Ia(e.line,0),me(u,Ia(e.line+1,0)));Na($.anchor,w)>0?(x=$.head,w=X(b.from(),$.anchor)):(x=$.anchor,w=G(b.to(),$.head))}var i=h.ranges.slice(0);i[f]=new he(me(u,w),x),Me(u,pe(i,f),Is)}}function a(e){var n=++y,i=Un(t,e,!0,"rect"==r);if(i)if(0!=Na(i,m)){t.curOp.focus=Vo(),o(i);var s=w(l,u);(i.line>=s.to||i.line<s.from)&&setTimeout(En(t,function(){y==n&&a(e)}),150)}else{var c=e.clientY<v.top?-20:e.clientY>v.bottom?20:0;c&&setTimeout(En(t,function(){y==n&&(l.scroller.scrollTop+=c,a(e))}),50)}}function s(e){t.state.selectingText=!1,y=1/0,ks(e),l.input.focus(),Es(document,"mousemove",b),Es(document,"mouseup",x),u.history.lastSelOrigin=null}var l=t.display,u=t.doc;ks(e);var c,f,h=u.sel,p=h.ranges;if(i&&!e.shiftKey?(f=u.sel.contains(n),c=f>-1?p[f]:new he(n,n)):(c=u.sel.primary(),f=u.sel.primIndex),e.altKey)r="rect",i||(c=new he(n,n)),n=Un(t,e,!0,!0),f=-1;else if("double"==r){var d=t.findWordAt(n);c=t.display.shift||u.extend?we(u,c,d.anchor,d.head):d}else if("triple"==r){var g=new he(Ia(n.line,0),me(u,Ia(n.line+1,0)));c=t.display.shift||u.extend?we(u,c,g.anchor,g.head):g}else c=we(u,c,n);i?-1==f?(f=p.length,Me(u,pe(p.concat([c]),f),{scroll:!1,origin:"*mouse"})):p.length>1&&p[f].empty()&&"single"==r&&!e.shiftKey?(Me(u,pe(p.slice(0,f).concat(p.slice(f+1)),0),{scroll:!1,origin:"*mouse"}),h=u.sel):Ce(u,f,c,Is):(f=0,Me(u,new fe([c],0),Is),h=u.sel);var m=n,v=l.wrapper.getBoundingClientRect(),y=0,b=En(t,function(t){$o(t)?a(t):s(t)}),x=En(t,s);t.state.selectingText=x,_s(document,"mousemove",b),_s(document,"mouseup",x)}function Qn(t,e,n,r,i){try{var o=e.clientX,a=e.clientY}catch(e){return!1}if(o>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;r&&ks(e);var s=t.display,l=s.lineDiv.getBoundingClientRect();if(a>l.bottom||!_o(t,n))return wo(e);a-=l.top-s.viewOffset;for(var u=0;u<t.options.gutters.length;++u){var c=s.gutters.childNodes[u];if(c&&c.getBoundingClientRect().right>=o){var f=eo(t.doc,a),h=t.options.gutters[u];return i(t,n,t,f,h,e),wo(e)}}}function Zn(t,e){return Qn(t,e,"gutterClick",!0,So)}function Jn(t){var e=this;if(nr(e),!To(e,t)&&!Vn(e.display,t)){ks(t),ya&&(Va=+new Date);var n=Un(e,t,!0),r=t.dataTransfer.files;if(n&&!Q(e))if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),a=0,s=function(t,r){if(!e.options.allowDropFileTypes||-1!=Oo(e.options.allowDropFileTypes,t.type)){var s=new FileReader;s.onload=En(e,function(){var t=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(t)&&(t=""),o[r]=t,++a==i){n=me(e.doc,n);var l={from:n,to:n,text:e.doc.splitLines(o.join(e.doc.lineSeparator())),origin:"paste"};kr(e.doc,l),Te(e.doc,de(n,Qa(l)))}}),s.readAsText(t)}},l=0;i>l;++l)s(r[l],l);else{if(e.state.draggingText&&e.doc.sel.contains(n)>-1)return e.state.draggingText(t),void setTimeout(function(){e.display.input.focus()},20);try{var o=t.dataTransfer.getData("Text");if(o){if(e.state.draggingText&&!(Aa?t.altKey:t.ctrlKey))var u=e.listSelections();if(_e(e.doc,de(n,n)),u)for(var l=0;l<u.length;++l)Dr(e.doc,"",u[l].anchor,u[l].head,"drag");e.replaceSelection(o,"around","paste"),e.display.input.focus()}}catch(t){}}}}function tr(t,e){if(ya&&(!t.state.draggingText||+new Date-Va<100))return void Ms(e);if(!To(t,e)&&!Vn(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.setDragImage&&!Sa)){var n=Bo("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Ca&&(n.width=n.height=1,t.display.wrapper.appendChild(n),n._top=n.offsetTop),e.dataTransfer.setDragImage(n,0,0),Ca&&n.parentNode.removeChild(n)}}function er(t,e){var n=Un(t,e);if(n){var r=document.createDocumentFragment();Le(t,n,r),t.display.dragCursor||(t.display.dragCursor=Bo("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),Wo(t.display.dragCursor,r)}}function nr(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function rr(t,e){Math.abs(t.doc.scrollTop-e)<2||(t.doc.scrollTop=e,ga||A(t,{top:e}),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e),t.display.scrollbars.setScrollTop(e),ga&&A(t),je(t,100))}function ir(t,e,n){(n?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)||(e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),t.doc.scrollLeft=e,x(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function or(t,e){var n=Ga(e),r=n.x,i=n.y,o=t.display,a=o.scroller,s=a.scrollWidth>a.clientWidth,l=a.scrollHeight>a.clientHeight;if(r&&s||i&&l){if(i&&Aa&&wa)t:for(var u=e.target,c=o.view;u!=a;u=u.parentNode)for(var f=0;f<c.length;f++)if(c[f].node==u){t.display.currentWheelTarget=u;break t}if(r&&!ga&&!Ca&&null!=Ya)return i&&l&&rr(t,Math.max(0,Math.min(a.scrollTop+i*Ya,a.scrollHeight-a.clientHeight))),ir(t,Math.max(0,Math.min(a.scrollLeft+r*Ya,a.scrollWidth-a.clientWidth))),(!i||i&&l)&&ks(e),void(o.wheelStartX=null);if(i&&null!=Ya){var h=i*Ya,p=t.doc.scrollTop,d=p+o.wrapper.clientHeight;0>h?p=Math.max(0,p+h-50):d=Math.min(t.doc.height,d+h+50),A(t,{top:p,bottom:d})}20>Ua&&(null==o.wheelStartX?(o.wheelStartX=a.scrollLeft,o.wheelStartY=a.scrollTop,o.wheelDX=r,o.wheelDY=i,setTimeout(function(){if(null!=o.wheelStartX){var t=a.scrollLeft-o.wheelStartX,e=a.scrollTop-o.wheelStartY,n=e&&o.wheelDY&&e/o.wheelDY||t&&o.wheelDX&&t/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(Ya=(Ya*Ua+n)/(Ua+1),++Ua)}},200)):(o.wheelDX+=r,o.wheelDY+=i))}}function ar(t,e,n){if("string"==typeof e&&(e=ls[e],!e))return!1;t.display.input.ensurePolled();var r=t.display.shift,i=!1;try{Q(t)&&(t.state.suppressEdits=!0),n&&(t.display.shift=!1),i=e(t)!=Ps}finally{t.display.shift=r,t.state.suppressEdits=!1}return i}function sr(t,e,n){for(var r=0;r<t.state.keyMaps.length;r++){var i=cs(e,t.state.keyMaps[r],n,t);if(i)return i}return t.options.extraKeys&&cs(e,t.options.extraKeys,n,t)||cs(e,t.options.keyMap,n,t)}function lr(t,e,n,r){var i=t.state.keySeq;if(i){if(fs(e))return"handled";Xa.set(50,function(){t.state.keySeq==i&&(t.state.keySeq=null,t.display.input.reset())}),e=i+" "+e}var o=sr(t,e,r);return"multi"==o&&(t.state.keySeq=e),"handled"==o&&So(t,"keyHandled",t,e,n),("handled"==o||"multi"==o)&&(ks(n),Ne(t)),i&&!o&&/\'$/.test(e)?(ks(n),!0):!!o}function ur(t,e){var n=hs(e,!0);return n?e.shiftKey&&!t.state.keySeq?lr(t,"Shift-"+n,e,function(e){return ar(t,e,!0)})||lr(t,n,e,function(e){return("string"==typeof e?/^go[A-Z]/.test(e):e.motion)?ar(t,e):void 0}):lr(t,n,e,function(e){return ar(t,e)}):!1}function cr(t,e,n){return lr(t,"'"+n+"'",e,function(e){return ar(t,e,!0)})}function fr(t){var e=this;if(e.curOp.focus=Vo(),!To(e,t)){ya&&11>ba&&27==t.keyCode&&(t.returnValue=!1);var n=t.keyCode;e.display.shift=16==n||t.shiftKey;var r=ur(e,t);Ca&&(Ka=r?n:null,!r&&88==n&&!el&&(Aa?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||hr(e)}}function hr(t){function e(t){18!=t.keyCode&&t.altKey||(Xs(n,"CodeMirror-crosshair"),Es(document,"keyup",e),Es(document,"mouseover",e))}var n=t.display.lineDiv;Ks(n,"CodeMirror-crosshair"),_s(document,"keyup",e),_s(document,"mouseover",e)}function pr(t){16==t.keyCode&&(this.doc.sel.shift=!1),To(this,t)}function dr(t){var e=this;if(!(Vn(e.display,t)||To(e,t)||t.ctrlKey&&!t.altKey||Aa&&t.metaKey)){var n=t.keyCode,r=t.charCode;if(Ca&&n==Ka)return Ka=null,void ks(t);if(!Ca||t.which&&!(t.which<10)||!ur(e,t)){var i=String.fromCharCode(null==r?n:r);cr(e,t,i)||e.display.input.onKeyPress(t)}}}function gr(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,vr(t))},100)}function mr(t){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(Ds(t,"focus",t),t.state.focused=!0,Ks(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),wa&&setTimeout(function(){t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),Ne(t))}function vr(t){t.state.delayingBlurEvent||(t.state.focused&&(Ds(t,"blur",t),t.state.focused=!1,Xs(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function yr(t,e){Vn(t.display,e)||br(t,e)||To(t,e,"contextmenu")||t.display.input.onContextMenu(e)}function br(t,e){return _o(t,"gutterContextMenu")?Qn(t,e,"gutterContextMenu",!1,Ds):!1}function wr(t,e){if(Na(t,e.from)<0)return t;if(Na(t,e.to)<=0)return Qa(e);var n=t.line+e.text.length-(e.to.line-e.from.line)-1,r=t.ch;return t.line==e.to.line&&(r+=Qa(e).ch-e.to.ch),Ia(n,r)}function xr(t,e){for(var n=[],r=0;r<t.sel.ranges.length;r++){var i=t.sel.ranges[r];n.push(new he(wr(i.anchor,e),wr(i.head,e)))}return pe(n,t.sel.primIndex)}function $r(t,e,n){return t.line==e.line?Ia(n.line,t.ch-e.ch+n.ch):Ia(n.line+(t.line-e.line),t.ch)}function Cr(t,e,n){for(var r=[],i=Ia(t.first,0),o=i,a=0;a<e.length;a++){var s=e[a],l=$r(s.from,i,o),u=$r(Qa(s),i,o);if(i=s.to,o=u,"around"==n){var c=t.sel.ranges[a],f=Na(c.head,c.anchor)<0;r[a]=new he(f?u:l,f?l:u)}else r[a]=new he(l,l)}return new fe(r,t.sel.primIndex)}function Sr(t,e,n){var r={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){this.canceled=!0}};return n&&(r.update=function(e,n,r,i){e&&(this.from=me(t,e)),n&&(this.to=me(t,n)),r&&(this.text=r),void 0!==i&&(this.origin=i)}),Ds(t,"beforeChange",t,r),t.cm&&Ds(t.cm,"beforeChange",t.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function kr(t,e,n){if(t.cm){if(!t.cm.curOp)return En(t.cm,kr)(t,e,n);if(t.cm.state.suppressEdits)return}if(!(_o(t,"beforeChange")||t.cm&&_o(t.cm,"beforeChange"))||(e=Sr(t,e,!0))){var r=Pa&&!n&&si(t,e.from,e.to);if(r)for(var i=r.length-1;i>=0;--i)Tr(t,{from:r[i].from,to:r[i].to,text:i?[""]:e.text});else Tr(t,e)}}function Tr(t,e){if(1!=e.text.length||""!=e.text[0]||0!=Na(e.from,e.to)){var n=xr(t,e);lo(t,e,n,t.cm?t.cm.curOp.id:0/0),Ar(t,e,n,ii(t,e));var r=[];Gi(t,function(t,n){n||-1!=Oo(r,t.history)||(bo(t.history,e),r.push(t.history)),Ar(t,e,null,ii(t,e))})}}function Mr(t,e,n){if(!t.cm||!t.cm.state.suppressEdits){for(var r,i=t.history,o=t.sel,a="undo"==e?i.done:i.undone,s="undo"==e?i.undone:i.done,l=0;l<a.length&&(r=a[l],n?!r.ranges||r.equals(t.sel):r.ranges);l++);if(l!=a.length){for(i.lastOrigin=i.lastSelOrigin=null;r=a.pop(),r.ranges;){if(fo(r,s),n&&!r.equals(t.sel))return void Me(t,r,{clearRedo:!1});o=r}var u=[];fo(o,s),s.push({changes:u,generation:i.generation}),i.generation=r.generation||++i.maxGeneration;for(var c=_o(t,"beforeChange")||t.cm&&_o(t.cm,"beforeChange"),l=r.changes.length-1;l>=0;--l){var f=r.changes[l];if(f.origin=e,c&&!Sr(t,f,!1))return void(a.length=0);u.push(oo(t,f));var h=l?xr(t,f):Fo(a);Ar(t,f,h,ai(t,f)),!l&&t.cm&&t.cm.scrollIntoView({from:f.from,to:Qa(f)});var p=[];Gi(t,function(t,e){e||-1!=Oo(p,t.history)||(bo(t.history,f),p.push(t.history)),Ar(t,f,null,ai(t,f))})}}}}function _r(t,e){if(0!=e&&(t.first+=e,t.sel=new fe(Po(t.sel.ranges,function(t){return new he(Ia(t.anchor.line+e,t.anchor.ch),Ia(t.head.line+e,t.head.ch))}),t.sel.primIndex),t.cm)){Ln(t.cm,t.first,t.first-e,e);for(var n=t.cm.display,r=n.viewFrom;r<n.viewTo;r++)In(t.cm,r,"gutter")}}function Ar(t,e,n,r){if(t.cm&&!t.cm.curOp)return En(t.cm,Ar)(t,e,n,r);if(e.to.line<t.first)return void _r(t,e.text.length-1-(e.to.line-e.from.line));if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var i=e.text.length-1-(t.first-e.from.line);_r(t,i),e={from:Ia(t.first,0),to:Ia(e.to.line+i,e.to.ch),text:[Fo(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:Ia(o,Ki(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=Qi(t,e.from,e.to),n||(n=xr(t,e)),t.cm?Er(t.cm,e,r):Vi(t,e,r),_e(t,n,Ls)}}function Er(t,e,n){var r=t.doc,i=t.display,a=e.from,s=e.to,l=!1,u=a.line;t.options.lineWrapping||(u=to(vi(Ki(r,a.line))),r.iter(u,s.line+1,function(t){return t==i.maxLine?(l=!0,!0):void 0})),r.sel.contains(e.from,e.to)>-1&&Mo(t),Vi(r,e,n,o(t)),t.options.lineWrapping||(r.iter(u,a.line+e.text.length,function(t){var e=f(t);e>i.maxLineLength&&(i.maxLine=t,i.maxLineLength=e,i.maxLineChanged=!0,l=!1)}),l&&(t.curOp.updateMaxLine=!0)),r.frontier=Math.min(r.frontier,a.line),je(t,400);var c=e.text.length-(s.line-a.line)-1;e.full?Ln(t):a.line!=s.line||1!=e.text.length||Wi(t.doc,e)?Ln(t,a.line,s.line+1,c):In(t,a.line,"text");var h=_o(t,"changes"),p=_o(t,"change");if(p||h){var d={from:a,to:s,text:e.text,removed:e.removed,origin:e.origin};p&&So(t,"change",t,d),h&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(d)}t.display.selForContextMenu=null}function Dr(t,e,n,r,i){if(r||(r=n),Na(r,n)<0){var o=r;r=n,n=o}"string"==typeof e&&(e=t.splitLines(e)),kr(t,{from:n,to:r,text:e,origin:i})}function Fr(t,e){if(!To(t,"scrollCursorIntoView")){var n=t.display,r=n.sizer.getBoundingClientRect(),i=null;if(e.top+r.top<0?i=!0:e.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!Ta){var o=Bo("div","",null,"position: absolute; top: "+(e.top-n.viewOffset-Be(t.display))+"px; height: "+(e.bottom-e.top+Ve(t)+n.barHeight)+"px; left: "+e.left+"px; width: 2px;");t.display.lineSpace.appendChild(o),o.scrollIntoView(i),t.display.lineSpace.removeChild(o)}}}function Or(t,e,n,r){null==r&&(r=0);for(var i=0;5>i;i++){var o=!1,a=pn(t,e),s=n&&n!=e?pn(t,n):a,l=Lr(t,Math.min(a.left,s.left),Math.min(a.top,s.top)-r,Math.max(a.left,s.left),Math.max(a.bottom,s.bottom)+r),u=t.doc.scrollTop,c=t.doc.scrollLeft;if(null!=l.scrollTop&&(rr(t,l.scrollTop),Math.abs(t.doc.scrollTop-u)>1&&(o=!0)),null!=l.scrollLeft&&(ir(t,l.scrollLeft),Math.abs(t.doc.scrollLeft-c)>1&&(o=!0)),!o)break}return a}function Pr(t,e,n,r,i){var o=Lr(t,e,n,r,i);null!=o.scrollTop&&rr(t,o.scrollTop),null!=o.scrollLeft&&ir(t,o.scrollLeft)}function Lr(t,e,n,r,i){var o=t.display,a=yn(t.display);0>n&&(n=0);var s=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:o.scroller.scrollTop,l=Ye(t),u={};i-n>l&&(i=n+l);var c=t.doc.height+qe(o),f=a>n,h=i>c-a;if(s>n)u.scrollTop=f?0:n;else if(i>s+l){var p=Math.min(n,(h?c:i)-l);p!=s&&(u.scrollTop=p)}var d=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:o.scroller.scrollLeft,g=Ue(t)-(t.options.fixedGutter?o.gutters.offsetWidth:0),m=r-e>g;return m&&(r=e+g),10>e?u.scrollLeft=0:d>e?u.scrollLeft=Math.max(0,e-(m?0:10)):r>g+d-3&&(u.scrollLeft=r+(m?0:10)-g),u}function Ir(t,e,n){(null!=e||null!=n)&&jr(t),null!=e&&(t.curOp.scrollLeft=(null==t.curOp.scrollLeft?t.doc.scrollLeft:t.curOp.scrollLeft)+e),null!=n&&(t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+n)}function Nr(t){jr(t);var e=t.getCursor(),n=e,r=e;t.options.lineWrapping||(n=e.ch?Ia(e.line,e.ch-1):e,r=Ia(e.line,e.ch+1)),t.curOp.scrollToPos={from:n,to:r,margin:t.options.cursorScrollMargin,isCursor:!0}}function jr(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;var n=dn(t,e.from),r=dn(t,e.to),i=Lr(t,Math.min(n.left,r.left),Math.min(n.top,r.top)-e.margin,Math.max(n.right,r.right),Math.max(n.bottom,r.bottom)+e.margin);t.scrollTo(i.scrollLeft,i.scrollTop)}}function Rr(t,e,n,r){var i,o=t.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=He(t,e):n="prev");var a=t.options.tabSize,s=Ki(o,e),l=js(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&(u=o.mode.indent(i,s.text.slice(c.length),s.text),u==Ps||u>150)){if(!r)return;
n="prev"}}else u=0,n="not";"prev"==n?u=e>o.first?js(Ki(o,e-1).text,null,a):0:"add"==n?u=l+t.options.indentUnit:"subtract"==n?u=l-t.options.indentUnit:"number"==typeof n&&(u=l+n),u=Math.max(0,u);var f="",h=0;if(t.options.indentWithTabs)for(var p=Math.floor(u/a);p;--p)h+=a,f+="	";if(u>h&&(f+=Do(u-h)),f!=c)return Dr(o,f,Ia(e,0),Ia(e,c.length),"+input"),s.stateAfter=null,!0;for(var p=0;p<o.sel.ranges.length;p++){var d=o.sel.ranges[p];if(d.head.line==e&&d.head.ch<c.length){var h=Ia(e,c.length);Ce(o,p,new he(h,h));break}}}function zr(t,e,n,r){var i=e,o=e;return"number"==typeof e?o=Ki(t,ge(t,e)):i=to(e),null==i?null:(r(o,i)&&t.cm&&In(t.cm,i,n),o)}function Hr(t,e){for(var n=t.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=e(n[i]);r.length&&Na(o.from,Fo(r).to)<=0;){var a=r.pop();if(Na(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}An(t,function(){for(var e=r.length-1;e>=0;e--)Dr(t.doc,"",r[e].from,r[e].to,"+delete");Nr(t)})}function Br(t,e,n,r,i){function o(){var e=s+n;return e<t.first||e>=t.first+t.size?f=!1:(s=e,c=Ki(t,e))}function a(t){var e=(i?fa:ha)(c,l,n,!0);if(null==e){if(t||!o())return f=!1;l=i?(0>n?ia:ra)(c):0>n?c.text.length:0}else l=e;return!0}var s=e.line,l=e.ch,u=n,c=Ki(t,s),f=!0;if("char"==r)a();else if("column"==r)a(!0);else if("word"==r||"group"==r)for(var h=null,p="group"==r,d=t.cm&&t.cm.getHelper(e,"wordChars"),g=!0;!(0>n)||a(!g);g=!1){var m=c.text.charAt(l)||"\n",v=Ro(m,d)?"w":p&&"\n"==m?"n":!p||/\s/.test(m)?null:"p";if(!p||g||v||(v="s"),h&&h!=v){0>n&&(n=1,a());break}if(v&&(h=v),n>0&&!a(!g))break}var y=Fe(t,Ia(s,l),u,!0);return f||(y.hitSide=!0),y}function qr(t,e,n,r){var i,o=t.doc,a=e.left;if("page"==r){var s=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);i=e.top+n*(s-(0>n?1.5:.5)*yn(t.display))}else"line"==r&&(i=n>0?e.bottom+3:e.top-3);for(;;){var l=mn(t,a,i);if(!l.outside)break;if(0>n?0>=i:i>=o.height){l.hitSide=!0;break}i+=5*n}return l}function Wr(e,n,r,i){t.defaults[e]=n,r&&(Ja[e]=i?function(t,e,n){n!=ts&&r(t,e,n)}:r)}function Vr(t){for(var e,n,r,i,o=t.split(/-(?!$)/),t=o[o.length-1],a=0;a<o.length-1;a++){var s=o[a];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))e=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)$/i.test(s))throw new Error("Unrecognized modifier name: "+s);r=!0}}return e&&(t="Alt-"+t),n&&(t="Ctrl-"+t),i&&(t="Cmd-"+t),r&&(t="Shift-"+t),t}function Ur(t){return"string"==typeof t?us[t]:t}function Yr(t,e,n,r,i){if(r&&r.shared)return Gr(t,e,n,r,i);if(t.cm&&!t.cm.curOp)return En(t.cm,Yr)(t,e,n,r,i);var o=new gs(t,i),a=Na(e,n);if(r&&No(r,o,!1),a>0||0==a&&o.clearWhenEmpty!==!1)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=Bo("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(mi(t,e.line,e,n,o)||e.line!=n.line&&mi(t,n.line,e,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");La=!0}o.addToHistory&&lo(t,{from:e,to:n,origin:"markText"},t.sel,0/0);var s,l=e.line,u=t.cm;if(t.iter(l,n.line+1,function(t){u&&o.collapsed&&!u.options.lineWrapping&&vi(t)==u.display.maxLine&&(s=!0),o.collapsed&&l!=e.line&&Ji(t,0),ei(t,new Zr(o,l==e.line?e.ch:null,l==n.line?n.ch:null)),++l}),o.collapsed&&t.iter(e.line,n.line+1,function(e){xi(t,e)&&Ji(e,0)}),o.clearOnEnter&&_s(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(Pa=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed&&(o.id=++ds,o.atomic=!0),u){if(s&&(u.curOp.updateMaxLine=!0),o.collapsed)Ln(u,e.line,n.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var c=e.line;c<=n.line;c++)In(u,c,"text");o.atomic&&Ee(u.doc),So(u,"markerAdded",u,o)}return o}function Gr(t,e,n,r,i){r=No(r),r.shared=!1;var o=[Yr(t,e,n,r,i)],a=o[0],s=r.widgetNode;return Gi(t,function(t){s&&(r.widgetNode=s.cloneNode(!0)),o.push(Yr(t,me(t,e),me(t,n),r,i));for(var l=0;l<t.linked.length;++l)if(t.linked[l].isParent)return;a=Fo(o)}),new ms(o,a)}function Xr(t){return t.findMarks(Ia(t.first,0),t.clipPos(Ia(t.lastLine())),function(t){return t.parent})}function Kr(t,e){for(var n=0;n<e.length;n++){var r=e[n],i=r.find(),o=t.clipPos(i.from),a=t.clipPos(i.to);if(Na(o,a)){var s=Yr(t,o,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}function Qr(t){for(var e=0;e<t.length;e++){var n=t[e],r=[n.primary.doc];Gi(n.primary.doc,function(t){r.push(t)});for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==Oo(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}}}function Zr(t,e,n){this.marker=t,this.from=e,this.to=n}function Jr(t,e){if(t)for(var n=0;n<t.length;++n){var r=t[n];if(r.marker==e)return r}}function ti(t,e){for(var n,r=0;r<t.length;++r)t[r]!=e&&(n||(n=[])).push(t[r]);return n}function ei(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}function ni(t,e,n){if(t)for(var r,i=0;i<t.length;++i){var o=t[i],a=o.marker,s=null==o.from||(a.inclusiveLeft?o.from<=e:o.from<e);if(s||o.from==e&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(a.inclusiveRight?o.to>=e:o.to>e);(r||(r=[])).push(new Zr(a,o.from,l?null:o.to))}}return r}function ri(t,e,n){if(t)for(var r,i=0;i<t.length;++i){var o=t[i],a=o.marker,s=null==o.to||(a.inclusiveRight?o.to>=e:o.to>e);if(s||o.from==e&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(a.inclusiveLeft?o.from<=e:o.from<e);(r||(r=[])).push(new Zr(a,l?null:o.from-e,null==o.to?null:o.to-e))}}return r}function ii(t,e){if(e.full)return null;var n=ye(t,e.from.line)&&Ki(t,e.from.line).markedSpans,r=ye(t,e.to.line)&&Ki(t,e.to.line).markedSpans;if(!n&&!r)return null;var i=e.from.ch,o=e.to.ch,a=0==Na(e.from,e.to),s=ni(n,i,a),l=ri(r,o,a),u=1==e.text.length,c=Fo(e.text).length+(u?i:0);if(s)for(var f=0;f<s.length;++f){var h=s[f];if(null==h.to){var p=Jr(l,h.marker);p?u&&(h.to=null==p.to?null:p.to+c):h.to=i}}if(l)for(var f=0;f<l.length;++f){var h=l[f];if(null!=h.to&&(h.to+=c),null==h.from){var p=Jr(s,h.marker);p||(h.from=c,u&&(s||(s=[])).push(h))}else h.from+=c,u&&(s||(s=[])).push(h)}s&&(s=oi(s)),l&&l!=s&&(l=oi(l));var d=[s];if(!u){var g,m=e.text.length-2;if(m>0&&s)for(var f=0;f<s.length;++f)null==s[f].to&&(g||(g=[])).push(new Zr(s[f].marker,null,null));for(var f=0;m>f;++f)d.push(g);d.push(l)}return d}function oi(t){for(var e=0;e<t.length;++e){var n=t[e];null!=n.from&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&t.splice(e--,1)}return t.length?t:null}function ai(t,e){var n=go(t,e),r=ii(t,e);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)t:for(var s=0;s<a.length;++s){for(var l=a[s],u=0;u<o.length;++u)if(o[u].marker==l.marker)continue t;o.push(l)}else a&&(n[i]=a)}return n}function si(t,e,n){var r=null;if(t.iter(e.line,n.line+1,function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var n=t.markedSpans[e].marker;!n.readOnly||r&&-1!=Oo(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:e,to:n}],o=0;o<r.length;++o)for(var a=r[o],s=a.find(0),l=0;l<i.length;++l){var u=i[l];if(!(Na(u.to,s.from)<0||Na(u.from,s.to)>0)){var c=[l,1],f=Na(u.from,s.from),h=Na(u.to,s.to);(0>f||!a.inclusiveLeft&&!f)&&c.push({from:u.from,to:s.from}),(h>0||!a.inclusiveRight&&!h)&&c.push({from:s.to,to:u.to}),i.splice.apply(i,c),l+=c.length-1}}return i}function li(t){var e=t.markedSpans;if(e){for(var n=0;n<e.length;++n)e[n].marker.detachLine(t);t.markedSpans=null}}function ui(t,e){if(e){for(var n=0;n<e.length;++n)e[n].marker.attachLine(t);t.markedSpans=e}}function ci(t){return t.inclusiveLeft?-1:0}function fi(t){return t.inclusiveRight?1:0}function hi(t,e){var n=t.lines.length-e.lines.length;if(0!=n)return n;var r=t.find(),i=e.find(),o=Na(r.from,i.from)||ci(t)-ci(e);if(o)return-o;var a=Na(r.to,i.to)||fi(t)-fi(e);return a?a:e.id-t.id}function pi(t,e){var n,r=La&&t.markedSpans;if(r)for(var i,o=0;o<r.length;++o)i=r[o],i.marker.collapsed&&null==(e?i.from:i.to)&&(!n||hi(n,i.marker)<0)&&(n=i.marker);return n}function di(t){return pi(t,!0)}function gi(t){return pi(t,!1)}function mi(t,e,n,r,i){var o=Ki(t,e),a=La&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var u=l.marker.find(0),c=Na(u.from,n)||ci(l.marker)-ci(i),f=Na(u.to,r)||fi(l.marker)-fi(i);if(!(c>=0&&0>=f||0>=c&&f>=0)&&(0>=c&&(Na(u.to,n)>0||l.marker.inclusiveRight&&i.inclusiveLeft)||c>=0&&(Na(u.from,r)<0||l.marker.inclusiveLeft&&i.inclusiveRight)))return!0}}}function vi(t){for(var e;e=di(t);)t=e.find(-1,!0).line;return t}function yi(t){for(var e,n;e=gi(t);)t=e.find(1,!0).line,(n||(n=[])).push(t);return n}function bi(t,e){var n=Ki(t,e),r=vi(n);return n==r?e:to(r)}function wi(t,e){if(e>t.lastLine())return e;var n,r=Ki(t,e);if(!xi(t,r))return e;for(;n=gi(r);)r=n.find(1,!0).line;return to(r)+1}function xi(t,e){var n=La&&e.markedSpans;if(n)for(var r,i=0;i<n.length;++i)if(r=n[i],r.marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&$i(t,e,r))return!0}}function $i(t,e,n){if(null==n.to){var r=n.marker.find(1,!0);return $i(t,r.line,Jr(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==e.text.length)return!0;for(var i,o=0;o<e.markedSpans.length;++o)if(i=e.markedSpans[o],i.marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&$i(t,e,i))return!0}function Ci(t,e,n){no(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&Ir(t,null,n)}function Si(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!Us(document.body,t.node)){var n="position: relative;";t.coverGutter&&(n+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(n+="width: "+e.display.wrapper.clientWidth+"px;"),Wo(e.display.measure,Bo("div",[t.node],null,n))}return t.height=t.node.offsetHeight}function ki(t,e,n,r){var i=new vs(t,n,r),o=t.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),zr(t,e,"widget",function(e){var n=e.widgets||(e.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=e,o&&!xi(t,e)){var r=no(e)<t.scrollTop;Ji(e,e.height+Si(i)),r&&Ir(o,null,i.height),o.curOp.forceUpdate=!0}return!0}),i}function Ti(t,e,n,r){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),li(t),ui(t,n);var i=r?r(t):1;i!=t.height&&Ji(t,i)}function Mi(t){t.parent=null,li(t)}function _i(t,e){if(t)for(;;){var n=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;t=t.slice(0,n.index)+t.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==e[r]?e[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(e[r])||(e[r]+=" "+n[2])}return t}function Ai(e,n){if(e.blankLine)return e.blankLine(n);if(e.innerMode){var r=t.innerMode(e,n);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function Ei(e,n,r,i){for(var o=0;10>o;o++){i&&(i[0]=t.innerMode(e,r).mode);var a=e.token(n,r);if(n.pos>n.start)return a}throw new Error("Mode "+e.name+" failed to advance stream.")}function Di(t,e,n,r){function i(t){return{start:f.start,end:f.pos,string:f.current(),type:o||null,state:t?as(a.mode,c):c}}var o,a=t.doc,s=a.mode;e=me(a,e);var l,u=Ki(a,e.line),c=He(t,e.line,n),f=new ps(u.text,t.options.tabSize);for(r&&(l=[]);(r||f.pos<e.ch)&&!f.eol();)f.start=f.pos,o=Ei(s,f,c),r&&l.push(i(!0));return r?l:i()}function Fi(t,e,n,r,i,o,a){var s=n.flattenSpans;null==s&&(s=t.options.flattenSpans);var l,u=0,c=null,f=new ps(e,t.options.tabSize),h=t.options.addModeClass&&[null];for(""==e&&_i(Ai(n,r),o);!f.eol();){if(f.pos>t.options.maxHighlightLength?(s=!1,a&&Li(t,e,r,f.pos),f.pos=e.length,l=null):l=_i(Ei(n,f,r,h),o),h){var p=h[0].name;p&&(l="m-"+(l?p+" "+l:p))}if(!s||c!=l){for(;u<f.start;)u=Math.min(f.start,u+5e4),i(u,c);c=l}f.start=f.pos}for(;u<f.pos;){var d=Math.min(f.pos,u+5e4);i(d,c),u=d}}function Oi(t,e,n,r){var i=[t.state.modeGen],o={};Fi(t,e.text,t.doc.mode,n,function(t,e){i.push(t,e)},o,r);for(var a=0;a<t.state.overlays.length;++a){var s=t.state.overlays[a],l=1,u=0;Fi(t,e.text,s.mode,!0,function(t,e){for(var n=l;t>u;){var r=i[l];r>t&&i.splice(l,1,t,i[l+1],r),l+=2,u=Math.min(t,r)}if(e)if(s.opaque)i.splice(n,l-n,t,"cm-overlay "+e),l=n+2;else for(;l>n;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"cm-overlay "+e}},o)}return{styles:i,classes:o.bgClass||o.textClass?o:null}}function Pi(t,e,n){if(!e.styles||e.styles[0]!=t.state.modeGen){var r=He(t,to(e)),i=Oi(t,e,e.text.length>t.options.maxHighlightLength?as(t.doc.mode,r):r);e.stateAfter=r,e.styles=i.styles,i.classes?e.styleClasses=i.classes:e.styleClasses&&(e.styleClasses=null),n===t.doc.frontier&&t.doc.frontier++}return e.styles}function Li(t,e,n,r){var i=t.doc.mode,o=new ps(e,t.options.tabSize);for(o.start=o.pos=r||0,""==e&&Ai(i,n);!o.eol();)Ei(i,o,n),o.start=o.pos}function Ii(t,e){if(!t||/^\s*$/.test(t))return null;var n=e.addModeClass?ws:bs;return n[t]||(n[t]=t.replace(/\S+/g,"cm-$&"))}function Ni(t,e){var n=Bo("span",null,null,wa?"padding-right: .1px":null),r={pre:Bo("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:t,splitSpaces:(ya||wa)&&t.getOption("lineWrapping")};e.measure={};for(var i=0;i<=(e.rest?e.rest.length:0);i++){var o,a=i?e.rest[i-1]:e.line;r.pos=0,r.addToken=Ri,Zo(t.display.measure)&&(o=ro(a))&&(r.addToken=Hi(r.addToken,o)),r.map=[];var s=e!=t.display.externalMeasured&&to(a);qi(a,r,Pi(t,a,s)),a.styleClasses&&(a.styleClasses.bgClass&&(r.bgClass=Yo(a.styleClasses.bgClass,r.bgClass||"")),a.styleClasses.textClass&&(r.textClass=Yo(a.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Qo(t.display.measure))),0==i?(e.measure.map=r.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(r.map),(e.measure.caches||(e.measure.caches=[])).push({}))}return wa&&/\bcm-tab\b/.test(r.content.lastChild.className)&&(r.content.className="cm-tab-wrap-hack"),Ds(t,"renderLine",t,e.line,r.pre),r.pre.className&&(r.textClass=Yo(r.pre.className,r.textClass||"")),r}function ji(t){var e=Bo("span","","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function Ri(t,e,n,r,i,o,a){if(e){var s=t.splitSpaces?e.replace(/ {3,}/g,zi):e,l=t.cm.state.specialChars,u=!1;if(l.test(e))for(var c=document.createDocumentFragment(),f=0;;){l.lastIndex=f;var h=l.exec(e),p=h?h.index-f:e.length-f;if(p){var d=document.createTextNode(s.slice(f,f+p));c.appendChild(ya&&9>ba?Bo("span",[d]):d),t.map.push(t.pos,t.pos+p,d),t.col+=p,t.pos+=p}if(!h)break;if(f+=p+1,"	"==h[0]){var g=t.cm.options.tabSize,m=g-t.col%g,d=c.appendChild(Bo("span",Do(m),"cm-tab"));d.setAttribute("role","presentation"),d.setAttribute("cm-text","	"),t.col+=m}else if("\r"==h[0]||"\n"==h[0]){var d=c.appendChild(Bo("span","\r"==h[0]?"":"","cm-invalidchar"));d.setAttribute("cm-text",h[0]),t.col+=1}else{var d=t.cm.options.specialCharPlaceholder(h[0]);d.setAttribute("cm-text",h[0]),c.appendChild(ya&&9>ba?Bo("span",[d]):d),t.col+=1}t.map.push(t.pos,t.pos+1,d),t.pos++}else{t.col+=e.length;var c=document.createTextNode(s);t.map.push(t.pos,t.pos+e.length,c),ya&&9>ba&&(u=!0),t.pos+=e.length}if(n||r||i||u||a){var v=n||"";r&&(v+=r),i&&(v+=i);var y=Bo("span",[c],v,a);return o&&(y.title=o),t.content.appendChild(y)}t.content.appendChild(c)}}function zi(t){for(var e=" ",n=0;n<t.length-2;++n)e+=n%2?" ":"";return e+=" "}function Hi(t,e){return function(n,r,i,o,a,s,l){i=i?i+" cm-force-border":"cm-force-border";for(var u=n.pos,c=u+r.length;;){for(var f=0;f<e.length;f++){var h=e[f];if(h.to>u&&h.from<=u)break}if(h.to>=c)return t(n,r,i,o,a,s,l);t(n,r.slice(0,h.to-u),i,o,null,s,l),o=null,r=r.slice(h.to-u),u=h.to}}}function Bi(t,e,n,r){var i=!r&&n.widgetNode;i&&t.map.push(t.pos,t.pos+e,i),!r&&t.cm.display.input.needsContentAttribute&&(i||(i=t.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(t.cm.display.input.setUneditable(i),t.content.appendChild(i)),t.pos+=e}function qi(t,e,n){var r=t.markedSpans,i=t.text,o=0;if(r)for(var a,s,l,u,c,f,h,p=i.length,d=0,g=1,m="",v=0;;){if(v==d){l=u=c=f=s="",h=null,v=1/0;for(var y=[],b=0;b<r.length;++b){var w=r[b],x=w.marker;"bookmark"==x.type&&w.from==d&&x.widgetNode?y.push(x):w.from<=d&&(null==w.to||w.to>d||x.collapsed&&w.to==d&&w.from==d)?(null!=w.to&&w.to!=d&&v>w.to&&(v=w.to,u=""),x.className&&(l+=" "+x.className),x.css&&(s=x.css),x.startStyle&&w.from==d&&(c+=" "+x.startStyle),x.endStyle&&w.to==v&&(u+=" "+x.endStyle),x.title&&!f&&(f=x.title),x.collapsed&&(!h||hi(h.marker,x)<0)&&(h=w)):w.from>d&&v>w.from&&(v=w.from)}if(h&&(h.from||0)==d){if(Bi(e,(null==h.to?p+1:h.to)-d,h.marker,null==h.from),null==h.to)return;h.to==d&&(h=!1)}if(!h&&y.length)for(var b=0;b<y.length;++b)Bi(e,0,y[b])}if(d>=p)break;for(var $=Math.min(p,v);;){if(m){var C=d+m.length;if(!h){var S=C>$?m.slice(0,$-d):m;e.addToken(e,S,a?a+l:l,c,d+S.length==v?u:"",f,s)}if(C>=$){m=m.slice($-d),d=$;break}d=C,c=""}m=i.slice(o,o=n[g++]),a=Ii(n[g++],e.cm.options)}}else for(var g=1;g<n.length;g+=2)e.addToken(e,i.slice(o,o=n[g]),Ii(n[g+1],e.cm.options))}function Wi(t,e){return 0==e.from.ch&&0==e.to.ch&&""==Fo(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Vi(t,e,n,r){function i(t){return n?n[t]:null}function o(t,n,i){Ti(t,n,i,r),So(t,"change",t,e)}function a(t,e){for(var n=t,o=[];e>n;++n)o.push(new ys(u[n],i(n),r));return o}var s=e.from,l=e.to,u=e.text,c=Ki(t,s.line),f=Ki(t,l.line),h=Fo(u),p=i(u.length-1),d=l.line-s.line;if(e.full)t.insert(0,a(0,u.length)),t.remove(u.length,t.size-u.length);else if(Wi(t,e)){var g=a(0,u.length-1);o(f,f.text,p),d&&t.remove(s.line,d),g.length&&t.insert(s.line,g)}else if(c==f)if(1==u.length)o(c,c.text.slice(0,s.ch)+h+c.text.slice(l.ch),p);else{var g=a(1,u.length-1);g.push(new ys(h+c.text.slice(l.ch),p,r)),o(c,c.text.slice(0,s.ch)+u[0],i(0)),t.insert(s.line+1,g)}else if(1==u.length)o(c,c.text.slice(0,s.ch)+u[0]+f.text.slice(l.ch),i(0)),t.remove(s.line+1,d);else{o(c,c.text.slice(0,s.ch)+u[0],i(0)),o(f,h+f.text.slice(l.ch),p);var g=a(1,u.length-1);d>1&&t.remove(s.line+1,d-1),t.insert(s.line+1,g)}So(t,"change",t,e)}function Ui(t){this.lines=t,this.parent=null;for(var e=0,n=0;e<t.length;++e)t[e].parent=this,n+=t[e].height;this.height=n}function Yi(t){this.children=t;for(var e=0,n=0,r=0;r<t.length;++r){var i=t[r];e+=i.chunkSize(),n+=i.height,i.parent=this}this.size=e,this.height=n,this.parent=null}function Gi(t,e,n){function r(t,i,o){if(t.linked)for(var a=0;a<t.linked.length;++a){var s=t.linked[a];if(s.doc!=i){var l=o&&s.sharedHist;(!n||l)&&(e(s.doc,l),r(s.doc,t,l))}}}r(t,null,!0)}function Xi(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,a(t),n(t),t.options.lineWrapping||h(t),t.options.mode=e.modeOption,Ln(t)}function Ki(t,e){if(e-=t.first,0>e||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var n=t;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(o>e){n=i;break}e-=o}return n.lines[e]}function Qi(t,e,n){var r=[],i=e.line;return t.iter(e.line,n.line+1,function(t){var o=t.text;i==n.line&&(o=o.slice(0,n.ch)),i==e.line&&(o=o.slice(e.ch)),r.push(o),++i}),r}function Zi(t,e,n){var r=[];return t.iter(e,n,function(t){r.push(t.text)}),r}function Ji(t,e){var n=e-t.height;if(n)for(var r=t;r;r=r.parent)r.height+=n}function to(t){if(null==t.parent)return null;for(var e=t.parent,n=Oo(e.lines,t),r=e.parent;r;e=r,r=r.parent)for(var i=0;r.children[i]!=e;++i)n+=r.children[i].chunkSize();return n+e.first}function eo(t,e){var n=t.first;t:do{for(var r=0;r<t.children.length;++r){var i=t.children[r],o=i.height;if(o>e){t=i;continue t}e-=o,n+=i.chunkSize()}return n}while(!t.lines);for(var r=0;r<t.lines.length;++r){var a=t.lines[r],s=a.height;if(s>e)break;e-=s}return n+r}function no(t){t=vi(t);for(var e=0,n=t.parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==t)break;e+=i.height}for(var o=n.parent;o;n=o,o=n.parent)for(var r=0;r<o.children.length;++r){var a=o.children[r];if(a==n)break;e+=a.height}return e}function ro(t){var e=t.order;return null==e&&(e=t.order=ol(t.text)),e}function io(t){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t||1}function oo(t,e){var n={from:Y(e.from),to:Qa(e),text:Qi(t,e.from,e.to)};return ho(t,n,e.from.line,e.to.line+1),Gi(t,function(t){ho(t,n,e.from.line,e.to.line+1)},!0),n}function ao(t){for(;t.length;){var e=Fo(t);if(!e.ranges)break;t.pop()}}function so(t,e){return e?(ao(t.done),Fo(t.done)):t.done.length&&!Fo(t.done).ranges?Fo(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),Fo(t.done)):void 0}function lo(t,e,n,r){var i=t.history;i.undone.length=0;var o,a=+new Date;if((i.lastOp==r||i.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&t.cm&&i.lastModTime>a-t.cm.options.historyEventDelay||"*"==e.origin.charAt(0)))&&(o=so(i,i.lastOp==r))){var s=Fo(o.changes);0==Na(e.from,e.to)&&0==Na(e.from,s.to)?s.to=Qa(e):o.changes.push(oo(t,e))}else{var l=Fo(i.done);for(l&&l.ranges||fo(t.sel,i.done),o={changes:[oo(t,e)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=a,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=e.origin,s||Ds(t,"historyAdded")}function uo(t,e,n,r){var i=e.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function co(t,e,n,r){var i=t.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||uo(t,o,Fo(i.done),e))?i.done[i.done.length-1]=e:fo(e,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&r.clearRedo!==!1&&ao(i.undone)}function fo(t,e){var n=Fo(e);n&&n.ranges&&n.equals(t)||e.push(t)}function ho(t,e,n,r){var i=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,n),Math.min(t.first+t.size,r),function(n){n.markedSpans&&((i||(i=e["spans_"+t.id]={}))[o]=n.markedSpans),++o})}function po(t){if(!t)return null;for(var e,n=0;n<t.length;++n)t[n].marker.explicitlyCleared?e||(e=t.slice(0,n)):e&&e.push(t[n]);return e?e.length?e:null:t}function go(t,e){var n=e["spans_"+t.id];if(!n)return null;for(var r=0,i=[];r<e.text.length;++r)i.push(po(n[r]));return i}function mo(t,e,n){for(var r=0,i=[];r<t.length;++r){var o=t[r];if(o.ranges)i.push(n?fe.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];i.push({changes:s});for(var l=0;l<a.length;++l){var u,c=a[l];if(s.push({from:c.from,to:c.to,text:c.text}),e)for(var f in c)(u=f.match(/^spans_(\d+)$/))&&Oo(e,Number(u[1]))>-1&&(Fo(s)[f]=c[f],delete c[f])}}}return i}function vo(t,e,n,r){n<t.line?t.line+=r:e<t.line&&(t.line=e,t.ch=0)}function yo(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i],a=!0;if(o.ranges){o.copied||(o=t[i]=o.deepCopy(),o.copied=!0);for(var s=0;s<o.ranges.length;s++)vo(o.ranges[s].anchor,e,n,r),vo(o.ranges[s].head,e,n,r)}else{for(var s=0;s<o.changes.length;++s){var l=o.changes[s];if(n<l.from.line)l.from=Ia(l.from.line+r,l.from.ch),l.to=Ia(l.to.line+r,l.to.ch);else if(e<=l.to.line){a=!1;break}}a||(t.splice(0,i+1),i=0)}}}function bo(t,e){var n=e.from.line,r=e.to.line,i=e.text.length-(r-n)-1;yo(t.done,n,r,i),yo(t.undone,n,r,i)}function wo(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function xo(t){return t.target||t.srcElement}function $o(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),Aa&&t.ctrlKey&&1==e&&(e=3),e}function Co(t,e,n){var r=t._handlers&&t._handlers[e];return n?r&&r.length>0?r.slice():As:r||As}function So(t,e){function n(t){return function(){t.apply(null,o)}}var r=Co(t,e,!1);if(r.length){var i,o=Array.prototype.slice.call(arguments,2);qa?i=qa.delayedCallbacks:Fs?i=Fs:(i=Fs=[],setTimeout(ko,0));for(var a=0;a<r.length;++a)i.push(n(r[a]))}}function ko(){var t=Fs;Fs=null;for(var e=0;e<t.length;++e)t[e]()}function To(t,e,n){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),Ds(t,n||e.type,t,e),wo(e)||e.codemirrorIgnore}function Mo(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var n=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),r=0;r<e.length;++r)-1==Oo(n,e[r])&&n.push(e[r])}function _o(t,e){return Co(t,e).length>0}function Ao(t){t.prototype.on=function(t,e){_s(this,t,e)},t.prototype.off=function(t,e){Es(this,t,e)}}function Eo(){this.id=null}function Do(t){for(;zs.length<=t;)zs.push(Fo(zs)+" ");return zs[t]}function Fo(t){return t[t.length-1]}function Oo(t,e){for(var n=0;n<t.length;++n)if(t[n]==e)return n;return-1}function Po(t,e){for(var n=[],r=0;r<t.length;r++)n[r]=e(t[r],r);return n}function Lo(){}function Io(t,e){var n;return Object.create?n=Object.create(t):(Lo.prototype=t,n=new Lo),e&&No(e,n),n}function No(t,e,n){e||(e={});for(var r in t)!t.hasOwnProperty(r)||n===!1&&e.hasOwnProperty(r)||(e[r]=t[r]);return e}function jo(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function Ro(t,e){return e?e.source.indexOf("\\w")>-1&&Ws(t)?!0:e.test(t):Ws(t)}function zo(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}function Ho(t){return t.charCodeAt(0)>=768&&Vs.test(t)}function Bo(t,e,n,r){var i=document.createElement(t);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof e)i.appendChild(document.createTextNode(e));else if(e)for(var o=0;o<e.length;++o)i.appendChild(e[o]);return i}function qo(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function Wo(t,e){return qo(t).appendChild(e)}function Vo(){for(var t=document.activeElement;t&&t.root&&t.root.activeElement;)t=t.root.activeElement;return t}function Uo(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}function Yo(t,e){for(var n=t.split(" "),r=0;r<n.length;r++)n[r]&&!Uo(n[r]).test(e)&&(e+=" "+n[r]);return e}function Go(t){if(document.body.getElementsByClassName)for(var e=document.body.getElementsByClassName("CodeMirror"),n=0;n<e.length;n++){var r=e[n].CodeMirror;r&&t(r)}}function Xo(){Qs||(Ko(),Qs=!0)}function Ko(){var t;_s(window,"resize",function(){null==t&&(t=setTimeout(function(){t=null,Go(Wn)},100))}),_s(window,"blur",function(){Go(vr)})}function Qo(t){if(null==Ys){var e=Bo("span","");Wo(t,Bo("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(Ys=e.offsetWidth<=1&&e.offsetHeight>2&&!(ya&&8>ba))}var n=Ys?Bo("span",""):Bo("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Zo(t){if(null!=Gs)return Gs;var e=Wo(t,document.createTextNode("AA")),n=Bs(e,0,1).getBoundingClientRect();if(!n||n.left==n.right)return!1;var r=Bs(e,1,2).getBoundingClientRect();return Gs=r.right-n.right<3}function Jo(t){if(null!=nl)return nl;var e=Wo(t,Bo("span","x")),n=e.getBoundingClientRect(),r=Bs(e,0,1).getBoundingClientRect();return nl=Math.abs(n.left-r.left)>1}function ta(t,e,n,r){if(!t)return r(e,n,"ltr");for(var i=!1,o=0;o<t.length;++o){var a=t[o];(a.from<n&&a.to>e||e==n&&a.to==e)&&(r(Math.max(a.from,e),Math.min(a.to,n),1==a.level?"rtl":"ltr"),i=!0)}i||r(e,n,"ltr")}function ea(t){return t.level%2?t.to:t.from}function na(t){return t.level%2?t.from:t.to}function ra(t){var e=ro(t);return e?ea(e[0]):0}function ia(t){var e=ro(t);return e?na(Fo(e)):t.text.length}function oa(t,e){var n=Ki(t.doc,e),r=vi(n);r!=n&&(e=to(r));var i=ro(r),o=i?i[0].level%2?ia(r):ra(r):0;return Ia(e,o)}function aa(t,e){for(var n,r=Ki(t.doc,e);n=gi(r);)r=n.find(1,!0).line,e=null;var i=ro(r),o=i?i[0].level%2?ra(r):ia(r):r.text.length;return Ia(null==e?to(r):e,o)}function sa(t,e){var n=oa(t,e.line),r=Ki(t.doc,n.line),i=ro(r);if(!i||0==i[0].level){var o=Math.max(0,r.text.search(/\S/)),a=e.line==n.line&&e.ch<=o&&e.ch;return Ia(n.line,a?0:o)}return n}function la(t,e,n){var r=t[0].level;return e==r?!0:n==r?!1:n>e}function ua(t,e){il=null;for(var n,r=0;r<t.length;++r){var i=t[r];if(i.from<e&&i.to>e)return r;if(i.from==e||i.to==e){if(null!=n)return la(t,i.level,t[n].level)?(i.from!=i.to&&(il=n),r):(i.from!=i.to&&(il=r),n);n=r}}return n}function ca(t,e,n,r){if(!r)return e+n;do e+=n;while(e>0&&Ho(t.text.charAt(e)));return e}function fa(t,e,n,r){var i=ro(t);if(!i)return ha(t,e,n,r);for(var o=ua(i,e),a=i[o],s=ca(t,e,a.level%2?-n:n,r);;){if(s>a.from&&s<a.to)return s;if(s==a.from||s==a.to)return ua(i,s)==o?s:(a=i[o+=n],n>0==a.level%2?a.to:a.from);if(a=i[o+=n],!a)return null;s=n>0==a.level%2?ca(t,a.to,-1,r):ca(t,a.from,1,r)}}function ha(t,e,n,r){var i=e+n;if(r)for(;i>0&&Ho(t.text.charAt(i));)i+=n;return 0>i||i>t.text.length?null:i}var pa=navigator.userAgent,da=navigator.platform,ga=/gecko\/\d/i.test(pa),ma=/MSIE \d/.test(pa),va=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(pa),ya=ma||va,ba=ya&&(ma?document.documentMode||6:va[1]),wa=/WebKit\//.test(pa),xa=wa&&/Qt\/\d+\.\d+/.test(pa),$a=/Chrome\//.test(pa),Ca=/Opera\//.test(pa),Sa=/Apple Computer/.test(navigator.vendor),ka=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(pa),Ta=/PhantomJS/.test(pa),Ma=/AppleWebKit/.test(pa)&&/Mobile\/\w+/.test(pa),_a=Ma||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(pa),Aa=Ma||/Mac/.test(da),Ea=/win/i.test(da),Da=Ca&&pa.match(/Version\/(\d*\.\d*)/);Da&&(Da=Number(Da[1])),Da&&Da>=15&&(Ca=!1,wa=!0);var Fa=Aa&&(xa||Ca&&(null==Da||12.11>Da)),Oa=ga||ya&&ba>=9,Pa=!1,La=!1;g.prototype=No({update:function(t){var e=t.scrollWidth>t.clientWidth+1,n=t.scrollHeight>t.clientHeight+1,r=t.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=e?r+"px":"0";var i=t.viewHeight-(e?r:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=t.barLeft+"px";var o=t.viewWidth-t.barLeft-(n?r:0);this.horiz.firstChild.style.width=t.scrollWidth-t.clientWidth+o+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedOverlay&&t.clientHeight>0&&(0==r&&this.overlayHack(),this.checkedOverlay=!0),{right:n?r:0,bottom:e?r:0}},setScrollLeft:function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t)},setScrollTop:function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t)},overlayHack:function(){var t=Aa&&!ka?"12px":"18px";this.horiz.style.minHeight=this.vert.style.minWidth=t;var e=this,n=function(t){xo(t)!=e.vert&&xo(t)!=e.horiz&&En(e.cm,Yn)(t)};_s(this.vert,"mousedown",n),_s(this.horiz,"mousedown",n)},clear:function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)}},g.prototype),m.prototype=No({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},m.prototype),t.scrollbarModel={"native":g,"null":m},k.prototype.signal=function(t,e){_o(t,e)&&this.events.push(arguments)},k.prototype.finish=function(){for(var t=0;t<this.events.length;t++)Ds.apply(null,this.events[t])};var Ia=t.Pos=function(t,e){return this instanceof Ia?(this.line=t,void(this.ch=e)):new Ia(t,e)},Na=t.cmpPos=function(t,e){return t.line-e.line||t.ch-e.ch},ja=null;re.prototype=No({init:function(t){function e(t){if(r.somethingSelected())ja=r.getSelections(),n.inaccurateSelection&&(n.prevInput="",n.inaccurateSelection=!1,o.value=ja.join("\n"),Hs(o));else{if(!r.options.lineWiseCopyCut)return;var e=ee(r);ja=e.text,"cut"==t.type?r.setSelections(e.ranges,null,Ls):(n.prevInput="",o.value=e.text.join("\n"),Hs(o))}"cut"==t.type&&(r.state.cutIncoming=!0)}var n=this,r=this.cm,i=this.wrapper=ie(),o=this.textarea=i.firstChild;t.wrapper.insertBefore(i,t.wrapper.firstChild),Ma&&(o.style.width="0px"),_s(o,"input",function(){ya&&ba>=9&&n.hasSelection&&(n.hasSelection=null),n.poll()}),_s(o,"paste",function(t){return J(t,r)?!0:(r.state.pasteIncoming=!0,void n.fastPoll())}),_s(o,"cut",e),_s(o,"copy",e),_s(t.scroller,"paste",function(e){Vn(t,e)||(r.state.pasteIncoming=!0,n.focus())}),_s(t.lineSpace,"selectstart",function(e){Vn(t,e)||ks(e)}),_s(o,"compositionstart",function(){var t=r.getCursor("from");
n.composing&&n.composing.range.clear(),n.composing={start:t,range:r.markText(t,r.getCursor("to"),{className:"CodeMirror-composing"})}}),_s(o,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},prepareSelection:function(){var t=this.cm,e=t.display,n=t.doc,r=Pe(t);if(t.options.moveInputWithCursor){var i=pn(t,n.sel.primary().head,"div"),o=e.wrapper.getBoundingClientRect(),a=e.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},showSelection:function(t){var e=this.cm,n=e.display;Wo(n.cursorDiv,t.cursors),Wo(n.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},reset:function(t){if(!this.contextMenuPending){var e,n,r=this.cm,i=r.doc;if(r.somethingSelected()){this.prevInput="";var o=i.sel.primary();e=el&&(o.to().line-o.from().line>100||(n=r.getSelection()).length>1e3);var a=e?"-":n||r.getSelection();this.textarea.value=a,r.state.focused&&Hs(this.textarea),ya&&ba>=9&&(this.hasSelection=a)}else t||(this.prevInput=this.textarea.value="",ya&&ba>=9&&(this.hasSelection=null));this.inaccurateSelection=e}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!_a||Vo()!=this.textarea))try{this.textarea.focus()}catch(t){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var t=this;t.pollingFast||t.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},fastPoll:function(){function t(){var r=n.poll();r||e?(n.pollingFast=!1,n.slowPoll()):(e=!0,n.polling.set(60,t))}var e=!1,n=this;n.pollingFast=!0,n.polling.set(20,t)},poll:function(){var t=this.cm,e=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||tl(e)&&!n&&!this.composing||Q(t)||t.options.disableInput||t.state.keySeq)return!1;var r=e.value;if(r==n&&!t.somethingSelected())return!1;if(ya&&ba>=9&&this.hasSelection===r||Aa&&/[\uf700-\uf7ff]/.test(r))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var i=r.charCodeAt(0);if(8203!=i||n||(n=""),8666==i)return this.reset(),this.cm.execCommand("undo")}for(var o=0,a=Math.min(n.length,r.length);a>o&&n.charCodeAt(o)==r.charCodeAt(o);)++o;var s=this;return An(t,function(){Z(t,r.slice(o),n.length-o,null,s.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?e.value=s.prevInput="":s.prevInput=r,s.composing&&(s.composing.range.clear(),s.composing.range=t.markText(s.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){ya&&ba>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(t){function e(){if(null!=a.selectionStart){var t=i.somethingSelected(),e=""+(t?a.value:"");a.value="",a.value=e,r.prevInput=t?"":"",a.selectionStart=1,a.selectionEnd=e.length,o.selForContextMenu=i.doc.sel}}function n(){if(r.contextMenuPending=!1,r.wrapper.style.position="relative",a.style.cssText=c,ya&&9>ba&&o.scrollbars.setScrollTop(o.scroller.scrollTop=l),null!=a.selectionStart){(!ya||ya&&9>ba)&&e();var t=0,n=function(){o.selForContextMenu==i.doc.sel&&0==a.selectionStart&&a.selectionEnd>0&&""==r.prevInput?En(i,ls.selectAll)(i):t++<10?o.detectingSelectAll=setTimeout(n,500):o.input.reset()};o.detectingSelectAll=setTimeout(n,200)}}var r=this,i=r.cm,o=i.display,a=r.textarea,s=Un(i,t),l=o.scroller.scrollTop;if(s&&!Ca){var u=i.options.resetSelectionOnContextMenu;u&&-1==i.doc.sel.contains(s)&&En(i,Me)(i.doc,de(s),Ls);var c=a.style.cssText;if(r.wrapper.style.position="absolute",a.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(t.clientY-5)+"px; left: "+(t.clientX-5)+"px; z-index: 1000; background: "+(ya?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",wa)var f=window.scrollY;if(o.input.focus(),wa&&window.scrollTo(null,f),o.input.reset(),i.somethingSelected()||(a.value=r.prevInput=" "),r.contextMenuPending=!0,o.selForContextMenu=i.doc.sel,clearTimeout(o.detectingSelectAll),ya&&ba>=9&&e(),Oa){Ms(t);var h=function(){Es(window,"mouseup",h),setTimeout(n,20)};_s(window,"mouseup",h)}else setTimeout(n,50)}},readOnlyChanged:function(t){t||this.reset()},setUneditable:Lo,needsContentAttribute:!1},re.prototype),oe.prototype=No({init:function(t){function e(t){if(r.somethingSelected())ja=r.getSelections(),"cut"==t.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var e=ee(r);ja=e.text,"cut"==t.type&&r.operation(function(){r.setSelections(e.ranges,0,Ls),r.replaceSelection("",null,"cut")})}if(t.clipboardData&&!Ma)t.preventDefault(),t.clipboardData.clearData(),t.clipboardData.setData("text/plain",ja.join("\n"));else{var n=ie(),i=n.firstChild;r.display.lineSpace.insertBefore(n,r.display.lineSpace.firstChild),i.value=ja.join("\n");var o=document.activeElement;Hs(i),setTimeout(function(){r.display.lineSpace.removeChild(n),o.focus()},50)}}var n=this,r=n.cm,i=n.div=t.lineDiv;ne(i),_s(i,"paste",function(t){J(t,r)}),_s(i,"compositionstart",function(t){var e=t.data;if(n.composing={sel:r.doc.sel,data:e,startData:e},e){var i=r.doc.sel.primary(),o=r.getLine(i.head.line),a=o.indexOf(e,Math.max(0,i.head.ch-e.length));a>-1&&a<=i.head.ch&&(n.composing.sel=de(Ia(i.head.line,a),Ia(i.head.line,a+e.length)))}}),_s(i,"compositionupdate",function(t){n.composing.data=t.data}),_s(i,"compositionend",function(t){var e=n.composing;e&&(t.data==e.startData||/\u200b/.test(t.data)||(e.data=t.data),setTimeout(function(){e.handled||n.applyComposition(e),n.composing==e&&(n.composing=null)},50))}),_s(i,"touchstart",function(){n.forceCompositionEnd()}),_s(i,"input",function(){n.composing||(Q(r)||!n.pollContent())&&An(n.cm,function(){Ln(r)})}),_s(i,"copy",e),_s(i,"cut",e)},prepareSelection:function(){var t=Pe(this.cm,!1);return t.focus=this.cm.state.focused,t},showSelection:function(t){t&&this.cm.display.view.length&&(t.focus&&this.showPrimarySelection(),this.showMultipleSelections(t))},showPrimarySelection:function(){var t=window.getSelection(),e=this.cm.doc.sel.primary(),n=le(this.cm,t.anchorNode,t.anchorOffset),r=le(this.cm,t.focusNode,t.focusOffset);if(!n||n.bad||!r||r.bad||0!=Na(X(n,r),e.from())||0!=Na(G(n,r),e.to())){var i=ae(this.cm,e.from()),o=ae(this.cm,e.to());if(i||o){var a=this.cm.display.view,s=t.rangeCount&&t.getRangeAt(0);if(i){if(!o){var l=a[a.length-1].measure,u=l.maps?l.maps[l.maps.length-1]:l.map;o={node:u[u.length-1],offset:u[u.length-2]-u[u.length-3]}}}else i={node:a[0].measure.map[2],offset:0};try{var c=Bs(i.node,i.offset,o.offset,o.node)}catch(f){}c&&(t.removeAllRanges(),t.addRange(c),s&&null==t.anchorNode?t.addRange(s):ga&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){t.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(t){Wo(this.cm.display.cursorDiv,t.cursors),Wo(this.cm.display.selectionDiv,t.selection)},rememberSelection:function(){var t=window.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},selectionInEditor:function(){var t=window.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return Us(this.div,e)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}var e=this;this.selectionInEditor()?this.pollSelection():An(this.cm,function(){e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,t)},selectionChanged:function(){var t=window.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var t=window.getSelection(),e=this.cm;this.rememberSelection();var n=le(e,t.anchorNode,t.anchorOffset),r=le(e,t.focusNode,t.focusOffset);n&&r&&An(e,function(){Me(e.doc,de(n,r),Ls),(n.bad||r.bad)&&(e.curOp.selectionChanged=!0)})}},pollContent:function(){var t=this.cm,e=t.display,n=t.doc.sel.primary(),r=n.from(),i=n.to();if(r.line<e.viewFrom||i.line>e.viewTo-1)return!1;var o;if(r.line==e.viewFrom||0==(o=jn(t,r.line)))var a=to(e.view[0].line),s=e.view[0].node;else var a=to(e.view[o].line),s=e.view[o-1].node.nextSibling;var l=jn(t,i.line);if(l==e.view.length-1)var u=e.viewTo-1,c=e.lineDiv.lastChild;else var u=to(e.view[l+1].line)-1,c=e.view[l+1].node.previousSibling;for(var f=t.doc.splitLines(ce(t,s,c,a,u)),h=Qi(t.doc,Ia(a,0),Ia(u,Ki(t.doc,u).text.length));f.length>1&&h.length>1;)if(Fo(f)==Fo(h))f.pop(),h.pop(),u--;else{if(f[0]!=h[0])break;f.shift(),h.shift(),a++}for(var p=0,d=0,g=f[0],m=h[0],v=Math.min(g.length,m.length);v>p&&g.charCodeAt(p)==m.charCodeAt(p);)++p;for(var y=Fo(f),b=Fo(h),w=Math.min(y.length-(1==f.length?p:0),b.length-(1==h.length?p:0));w>d&&y.charCodeAt(y.length-d-1)==b.charCodeAt(b.length-d-1);)++d;f[f.length-1]=y.slice(0,y.length-d),f[0]=f[0].slice(p);var x=Ia(a,p),$=Ia(u,h.length?Fo(h).length-d:0);return f.length>1||f[0]||Na(x,$)?(Dr(t.doc,f,x,$,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(t){Q(this.cm)?En(this.cm,Ln)(this.cm):t.data&&t.data!=t.startData&&En(this.cm,Z)(this.cm,t.data,0,t.sel)},setUneditable:function(t){t.contentEditable="false"},onKeyPress:function(t){t.preventDefault(),Q(this.cm)||En(this.cm,Z)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0)},readOnlyChanged:function(t){this.div.contentEditable=String("nocursor"!=t)},onContextMenu:Lo,resetPosition:Lo,needsContentAttribute:!0},oe.prototype),t.inputStyles={textarea:re,contenteditable:oe},fe.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var n=this.ranges[e],r=t.ranges[e];if(0!=Na(n.anchor,r.anchor)||0!=Na(n.head,r.head))return!1}return!0},deepCopy:function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new he(Y(this.ranges[e].anchor),Y(this.ranges[e].head));return new fe(t,this.primIndex)},somethingSelected:function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},contains:function(t,e){e||(e=t);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(Na(e,r.from())>=0&&Na(t,r.to())<=0)return n}return-1}},he.prototype={from:function(){return X(this.anchor,this.head)},to:function(){return G(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Ra,za,Ha,Ba={left:0,right:0,top:0,bottom:0},qa=null,Wa=0,Va=0,Ua=0,Ya=null;ya?Ya=-.53:ga?Ya=15:$a?Ya=-.7:Sa&&(Ya=-1/3);var Ga=function(t){var e=t.wheelDeltaX,n=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==n&&t.detail&&t.axis==t.VERTICAL_AXIS?n=t.detail:null==n&&(n=t.wheelDelta),{x:e,y:n}};t.wheelEventPixels=function(t){var e=Ga(t);return e.x*=Ya,e.y*=Ya,e};var Xa=new Eo,Ka=null,Qa=t.changeEnd=function(t){return t.text?Ia(t.from.line+t.text.length-1,Fo(t.text).length+(1==t.text.length?t.from.ch:0)):t.to};t.prototype={constructor:t,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,e){var n=this.options,r=n[t];(n[t]!=e||"mode"==t)&&(n[t]=e,Ja.hasOwnProperty(t)&&En(this,Ja[t])(this,e,r))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](Ur(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,n=0;n<e.length;++n)if(e[n]==t||e[n].name==t)return e.splice(n,1),!0},addOverlay:Dn(function(e,n){var r=e.token?e:t.getMode(this.options,e);if(r.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:r,modeSpec:e,opaque:n&&n.opaque}),this.state.modeGen++,Ln(this)}),removeOverlay:Dn(function(t){for(var e=this.state.overlays,n=0;n<e.length;++n){var r=e[n].modeSpec;if(r==t||"string"==typeof t&&r.name==t)return e.splice(n,1),this.state.modeGen++,void Ln(this)}}),indentLine:Dn(function(t,e,n){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),ye(this.doc,t)&&Rr(this,t,e,n)}),indentSelection:Dn(function(t){for(var e=this.doc.sel.ranges,n=-1,r=0;r<e.length;r++){var i=e[r];if(i.empty())i.head.line>n&&(Rr(this,i.head.line,t,!0),n=i.head.line,r==this.doc.sel.primIndex&&Nr(this));else{var o=i.from(),a=i.to(),s=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var l=s;n>l;++l)Rr(this,l,t);var u=this.doc.sel.ranges;0==o.ch&&e.length==u.length&&u[r].from().ch>0&&Ce(this.doc,r,new he(o,u[r].to()),Ls)}}}),getTokenAt:function(t,e){return Di(this,t,e)},getLineTokens:function(t,e){return Di(this,Ia(t),e,!0)},getTokenTypeAt:function(t){t=me(this.doc,t);var e,n=Pi(this,Ki(this.doc,t.line)),r=0,i=(n.length-1)/2,o=t.ch;if(0==o)e=n[2];else for(;;){var a=r+i>>1;if((a?n[2*a-1]:0)>=o)i=a;else{if(!(n[2*a+1]<o)){e=n[2*a+2];break}r=a+1}}var s=e?e.indexOf("cm-overlay "):-1;return 0>s?e:0==s?null:e.slice(0,s-1)},getModeAt:function(e){var n=this.doc.mode;return n.innerMode?t.innerMode(n,this.getTokenAt(e).state).mode:n},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var n=[];if(!os.hasOwnProperty(e))return n;var r=os[e],i=this.getModeAt(t);if("string"==typeof i[e])r[i[e]]&&n.push(r[i[e]]);else if(i[e])for(var o=0;o<i[e].length;o++){var a=r[i[e][o]];a&&n.push(a)}else i.helperType&&r[i.helperType]?n.push(r[i.helperType]):r[i.name]&&n.push(r[i.name]);for(var o=0;o<r._global.length;o++){var s=r._global[o];s.pred(i,this)&&-1==Oo(n,s.val)&&n.push(s.val)}return n},getStateAfter:function(t,e){var n=this.doc;return t=ge(n,null==t?n.first+n.size-1:t),He(this,t+1,e)},cursorCoords:function(t,e){var n,r=this.doc.sel.primary();return n=null==t?r.head:"object"==typeof t?me(this.doc,t):t?r.from():r.to(),pn(this,n,e||"page")},charCoords:function(t,e){return hn(this,me(this.doc,t),e||"page")},coordsChar:function(t,e){return t=fn(this,t,e||"page"),mn(this,t.left,t.top)},lineAtHeight:function(t,e){return t=fn(this,{top:t,left:0},e||"page").top,eo(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e){var n,r=!1;if("number"==typeof t){var i=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>i&&(t=i,r=!0),n=Ki(this.doc,t)}else n=t;return cn(this,n,{top:0,left:0},e||"page").top+(r?this.doc.height-no(n):0)},defaultTextHeight:function(){return yn(this.display)},defaultCharWidth:function(){return bn(this.display)},setGutterMarker:Dn(function(t,e,n){return zr(this.doc,t,"gutter",function(t){var r=t.gutterMarkers||(t.gutterMarkers={});return r[e]=n,!n&&zo(r)&&(t.gutterMarkers=null),!0})}),clearGutter:Dn(function(t){var e=this,n=e.doc,r=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[t]&&(n.gutterMarkers[t]=null,In(e,r,"gutter"),zo(n.gutterMarkers)&&(n.gutterMarkers=null)),++r})}),lineInfo:function(t){if("number"==typeof t){if(!ye(this.doc,t))return null;var e=t;if(t=Ki(this.doc,t),!t)return null}else{var e=to(t);if(null==e)return null}return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,n,r,i){var o=this.display;t=pn(this,me(this.doc,t));var a=t.bottom,s=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),o.sizer.appendChild(e),"over"==r)a=t.top;else if("above"==r||"near"==r){var l=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||t.bottom+e.offsetHeight>l)&&t.top>e.offsetHeight?a=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=l&&(a=t.bottom),s+e.offsetWidth>u&&(s=u-e.offsetWidth)}e.style.top=a+"px",e.style.left=e.style.right="","right"==i?(s=o.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-e.offsetWidth)/2),e.style.left=s+"px"),n&&Pr(this,s,a,s+e.offsetWidth,a+e.offsetHeight)},triggerOnKeyDown:Dn(fr),triggerOnKeyPress:Dn(dr),triggerOnKeyUp:pr,execCommand:function(t){return ls.hasOwnProperty(t)?ls[t].call(null,this):void 0},triggerElectric:Dn(function(t){te(this,t)}),findPosH:function(t,e,n,r){var i=1;0>e&&(i=-1,e=-e);for(var o=0,a=me(this.doc,t);e>o&&(a=Br(this.doc,a,i,n,r),!a.hitSide);++o);return a},moveH:Dn(function(t,e){var n=this;n.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?Br(n.doc,r.head,t,e,n.options.rtlMoveVisually):0>t?r.from():r.to()},Ns)}),deleteH:Dn(function(t,e){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):Hr(this,function(n){var i=Br(r,n.head,t,e,!1);return 0>t?{from:i,to:n.head}:{from:n.head,to:i}})}),findPosV:function(t,e,n,r){var i=1,o=r;0>e&&(i=-1,e=-e);for(var a=0,s=me(this.doc,t);e>a;++a){var l=pn(this,s,"div");if(null==o?o=l.left:l.left=o,s=qr(this,l,i,n),s.hitSide)break}return s},moveV:Dn(function(t,e){var n=this,r=this.doc,i=[],o=!n.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(a){if(o)return 0>t?a.from():a.to();var s=pn(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var l=qr(n,s,t,e);return"page"==e&&a==r.sel.primary()&&Ir(n,null,hn(n,l,"div").top-s.top),l},Ns),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]}),findWordAt:function(t){var e=this.doc,n=Ki(e,t.line).text,r=t.ch,i=t.ch;if(n){var o=this.getHelper(t,"wordChars");(t.xRel<0||i==n.length)&&r?--r:++i;for(var a=n.charAt(r),s=Ro(a,o)?function(t){return Ro(t,o)}:/\s/.test(a)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!Ro(t)};r>0&&s(n.charAt(r-1));)--r;for(;i<n.length&&s(n.charAt(i));)++i}return new he(Ia(t.line,r),Ia(t.line,i))},toggleOverwrite:function(t){(null==t||t!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?Ks(this.display.cursorDiv,"CodeMirror-overwrite"):Xs(this.display.cursorDiv,"CodeMirror-overwrite"),Ds(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Vo()},scrollTo:Dn(function(t,e){(null!=t||null!=e)&&jr(this),null!=t&&(this.curOp.scrollLeft=t),null!=e&&(this.curOp.scrollTop=e)}),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-Ve(this)-this.display.barHeight,width:t.scrollWidth-Ve(this)-this.display.barWidth,clientHeight:Ye(this),clientWidth:Ue(this)}},scrollIntoView:Dn(function(t,e){if(null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:Ia(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line)jr(this),this.curOp.scrollToPos=t;else{var n=Lr(this,Math.min(t.from.left,t.to.left),Math.min(t.from.top,t.to.top)-t.margin,Math.max(t.from.right,t.to.right),Math.max(t.from.bottom,t.to.bottom)+t.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:Dn(function(t,e){function n(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t}var r=this;null!=t&&(r.display.wrapper.style.width=n(t)),null!=e&&(r.display.wrapper.style.height=n(e)),r.options.lineWrapping&&an(this);var i=r.display.viewFrom;r.doc.iter(i,r.display.viewTo,function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){In(r,i,"widget");break}++i}),r.curOp.forceUpdate=!0,Ds(r,"refresh",this)}),operation:function(t){return An(this,t)},refresh:Dn(function(){var t=this.display.cachedTextHeight;Ln(this),this.curOp.forceUpdate=!0,sn(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),c(this),(null==t||Math.abs(t-yn(this.display))>.5)&&a(this),Ds(this,"refresh",this)}),swapDoc:Dn(function(t){var e=this.doc;return e.cm=null,Xi(this,t),sn(this),this.display.input.reset(),this.scrollTo(t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,So(this,"swapDoc",this,e),e}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ao(t);var Za=t.defaults={},Ja=t.optionHandlers={},ts=t.Init={toString:function(){return"CodeMirror.Init"}};Wr("value","",function(t,e){t.setValue(e)},!0),Wr("mode",null,function(t,e){t.doc.modeOption=e,n(t)},!0),Wr("indentUnit",2,n,!0),Wr("indentWithTabs",!1),Wr("smartIndent",!0),Wr("tabSize",4,function(t){r(t),sn(t),Ln(t)},!0),Wr("lineSeparator",null,function(t,e){if(t.doc.lineSep=e,e){var n=[],r=t.doc.first;t.doc.iter(function(t){for(var i=0;;){var o=t.text.indexOf(e,i);if(-1==o)break;i=o+e.length,n.push(Ia(r,o))}r++});for(var i=n.length-1;i>=0;i--)Dr(t.doc,e,n[i],Ia(n[i].line,n[i].ch+e.length))}}),Wr("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,n,r){e.state.specialChars=new RegExp(n.source+(n.test("	")?"":"|	"),"g"),r!=t.Init&&e.refresh()}),Wr("specialCharPlaceholder",ji,function(t){t.refresh()},!0),Wr("electricChars",!0),Wr("inputStyle",_a?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),Wr("rtlMoveVisually",!Ea),Wr("wholeLineUpdateBefore",!0),Wr("theme","default",function(t){s(t),l(t)},!0),Wr("keyMap","default",function(e,n,r){var i=Ur(n),o=r!=t.Init&&Ur(r);o&&o.detach&&o.detach(e,i),i.attach&&i.attach(e,o||null)}),Wr("extraKeys",null),Wr("lineWrapping",!1,i,!0),Wr("gutters",[],function(t){p(t.options),l(t)},!0),Wr("fixedGutter",!0,function(t,e){t.display.gutters.style.left=e?S(t.display)+"px":"0",t.refresh()},!0),Wr("coverGutterNextToScrollbar",!1,function(t){y(t)},!0),Wr("scrollbarStyle","native",function(t){v(t),y(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)},!0),Wr("lineNumbers",!1,function(t){p(t.options),l(t)},!0),Wr("firstLineNumber",1,l,!0),Wr("lineNumberFormatter",function(t){return t},l,!0),Wr("showCursorWhenSelecting",!1,Oe,!0),Wr("resetSelectionOnContextMenu",!0),Wr("lineWiseCopyCut",!0),Wr("readOnly",!1,function(t,e){"nocursor"==e?(vr(t),t.display.input.blur(),t.display.disabled=!0):t.display.disabled=!1,t.display.input.readOnlyChanged(e)}),Wr("disableInput",!1,function(t,e){e||t.display.input.reset()},!0),Wr("dragDrop",!0,qn),Wr("allowDropFileTypes",null),Wr("cursorBlinkRate",530),Wr("cursorScrollMargin",0),Wr("cursorHeight",1,Oe,!0),Wr("singleCursorHeightPerLine",!0,Oe,!0),Wr("workTime",100),Wr("workDelay",100),Wr("flattenSpans",!0,r,!0),Wr("addModeClass",!1,r,!0),Wr("pollInterval",100),Wr("undoDepth",200,function(t,e){t.doc.history.undoDepth=e}),Wr("historyEventDelay",1250),Wr("viewportMargin",10,function(t){t.refresh()},!0),Wr("maxHighlightLength",1e4,r,!0),Wr("moveInputWithCursor",!0,function(t,e){e||t.display.input.resetPosition()}),Wr("tabindex",null,function(t,e){t.display.input.getField().tabIndex=e||""}),Wr("autofocus",null);var es=t.modes={},ns=t.mimeModes={};t.defineMode=function(e,n){t.defaults.mode||"null"==e||(t.defaults.mode=e),arguments.length>2&&(n.dependencies=Array.prototype.slice.call(arguments,2)),es[e]=n},t.defineMIME=function(t,e){ns[t]=e},t.resolveMode=function(e){if("string"==typeof e&&ns.hasOwnProperty(e))e=ns[e];else if(e&&"string"==typeof e.name&&ns.hasOwnProperty(e.name)){var n=ns[e.name];"string"==typeof n&&(n={name:n}),e=Io(n,e),e.name=n.name}else if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return t.resolveMode("application/xml");return"string"==typeof e?{name:e}:e||{name:"null"}},t.getMode=function(e,n){var n=t.resolveMode(n),r=es[n.name];if(!r)return t.getMode(e,"text/plain");var i=r(e,n);if(rs.hasOwnProperty(n.name)){var o=rs[n.name];for(var a in o)o.hasOwnProperty(a)&&(i.hasOwnProperty(a)&&(i["_"+a]=i[a]),i[a]=o[a])}if(i.name=n.name,n.helperType&&(i.helperType=n.helperType),n.modeProps)for(var a in n.modeProps)i[a]=n.modeProps[a];return i},t.defineMode("null",function(){return{token:function(t){t.skipToEnd()}}}),t.defineMIME("text/plain","null");var rs=t.modeExtensions={};t.extendMode=function(t,e){var n=rs.hasOwnProperty(t)?rs[t]:rs[t]={};No(e,n)},t.defineExtension=function(e,n){t.prototype[e]=n},t.defineDocExtension=function(t,e){$s.prototype[t]=e},t.defineOption=Wr;var is=[];t.defineInitHook=function(t){is.push(t)};var os=t.helpers={};t.registerHelper=function(e,n,r){os.hasOwnProperty(e)||(os[e]=t[e]={_global:[]}),os[e][n]=r},t.registerGlobalHelper=function(e,n,r,i){t.registerHelper(e,n,i),os[e]._global.push({pred:r,val:i})};var as=t.copyState=function(t,e){if(e===!0)return e;if(t.copyState)return t.copyState(e);var n={};for(var r in e){var i=e[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n},ss=t.startState=function(t,e,n){return t.startState?t.startState(e,n):!0};t.innerMode=function(t,e){for(;t.innerMode;){var n=t.innerMode(e);if(!n||n.mode==t)break;e=n.state,t=n.mode}return n||{mode:t,state:e}};var ls=t.commands={selectAll:function(t){t.setSelection(Ia(t.firstLine(),0),Ia(t.lastLine()),Ls)},singleSelection:function(t){t.setSelection(t.getCursor("anchor"),t.getCursor("head"),Ls)},killLine:function(t){Hr(t,function(e){if(e.empty()){var n=Ki(t.doc,e.head.line).text.length;return e.head.ch==n&&e.head.line<t.lastLine()?{from:e.head,to:Ia(e.head.line+1,0)}:{from:e.head,to:Ia(e.head.line,n)}}return{from:e.from(),to:e.to()}})},deleteLine:function(t){Hr(t,function(e){return{from:Ia(e.from().line,0),to:me(t.doc,Ia(e.to().line+1,0))}})},delLineLeft:function(t){Hr(t,function(t){return{from:Ia(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(t){Hr(t,function(e){var n=t.charCoords(e.head,"div").top+5,r=t.coordsChar({left:0,top:n},"div");return{from:r,to:e.from()}})},delWrappedLineRight:function(t){Hr(t,function(e){var n=t.charCoords(e.head,"div").top+5,r=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div");return{from:e.from(),to:r}})},undo:function(t){t.undo()},redo:function(t){t.redo()},undoSelection:function(t){t.undoSelection()},redoSelection:function(t){t.redoSelection()},goDocStart:function(t){t.extendSelection(Ia(t.firstLine(),0))},goDocEnd:function(t){t.extendSelection(Ia(t.lastLine()))},goLineStart:function(t){t.extendSelectionsBy(function(e){return oa(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){t.extendSelectionsBy(function(e){return sa(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){t.extendSelectionsBy(function(e){return aa(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){t.extendSelectionsBy(function(e){var n=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div")},Ns)},goLineLeft:function(t){t.extendSelectionsBy(function(e){var n=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:n},"div")},Ns)},goLineLeftSmart:function(t){t.extendSelectionsBy(function(e){var n=t.charCoords(e.head,"div").top+5,r=t.coordsChar({left:0,top:n},"div");return r.ch<t.getLine(r.line).search(/\S/)?sa(t,e.head):r},Ns)},goLineUp:function(t){t.moveV(-1,"line")},goLineDown:function(t){t.moveV(1,"line")},goPageUp:function(t){t.moveV(-1,"page")},goPageDown:function(t){t.moveV(1,"page")},goCharLeft:function(t){t.moveH(-1,"char")},goCharRight:function(t){t.moveH(1,"char")},goColumnLeft:function(t){t.moveH(-1,"column")},goColumnRight:function(t){t.moveH(1,"column")},goWordLeft:function(t){t.moveH(-1,"word")},goGroupRight:function(t){t.moveH(1,"group")},goGroupLeft:function(t){t.moveH(-1,"group")},goWordRight:function(t){t.moveH(1,"word")},delCharBefore:function(t){t.deleteH(-1,"char")},delCharAfter:function(t){t.deleteH(1,"char")},delWordBefore:function(t){t.deleteH(-1,"word")},delWordAfter:function(t){t.deleteH(1,"word")},delGroupBefore:function(t){t.deleteH(-1,"group")},delGroupAfter:function(t){t.deleteH(1,"group")},indentAuto:function(t){t.indentSelection("smart")},indentMore:function(t){t.indentSelection("add")},indentLess:function(t){t.indentSelection("subtract")},insertTab:function(t){t.replaceSelection("	")},insertSoftTab:function(t){for(var e=[],n=t.listSelections(),r=t.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=js(t.getLine(o.line),o.ch,r);e.push(new Array(r-a%r+1).join(" "))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){An(t,function(){for(var e=t.listSelections(),n=[],r=0;r<e.length;r++){var i=e[r].head,o=Ki(t.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new Ia(i.line,i.ch-1)),i.ch>0)i=new Ia(i.line,i.ch+1),t.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),Ia(i.line,i.ch-2),i,"+transpose");else if(i.line>t.doc.first){var a=Ki(t.doc,i.line-1).text;a&&t.replaceRange(o.charAt(0)+t.doc.lineSeparator()+a.charAt(a.length-1),Ia(i.line-1,a.length-1),Ia(i.line,1),"+transpose")}n.push(new he(i,i))}t.setSelections(n)})},newlineAndIndent:function(t){An(t,function(){for(var e=t.listSelections().length,n=0;e>n;n++){var r=t.listSelections()[n];t.replaceRange(t.doc.lineSeparator(),r.anchor,r.head,"+input"),t.indentLine(r.from().line+1,null,!0)}Nr(t)})},toggleOverwrite:function(t){t.toggleOverwrite()}},us=t.keyMap={};us.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},us.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},us.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},us.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},us["default"]=Aa?us.macDefault:us.pcDefault,t.normalizeKeyMap=function(t){var e={};
for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete t[n];continue}for(var i=Po(n.split(" "),Vr),o=0;o<i.length;o++){var a,s;o==i.length-1?(s=i.join(" "),a=r):(s=i.slice(0,o+1).join(" "),a="...");var l=e[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else e[s]=a}delete t[n]}for(var u in e)t[u]=e[u];return t};var cs=t.lookupKey=function(t,e,n,r){e=Ur(e);var i=e.call?e.call(t,r):e[t];if(i===!1)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return cs(t,e.fallthrough,n,r);for(var o=0;o<e.fallthrough.length;o++){var a=cs(t,e.fallthrough[o],n,r);if(a)return a}}},fs=t.isModifierKey=function(t){var e="string"==typeof t?t:rl[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e},hs=t.keyName=function(t,e){if(Ca&&34==t.keyCode&&t["char"])return!1;var n=rl[t.keyCode],r=n;return null==r||t.altGraphKey?!1:(t.altKey&&"Alt"!=n&&(r="Alt-"+r),(Fa?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(r="Ctrl-"+r),(Fa?t.ctrlKey:t.metaKey)&&"Cmd"!=n&&(r="Cmd-"+r),!e&&t.shiftKey&&"Shift"!=n&&(r="Shift-"+r),r)};t.fromTextArea=function(e,n){function r(){e.value=u.getValue()}if(n=n?No(n):{},n.value=e.value,!n.tabindex&&e.tabIndex&&(n.tabindex=e.tabIndex),!n.placeholder&&e.placeholder&&(n.placeholder=e.placeholder),null==n.autofocus){var i=Vo();n.autofocus=i==e||null!=e.getAttribute("autofocus")&&i==document.body}if(e.form&&(_s(e.form,"submit",r),!n.leaveSubmitMethodAlone)){var o=e.form,a=o.submit;try{var s=o.submit=function(){r(),o.submit=a,o.submit(),o.submit=s}}catch(l){}}n.finishInit=function(t){t.save=r,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,r(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(Es(e.form,"submit",r),"function"==typeof e.form.submit&&(e.form.submit=a))}},e.style.display="none";var u=t(function(t){e.parentNode.insertBefore(t,e.nextSibling)},n);return u};var ps=t.StringStream=function(t,e){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};ps.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(t){var e=this.string.charAt(this.pos);if("string"==typeof t)var n=e==t;else var n=e&&(t.test?t.test(e):t(e));return n?(++this.pos,e):void 0},eatWhile:function(t){for(var e=this.pos;this.eat(t););return this.pos>e},eatSpace:function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(t){var e=this.string.indexOf(t,this.pos);return e>-1?(this.pos=e,!0):void 0},backUp:function(t){this.pos-=t},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=js(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?js(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return js(this.string,null,this.tabSize)-(this.lineStart?js(this.string,this.lineStart,this.tabSize):0)},match:function(t,e,n){if("string"!=typeof t){var r=this.string.slice(this.pos).match(t);return r&&r.index>0?null:(r&&e!==!1&&(this.pos+=r[0].length),r)}var i=function(t){return n?t.toLowerCase():t},o=this.string.substr(this.pos,t.length);return i(o)==i(t)?(e!==!1&&(this.pos+=t.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}}};var ds=0,gs=t.TextMarker=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++ds};Ao(gs),gs.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&wn(t),_o(this,"clear")){var n=this.find();n&&So(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=Jr(a.markedSpans,this);t&&!this.collapsed?In(t,to(a),"text"):t&&(null!=s.to&&(i=to(a)),null!=s.from&&(r=to(a))),a.markedSpans=ti(a.markedSpans,s),null==s.from&&this.collapsed&&!xi(this.doc,a)&&t&&Ji(a,yn(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var o=0;o<this.lines.length;++o){var l=vi(this.lines[o]),u=f(l);u>t.display.maxLineLength&&(t.display.maxLine=l,t.display.maxLineLength=u,t.display.maxLineChanged=!0)}null!=r&&t&&this.collapsed&&Ln(t,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Ee(t.doc)),t&&So(t,"markerCleared",t,this),e&&$n(t),this.parent&&this.parent.clear()}},gs.prototype.find=function(t,e){null==t&&"bookmark"==this.type&&(t=1);for(var n,r,i=0;i<this.lines.length;++i){var o=this.lines[i],a=Jr(o.markedSpans,this);if(null!=a.from&&(n=Ia(e?o:to(o),a.from),-1==t))return n;if(null!=a.to&&(r=Ia(e?o:to(o),a.to),1==t))return r}return n&&{from:n,to:r}},gs.prototype.changed=function(){var t=this.find(-1,!0),e=this,n=this.doc.cm;t&&n&&An(n,function(){var r=t.line,i=to(t.line),o=Ze(n,i);if(o&&(on(o),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!xi(e.doc,r)&&null!=e.height){var a=e.height;e.height=null;var s=Si(e)-a;s&&Ji(r,r.height+s)}})},gs.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=Oo(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},gs.prototype.detachLine=function(t){if(this.lines.splice(Oo(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}};var ds=0,ms=t.SharedTextMarker=function(t,e){this.markers=t,this.primary=e;for(var n=0;n<t.length;++n)t[n].parent=this};Ao(ms),ms.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();So(this,"clear")}},ms.prototype.find=function(t,e){return this.primary.find(t,e)};var vs=t.LineWidget=function(t,e,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=t,this.node=e};Ao(vs),vs.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,n=this.line,r=to(n);if(null!=r&&e){for(var i=0;i<e.length;++i)e[i]==this&&e.splice(i--,1);e.length||(n.widgets=null);var o=Si(this);Ji(n,Math.max(0,n.height-o)),t&&An(t,function(){Ci(t,n,-o),In(t,r,"widget")})}},vs.prototype.changed=function(){var t=this.height,e=this.doc.cm,n=this.line;this.height=null;var r=Si(this)-t;r&&(Ji(n,n.height+r),e&&An(e,function(){e.curOp.forceUpdate=!0,Ci(e,n,r)}))};var ys=t.Line=function(t,e,n){this.text=t,ui(this,e),this.height=n?n(this):1};Ao(ys),ys.prototype.lineNo=function(){return to(this)};var bs={},ws={};Ui.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var n=t,r=t+e;r>n;++n){var i=this.lines[n];this.height-=i.height,Mi(i),So(i,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,n){this.height+=n,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var r=0;r<e.length;++r)e[r].parent=this},iterN:function(t,e,n){for(var r=t+e;r>t;++t)if(n(this.lines[t]))return!0}},Yi.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(i>t){var o=Math.min(e,i-t),a=r.height;if(r.removeInner(t,o),this.height-=a-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(e-=o))break;t=0}else t-=i}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof Ui))){var s=[];this.collapse(s),this.children=[new Ui(s)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,n){this.size+=e.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(o>=t){if(i.insertInner(t,e,n),i.lines&&i.lines.length>50){for(;i.lines.length>50;){var a=i.lines.splice(i.lines.length-25,25),s=new Ui(a);i.height-=s.height,this.children.splice(r+1,0,s),s.parent=this}this.maybeSpill()}break}t-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),n=new Yi(e);if(t.parent){t.size-=n.size,t.height-=n.height;var r=Oo(t.parent.children,t);t.parent.children.splice(r+1,0,n)}else{var i=new Yi(t.children);i.parent=t,t.children=[i,n],t=i}n.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(o>t){var a=Math.min(e,o-t);if(i.iterN(t,a,n))return!0;if(0==(e-=a))break;t=0}else t-=o}}};var xs=0,$s=t.Doc=function(t,e,n,r){if(!(this instanceof $s))return new $s(t,e,n,r);null==n&&(n=0),Yi.call(this,[new Ui([new ys("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var i=Ia(n,0);this.sel=de(i),this.history=new io(null),this.id=++xs,this.modeOption=e,this.lineSep=r,"string"==typeof t&&(t=this.splitLines(t)),Vi(this,{from:i,to:i,text:t}),Me(this,de(i),Ls)};$s.prototype=Io(Yi.prototype,{constructor:$s,iter:function(t,e,n){n?this.iterN(t-this.first,e-t,n):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var n=0,r=0;r<e.length;++r)n+=e[r].height;this.insertInner(t-this.first,e,n)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=Zi(this,this.first,this.first+this.size);return t===!1?e:e.join(t||this.lineSeparator())},setValue:Fn(function(t){var e=Ia(this.first,0),n=this.first+this.size-1;kr(this,{from:e,to:Ia(n,Ki(this,n).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),Me(this,de(e))}),replaceRange:function(t,e,n,r){e=me(this,e),n=n?me(this,n):e,Dr(this,t,e,n,r)},getRange:function(t,e,n){var r=Qi(this,me(this,t),me(this,e));return n===!1?r:r.join(n||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){return ye(this,t)?Ki(this,t):void 0},getLineNumber:function(t){return to(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=Ki(this,t)),vi(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return me(this,t)},getCursor:function(t){var e,n=this.sel.primary();return e=null==t||"head"==t?n.head:"anchor"==t?n.anchor:"end"==t||"to"==t||t===!1?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Fn(function(t,e,n){Se(this,me(this,"number"==typeof t?Ia(t,e||0):t),null,n)}),setSelection:Fn(function(t,e,n){Se(this,me(this,t),me(this,e||t),n)}),extendSelection:Fn(function(t,e,n){xe(this,me(this,t),e&&me(this,e),n)}),extendSelections:Fn(function(t,e){$e(this,be(this,t,e))}),extendSelectionsBy:Fn(function(t,e){$e(this,Po(this.sel.ranges,t),e)}),setSelections:Fn(function(t,e,n){if(t.length){for(var r=0,i=[];r<t.length;r++)i[r]=new he(me(this,t[r].anchor),me(this,t[r].head));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),Me(this,pe(i,e),n)}}),addSelection:Fn(function(t,e,n){var r=this.sel.ranges.slice(0);r.push(new he(me(this,t),me(this,e||t))),Me(this,pe(r,r.length-1),n)}),getSelection:function(t){for(var e,n=this.sel.ranges,r=0;r<n.length;r++){var i=Qi(this,n[r].from(),n[r].to());e=e?e.concat(i):i}return t===!1?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=Qi(this,n[r].from(),n[r].to());t!==!1&&(i=i.join(t||this.lineSeparator())),e[r]=i}return e},replaceSelection:function(t,e,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=t;this.replaceSelections(r,e,n||"+input")},replaceSelections:Fn(function(t,e,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];r[o]={from:a.from(),to:a.to(),text:this.splitLines(t[o]),origin:n}}for(var s=e&&"end"!=e&&Cr(this,r,e),o=r.length-1;o>=0;o--)kr(this,r[o]);s?Te(this,s):this.cm&&Nr(this.cm)}),undo:Fn(function(){Mr(this,"undo")}),redo:Fn(function(){Mr(this,"redo")}),undoSelection:Fn(function(){Mr(this,"undo",!0)}),redoSelection:Fn(function(){Mr(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,n=0,r=0;r<t.done.length;r++)t.done[r].ranges||++e;for(var r=0;r<t.undone.length;r++)t.undone[r].ranges||++n;return{undo:e,redo:n}},clearHistory:function(){this.history=new io(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:mo(this.history.done),undone:mo(this.history.undone)}},setHistory:function(t){var e=this.history=new io(this.history.maxGeneration);e.done=mo(t.done.slice(0),null,!0),e.undone=mo(t.undone.slice(0),null,!0)},addLineClass:Fn(function(t,e,n){return zr(this,t,"gutter"==e?"gutter":"class",function(t){var r="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass";if(t[r]){if(Uo(n).test(t[r]))return!1;t[r]+=" "+n}else t[r]=n;return!0})}),removeLineClass:Fn(function(t,e,n){return zr(this,t,"gutter"==e?"gutter":"class",function(t){var r="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass",i=t[r];if(!i)return!1;if(null==n)t[r]=null;else{var o=i.match(Uo(n));if(!o)return!1;var a=o.index+o[0].length;t[r]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0})}),addLineWidget:Fn(function(t,e,n){return ki(this,t,e,n)}),removeLineWidget:function(t){t.clear()},markText:function(t,e,n){return Yr(this,me(this,t),me(this,e),n,n&&n.type||"range")},setBookmark:function(t,e){var n={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return t=me(this,t),Yr(this,t,t,n,"bookmark")},findMarksAt:function(t){t=me(this,t);var e=[],n=Ki(this,t.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=t.ch)&&(null==i.to||i.to>=t.ch)&&e.push(i.marker.parent||i.marker)}return e},findMarks:function(t,e,n){t=me(this,t),e=me(this,e);var r=[],i=t.line;return this.iter(t.line,e.line+1,function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];i==t.line&&t.ch>l.to||null==l.from&&i!=t.line||i==e.line&&l.from>e.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++i}),r},getAllMarks:function(){var t=[];return this.iter(function(e){var n=e.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&t.push(n[r].marker)}),t},posFromIndex:function(t){var e,n=this.first;return this.iter(function(r){var i=r.text.length+1;return i>t?(e=t,!0):(t-=i,void++n)}),me(this,Ia(n,e))},indexFromPos:function(t){t=me(this,t);var e=t.ch;return t.line<this.first||t.ch<0?0:(this.iter(this.first,t.line,function(t){e+=t.text.length+1}),e)},copy:function(t){var e=new $s(Zi(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,n=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<n&&(n=t.to);var r=new $s(Zi(this,e,n),t.mode||this.modeOption,e,this.lineSep);return t.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:t.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],Kr(r,Xr(this)),r},unlinkDoc:function(e){if(e instanceof t&&(e=e.doc),this.linked)for(var n=0;n<this.linked.length;++n){var r=this.linked[n];if(r.doc==e){this.linked.splice(n,1),e.unlinkDoc(this),Qr(Xr(this));break}}if(e.history==this.history){var i=[e.id];Gi(e,function(t){i.push(t.id)},!0),e.history=new io(null),e.history.done=mo(this.history.done,i),e.history.undone=mo(this.history.undone,i)}},iterLinkedDocs:function(t){Gi(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):Js(t)},lineSeparator:function(){return this.lineSep||"\n"}}),$s.prototype.eachLine=$s.prototype.iter;var Cs="iter insert remove copy getEditor constructor".split(" ");for(var Ss in $s.prototype)$s.prototype.hasOwnProperty(Ss)&&Oo(Cs,Ss)<0&&(t.prototype[Ss]=function(t){return function(){return t.apply(this.doc,arguments)}}($s.prototype[Ss]));Ao($s);var ks=t.e_preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},Ts=t.e_stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},Ms=t.e_stop=function(t){ks(t),Ts(t)},_s=t.on=function(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent)t.attachEvent("on"+e,n);else{var r=t._handlers||(t._handlers={}),i=r[e]||(r[e]=[]);i.push(n)}},As=[],Es=t.off=function(t,e,n){if(t.removeEventListener)t.removeEventListener(e,n,!1);else if(t.detachEvent)t.detachEvent("on"+e,n);else for(var r=Co(t,e,!1),i=0;i<r.length;++i)if(r[i]==n){r.splice(i,1);break}},Ds=t.signal=function(t,e){var n=Co(t,e,!0);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)},Fs=null,Os=30,Ps=t.Pass={toString:function(){return"CodeMirror.Pass"}},Ls={scroll:!1},Is={origin:"*mouse"},Ns={origin:"+move"};Eo.prototype.set=function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)};var js=t.countColumn=function(t,e,n,r,i){null==e&&(e=t.search(/[^\s\u00a0]/),-1==e&&(e=t.length));for(var o=r||0,a=i||0;;){var s=t.indexOf("	",o);if(0>s||s>=e)return a+(e-o);a+=s-o,a+=n-a%n,o=s+1}},Rs=t.findColumn=function(t,e,n){for(var r=0,i=0;;){var o=t.indexOf("	",r);-1==o&&(o=t.length);var a=o-r;if(o==t.length||i+a>=e)return r+Math.min(a,e-i);if(i+=o-r,i+=n-i%n,r=o+1,i>=e)return r}},zs=[""],Hs=function(t){t.select()};Ma?Hs=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:ya&&(Hs=function(t){try{t.select()}catch(e){}});var Bs,qs=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Ws=t.isWordChar=function(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||qs.test(t))},Vs=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;Bs=document.createRange?function(t,e,n,r){var i=document.createRange();return i.setEnd(r||t,n),i.setStart(t,e),i}:function(t,e,n){var r=document.body.createTextRange();try{r.moveToElementText(t.parentNode)}catch(i){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",e),r};var Us=t.contains=function(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do if(11==e.nodeType&&(e=e.host),e==t)return!0;while(e=e.parentNode)};ya&&11>ba&&(Vo=function(){try{return document.activeElement}catch(t){return document.body}});var Ys,Gs,Xs=t.rmClass=function(t,e){var n=t.className,r=Uo(e).exec(n);if(r){var i=n.slice(r.index+r[0].length);t.className=n.slice(0,r.index)+(i?r[1]+i:"")}},Ks=t.addClass=function(t,e){var n=t.className;Uo(e).test(n)||(t.className+=(n?" ":"")+e)},Qs=!1,Zs=function(){if(ya&&9>ba)return!1;var t=Bo("div");return"draggable"in t||"dragDrop"in t}(),Js=t.splitLines=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,n=[],r=t.length;r>=e;){var i=t.indexOf("\n",e);-1==i&&(i=t.length);var o=t.slice(e,"\r"==t.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),e+=a+1):(n.push(o),e=i+1)}return n}:function(t){return t.split(/\r\n?|\n/)},tl=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(e){return!1}}:function(t){try{var e=t.ownerDocument.selection.createRange()}catch(n){}return e&&e.parentElement()==t?0!=e.compareEndPoints("StartToEnd",e):!1},el=function(){var t=Bo("div");return"oncopy"in t?!0:(t.setAttribute("oncopy","return;"),"function"==typeof t.oncopy)}(),nl=null,rl=t.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(var t=0;10>t;t++)rl[t+48]=rl[t+96]=String(t);for(var t=65;90>=t;t++)rl[t]=String.fromCharCode(t);for(var t=1;12>=t;t++)rl[t+111]=rl[t+63235]="F"+t}();var il,ol=function(){function t(t){return 247>=t?n.charAt(t):t>=1424&&1524>=t?"R":t>=1536&&1773>=t?r.charAt(t-1536):t>=1774&&2220>=t?"r":t>=8192&&8203>=t?"w":8204==t?"b":"L"}function e(t,e,n){this.level=t,this.from=e,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",r="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,a=/[LRr]/,s=/[Lb1n]/,l=/[1n]/,u="L";return function(n){if(!i.test(n))return!1;for(var r,c=n.length,f=[],h=0;c>h;++h)f.push(r=t(n.charCodeAt(h)));for(var h=0,p=u;c>h;++h){var r=f[h];"m"==r?f[h]=p:p=r}for(var h=0,d=u;c>h;++h){var r=f[h];"1"==r&&"r"==d?f[h]="n":a.test(r)&&(d=r,"r"==r&&(f[h]="R"))}for(var h=1,p=f[0];c-1>h;++h){var r=f[h];"+"==r&&"1"==p&&"1"==f[h+1]?f[h]="1":","!=r||p!=f[h+1]||"1"!=p&&"n"!=p||(f[h]=p),p=r}for(var h=0;c>h;++h){var r=f[h];if(","==r)f[h]="N";else if("%"==r){for(var g=h+1;c>g&&"%"==f[g];++g);for(var m=h&&"!"==f[h-1]||c>g&&"1"==f[g]?"1":"N",v=h;g>v;++v)f[v]=m;h=g-1}}for(var h=0,d=u;c>h;++h){var r=f[h];"L"==d&&"1"==r?f[h]="L":a.test(r)&&(d=r)}for(var h=0;c>h;++h)if(o.test(f[h])){for(var g=h+1;c>g&&o.test(f[g]);++g);for(var y="L"==(h?f[h-1]:u),b="L"==(c>g?f[g]:u),m=y||b?"L":"R",v=h;g>v;++v)f[v]=m;h=g-1}for(var w,x=[],h=0;c>h;)if(s.test(f[h])){var $=h;for(++h;c>h&&s.test(f[h]);++h);x.push(new e(0,$,h))}else{var C=h,S=x.length;for(++h;c>h&&"L"!=f[h];++h);for(var v=C;h>v;)if(l.test(f[v])){v>C&&x.splice(S,0,new e(1,C,v));var k=v;for(++v;h>v&&l.test(f[v]);++v);x.splice(S,0,new e(2,k,v)),C=v}else++v;h>C&&x.splice(S,0,new e(1,C,h))}return 1==x[0].level&&(w=n.match(/^\s+/))&&(x[0].from=w[0].length,x.unshift(new e(0,0,w[0].length))),1==Fo(x).level&&(w=n.match(/\s+$/))&&(Fo(x).to-=w[0].length,x.push(new e(0,c-w[0].length,c))),2==x[0].level&&x.unshift(new e(1,x[0].to,x[0].to)),x[0].level!=Fo(x).level&&x.push(new e(x[0].level,c,c)),x}}();return t.version="5.8.0",t}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE
function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";t.defineMode("nginx",function(t){function e(t){for(var e={},n=t.split(" "),r=0;r<n.length;++r)e[n[r]]=!0;return e}function n(t,e){return s=e,t}function r(t,e){t.eatWhile(/[\w\$_]/);var r=t.current();if(l.propertyIsEnumerable(r))return"keyword";if(u.propertyIsEnumerable(r))return"variable-2";if(c.propertyIsEnumerable(r))return"string-2";var s=t.next();return"@"==s?(t.eatWhile(/[\w\\\-]/),n("meta",t.current())):"/"==s&&t.eat("*")?(e.tokenize=i,i(t,e)):"<"==s&&t.eat("!")?(e.tokenize=o,o(t,e)):"="!=s?"~"!=s&&"|"!=s||!t.eat("=")?'"'==s||"'"==s?(e.tokenize=a(s),e.tokenize(t,e)):"#"==s?(t.skipToEnd(),n("comment","comment")):"!"==s?(t.match(/^\s*\w*/),n("keyword","important")):/\d/.test(s)?(t.eatWhile(/[\w.%]/),n("number","unit")):/[,.+>*\/]/.test(s)?n(null,"select-op"):/[;{}:\[\]]/.test(s)?n(null,s):(t.eatWhile(/[\w\\\-]/),n("variable","variable")):n(null,"compare"):void n(null,"compare")}function i(t,e){for(var i,o=!1;null!=(i=t.next());){if(o&&"/"==i){e.tokenize=r;break}o="*"==i}return n("comment","comment")}function o(t,e){for(var i,o=0;null!=(i=t.next());){if(o>=2&&">"==i){e.tokenize=r;break}o="-"==i?o+1:0}return n("comment","comment")}function a(t){return function(e,i){for(var o,a=!1;null!=(o=e.next())&&(o!=t||a);)a=!a&&"\\"==o;return a||(i.tokenize=r),n("string","string")}}var s,l=e("break return rewrite set accept_mutex accept_mutex_delay access_log add_after_body add_before_body add_header addition_types aio alias allow ancient_browser ancient_browser_value auth_basic auth_basic_user_file auth_http auth_http_header auth_http_timeout autoindex autoindex_exact_size autoindex_localtime charset charset_types client_body_buffer_size client_body_in_file_only client_body_in_single_buffer client_body_temp_path client_body_timeout client_header_buffer_size client_header_timeout client_max_body_size connection_pool_size create_full_put_path daemon dav_access dav_methods debug_connection debug_points default_type degradation degrade deny devpoll_changes devpoll_events directio directio_alignment empty_gif env epoll_events error_log eventport_events expires fastcgi_bind fastcgi_buffer_size fastcgi_buffers fastcgi_busy_buffers_size fastcgi_cache fastcgi_cache_key fastcgi_cache_methods fastcgi_cache_min_uses fastcgi_cache_path fastcgi_cache_use_stale fastcgi_cache_valid fastcgi_catch_stderr fastcgi_connect_timeout fastcgi_hide_header fastcgi_ignore_client_abort fastcgi_ignore_headers fastcgi_index fastcgi_intercept_errors fastcgi_max_temp_file_size fastcgi_next_upstream fastcgi_param fastcgi_pass_header fastcgi_pass_request_body fastcgi_pass_request_headers fastcgi_read_timeout fastcgi_send_lowat fastcgi_send_timeout fastcgi_split_path_info fastcgi_store fastcgi_store_access fastcgi_temp_file_write_size fastcgi_temp_path fastcgi_upstream_fail_timeout fastcgi_upstream_max_fails flv geoip_city geoip_country google_perftools_profiles gzip gzip_buffers gzip_comp_level gzip_disable gzip_hash gzip_http_version gzip_min_length gzip_no_buffer gzip_proxied gzip_static gzip_types gzip_vary gzip_window if_modified_since ignore_invalid_headers image_filter image_filter_buffer image_filter_jpeg_quality image_filter_transparency imap_auth imap_capabilities imap_client_buffer index ip_hash keepalive_requests keepalive_timeout kqueue_changes kqueue_events large_client_header_buffers limit_conn limit_conn_log_level limit_rate limit_rate_after limit_req limit_req_log_level limit_req_zone limit_zone lingering_time lingering_timeout lock_file log_format log_not_found log_subrequest map_hash_bucket_size map_hash_max_size master_process memcached_bind memcached_buffer_size memcached_connect_timeout memcached_next_upstream memcached_read_timeout memcached_send_timeout memcached_upstream_fail_timeout memcached_upstream_max_fails merge_slashes min_delete_depth modern_browser modern_browser_value msie_padding msie_refresh multi_accept open_file_cache open_file_cache_errors open_file_cache_events open_file_cache_min_uses open_file_cache_valid open_log_file_cache output_buffers override_charset perl perl_modules perl_require perl_set pid pop3_auth pop3_capabilities port_in_redirect postpone_gzipping postpone_output protocol proxy proxy_bind proxy_buffer proxy_buffer_size proxy_buffering proxy_buffers proxy_busy_buffers_size proxy_cache proxy_cache_key proxy_cache_methods proxy_cache_min_uses proxy_cache_path proxy_cache_use_stale proxy_cache_valid proxy_connect_timeout proxy_headers_hash_bucket_size proxy_headers_hash_max_size proxy_hide_header proxy_ignore_client_abort proxy_ignore_headers proxy_intercept_errors proxy_max_temp_file_size proxy_method proxy_next_upstream proxy_pass_error_message proxy_pass_header proxy_pass_request_body proxy_pass_request_headers proxy_read_timeout proxy_redirect proxy_send_lowat proxy_send_timeout proxy_set_body proxy_set_header proxy_ssl_session_reuse proxy_store proxy_store_access proxy_temp_file_write_size proxy_temp_path proxy_timeout proxy_upstream_fail_timeout proxy_upstream_max_fails random_index read_ahead real_ip_header recursive_error_pages request_pool_size reset_timedout_connection resolver resolver_timeout rewrite_log rtsig_overflow_events rtsig_overflow_test rtsig_overflow_threshold rtsig_signo satisfy secure_link_secret send_lowat send_timeout sendfile sendfile_max_chunk server_name_in_redirect server_names_hash_bucket_size server_names_hash_max_size server_tokens set_real_ip_from smtp_auth smtp_capabilities smtp_client_buffer smtp_greeting_delay so_keepalive source_charset ssi ssi_ignore_recycled_buffers ssi_min_file_chunk ssi_silent_errors ssi_types ssi_value_length ssl ssl_certificate ssl_certificate_key ssl_ciphers ssl_client_certificate ssl_crl ssl_dhparam ssl_engine ssl_prefer_server_ciphers ssl_protocols ssl_session_cache ssl_session_timeout ssl_verify_client ssl_verify_depth starttls stub_status sub_filter sub_filter_once sub_filter_types tcp_nodelay tcp_nopush thread_stack_size timeout timer_resolution types_hash_bucket_size types_hash_max_size underscores_in_headers uninitialized_variable_warn use user userid userid_domain userid_expires userid_mark userid_name userid_p3p userid_path userid_service valid_referers variables_hash_bucket_size variables_hash_max_size worker_connections worker_cpu_affinity worker_priority worker_processes worker_rlimit_core worker_rlimit_nofile worker_rlimit_sigpending worker_threads working_directory xclient xml_entities xslt_stylesheet xslt_typesdrew@li229-23"),u=e("http mail events server types location upstream charset_map limit_except if geo map"),c=e("include root server server_name listen internal proxy_pass memcached_pass fastcgi_pass try_files"),f=t.indentUnit;return{startState:function(t){return{tokenize:r,baseIndent:t||0,stack:[]}},token:function(t,e){if(t.eatSpace())return null;s=null;var n=e.tokenize(t,e),r=e.stack[e.stack.length-1];return"hash"==s&&"rule"==r?n="atom":"variable"==n&&("rule"==r?n="number":r&&"@media{"!=r||(n="tag")),"rule"==r&&/^[\{\};]$/.test(s)&&e.stack.pop(),"{"==s?"@media"==r?e.stack[e.stack.length-1]="@media{":e.stack.push("{"):"}"==s?e.stack.pop():"@media"==s?e.stack.push("@media"):"{"==r&&"comment"!=s&&e.stack.push("rule"),n},indent:function(t,e){var n=t.stack.length;return/^\}/.test(e)&&(n-="rule"==t.stack[t.stack.length-1]?2:1),t.baseIndent+n*f},electricChars:"}"}}),t.defineMIME("text/nginx","text/x-nginx-conf")}),angular.module("ui.codemirror",[]).constant("uiCodemirrorConfig",{}).directive("uiCodemirror",uiCodemirrorDirective),uiCodemirrorDirective.$inject=["$timeout","uiCodemirrorConfig"],// MIT license
function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var n=(new Date).getTime(),r=Math.max(0,16-(n-t)),i=window.setTimeout(function(){e(n+r)},r);return t=n+r,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),angular.module("ui.layout",[]).controller("uiLayoutCtrl",["$scope","$attrs","$element","LayoutContainer",function(t,e,n,r){function i(){var t=l.sizeProperties.flowProperty,e=parseInt(u.dividerSize),r=n[0][l.sizeProperties.offsetSize];if(null!==l.movingSplitbar){var i=l.containers.indexOf(l.movingSplitbar),o=i+2<l.containers.length?i+2:null;if(i>-1){var c=l.processSplitbar(l.containers[i]),f=c.beforeContainer,h=c.afterContainer;if(!f.collapsed&&!h.collapsed){var p=l.movingSplitbar[t]-s,d=l.movingSplitbar[t]-p;d=Math.min(r-e,d),angular.isNumber(f.beforeMinValue)&&d<f.beforeMinValue&&(d=f.beforeMinValue),angular.isNumber(f.beforeMaxValue)&&d>f.beforeMaxValue&&(d=f.beforeMaxValue),null!==h&&angular.isNumber(h.afterMinValue)&&d>h.afterMinValue-e&&(d=h.afterMinValue-e),null!==h&&angular.isNumber(h.afterMaxValue)&&d<h.afterMaxValue&&(d=h.afterMaxValue),f.size=d-f[t];var g=h[t];h[t]=d+e,h[t]!=g&&(h.size=null!==o?g+h.size-(d+e):r-(d+e)),l.movingSplitbar[t]=d}}}a=null}function o(t){var e=t[0],n=document.documentElement||document.body,r=window.pageXOffset||n.scrollLeft,i=window.pageYOffset||n.scrollTop,o=e.getBoundingClientRect(),a=o.left+r,s=o.top+i;return{left:a,top:s}}var a,s,l=this,u=angular.extend({},t.$eval(e.uiLayout),t.$eval(e.options)),c=0,f=!1;return l.containers=[],l.movingSplitbar=null,l.bounds=n[0].getBoundingClientRect(),l.isUsingColumnFlow="column"===u.flow,l.sizeProperties=l.isUsingColumnFlow?{sizeProperty:"width",offsetSize:"offsetWidth",offsetPos:"left",flowProperty:"left",oppositeFlowProperty:"right",mouseProperty:"clientX",flowPropertyPosition:"x"}:{sizeProperty:"height",offsetSize:"offsetHeight",offsetPos:"top",flowProperty:"top",oppositeFlowProperty:"bottom",mouseProperty:"clientY",flowPropertyPosition:"y"},n.addClass("stretch").addClass("ui-layout-"+(u.flow||"row")),u.sizes=u.sizes||[],u.maxSizes=u.maxSizes||[],u.minSizes=u.minSizes||[],u.dividerSize=u.dividerSize||10,u.collapsed=u.collapsed||[],l.opts=u,t.updateDisplay=function(){console.log(l.containers),l.updateDisplay()},l.mouseUpHandler=function(t){return null!==l.movingSplitbar&&(l.movingSplitbar=null),t},l.mouseMoveHandler=function(t){var e=t[l.sizeProperties.mouseProperty]||t.originalEvent&&t.originalEvent[l.sizeProperties.mouseProperty]||(t.targetTouches?t.targetTouches[0][l.sizeProperties.mouseProperty]:0);s=e-o(n)[l.sizeProperties.offsetPos],a&&window.cancelAnimationFrame(a),a=window.requestAnimationFrame(i)},l.processSplitbar=function(t){var e=l.containers.indexOf(t),n=function(t){var e=t[l.sizeProperties.flowProperty],n=t[l.sizeProperties.flowProperty]+t.size;t.beforeMinValue=angular.isNumber(t.minSize)?e+t.minSize:e,t.beforeMaxValue=angular.isNumber(t.maxSize)?e+t.maxSize:null,t.afterMinValue=angular.isNumber(t.minSize)?n-t.minSize:n,t.afterMaxValue=angular.isNumber(t.maxSize)?n-t.maxSize:null};if(e>-1){var r=e>0?l.containers[e-1]:null,i=e+1<=l.containers.length?l.containers[e+1]:null;return null!==r&&n(r),null!==i&&n(i),{beforeContainer:r,afterContainer:i}}return null},l.isPercent=function(t){return t&&angular.isString(t)&&t.indexOf("%")>-1?!0:!1},l.convertToPixels=function(t,e){return Math.floor(e*(parseInt(t)/100))},l.updateDisplay=function(){var t,e,i=parseInt(u.dividerSize),o=n[0].getBoundingClientRect()[l.sizeProperties.sizeProperty],a=o-i*c,s=a,h=0,p=0;if(l.containers.length>0&&n.children().length>0){if(!f&&l.containers.length===n.children().length){var d=l.containers.length-1;l.containers[d].element.remove(),l.containers.splice(d,1),f=!0,c--}for(e=0;e<l.containers.length;e++)if(!r.isSplitbar(l.containers[e])){var g=l.containers[e].element;u.maxSizes[e]=g.attr("max-size")||u.maxSizes[e]||null,u.minSizes[e]=g.attr("min-size")||u.minSizes[e]||null,u.sizes[e]=g.attr("size")||u.sizes[e]||"auto";var m=/\d+\s*(px|%)\s*$/i;u.sizes[e]="auto"!=u.sizes[e]&&u.sizes[e].match(m)?u.sizes[e]:"auto",u.minSizes[e]=u.minSizes[e]&&u.minSizes[e].match(m)?u.minSizes[e]:null,u.maxSizes[e]=u.maxSizes[e]&&u.maxSizes[e].match(m)?u.maxSizes[e]:null,"auto"!=u.sizes[e]&&(u.sizes[e]=l.isPercent(u.sizes[e])?l.convertToPixels(u.sizes[e],s):parseInt(u.sizes[e])),null!=u.minSizes[e]&&(u.minSizes[e]=l.isPercent(u.minSizes[e])?l.convertToPixels(u.minSizes[e],s):parseInt(u.minSizes[e]),u.sizes[e]<u.minSizes[e]&&(u.sizes[e]=u.minSizes[e])),null!=u.maxSizes[e]&&(u.maxSizes[e]=l.isPercent(u.maxSizes[e])?l.convertToPixels(u.maxSizes[e],s):parseInt(u.maxSizes[e]),u.sizes[e]>u.maxSizes[e]&&(u.sizes[e]=u.maxSizes[e])),"auto"===u.sizes[e]?p++:a-=u.sizes[e]}var v=Math.floor(a/p);for(e=0;e<l.containers.length;e++){if(t=l.containers[e],t[l.sizeProperties.flowProperty]=h,t.maxSize=u.maxSizes[e],t.minSize=u.minSizes[e],t.collapsed=t.collapsed||u.collapsed[e],r.isSplitbar(t))t.size=i;else{var y="auto"===u.sizes[e]?v:u.sizes[e];t.size=null!==y?y:v}h+=t.size}}},l.addContainer=function(t){l.containers.push(t),r.isSplitbar(t)&&c++,l.updateDisplay()},l.getContainers=function(){return l.containers},l.toggleBefore=function(e){var n=l.containers.indexOf(e)-1,r=l.containers[n];r.collapsed=!l.containers[n].collapsed;var i=l.containers[n+1],o=l.containers[n+2];return t.$apply(function(){r.collapsed?(r.actualSize=r.size,r.size=0,i&&(i[l.sizeProperties.flowProperty]-=r.actualSize),o&&(o[l.sizeProperties.flowProperty]-=r.actualSize,o.size+=r.actualSize)):(r.size=r.actualSize,i&&(i[l.sizeProperties.flowProperty]+=r.actualSize),o&&(o[l.sizeProperties.flowProperty]+=r.actualSize,o.size-=r.actualSize))}),r.collapsed},l.toggleAfter=function(e){var r,i=l.containers.indexOf(e)+1,o=l.containers[i],a=l.containers[i-1],s=l.containers[i-2],u=i===l.containers.length-1;return l.bounds=n[0].getBoundingClientRect(),o.collapsed=!l.containers[i].collapsed,t.$apply(function(){o.collapsed?(o.actualSize=o.size,o.size=0,r=u?l.bounds[l.sizeProperties.sizeProperty]-o[l.sizeProperties.flowProperty]-o.actualSize:0,a&&(a[l.sizeProperties.flowProperty]+=o.actualSize+r),s&&(s.size+=o.actualSize+r)):(o.size=o.actualSize,r=u?l.bounds[l.sizeProperties.sizeProperty]-o[l.sizeProperties.flowProperty]-o.actualSize:0,a&&(a[l.sizeProperties.flowProperty]-=o.actualSize+r),s&&(s.size-=o.actualSize+r))}),o.collapsed},l.getPreviousSplitbarContainer=function(t){if(r.isSplitbar(t)){var e=l.containers.indexOf(t),n=e-2;return n>=0?l.containers[n]:null}return null},l.getNextSplitbarContainer=function(t){if(r.isSplitbar(t)){var e=l.containers.indexOf(t),n=e+2;return e>0&&n<l.containers.length?l.containers[n]:null}return null},l}]).directive("uiLayout",["$window",function(t){return{restrict:"AE",controller:"uiLayoutCtrl",link:function(e,n,r,i){function o(){e.$apply(function(){i.updateDisplay()})}e.$watch(n[0][i.sizeProperties.offsetSize],function(){i.updateDisplay()}),angular.element(t).bind("resize",o),e.$on("$destroy",function(){angular.element(t).unbind("resize",o)})}}}]).directive("uiSplitbar",["LayoutContainer",function(t){var e=angular.element(document.body.parentElement);return{restrict:"EAC",require:"^uiLayout",scope:{},link:function(n,r,i,o){r.hasClass("stretch")||r.addClass("stretch"),r.hasClass("ui-splitbar")||r.addClass("ui-splitbar"),n.splitbar=t.Splitbar(),n.splitbar.element=r;var a=angular.element(r.children()[0]),s=angular.element(r.children()[1]),l=angular.element(a.children()[0]),u=angular.element(s.children()[0]),c="glyphicon-chevron-left",f="glyphicon-chevron-right",h="glyphicon-chevron-up",p="glyphicon-chevron-down",d=o.isUsingColumnFlow?c:h,g=o.isUsingColumnFlow?f:p;l.addClass(d),u.addClass(g),a.on("click",function(){var t,e,r=o.toggleBefore(n.splitbar),i=o.getPreviousSplitbarContainer(n.splitbar);null!==i&&(t=angular.element(i.element.children()[0]),e=angular.element(i.element.children()[1])),o.isUsingColumnFlow?r?(s.css("display","none"),l.removeClass(c),l.addClass(f),null!==i&&(t.css("display","none"),e.css("display","none"))):(s.css("display","inline"),l.removeClass(f),l.addClass(c),null!==i&&(t.css("display","inline"),e.css("display","inline"))):r?(s.css("display","none"),l.removeClass(h),l.addClass(p),null!==i&&(t.css("display","none"),e.css("display","none"))):(s.css("display","inline"),l.removeClass(p),l.addClass(h),null!==i&&(t.css("display","inline"),e.css("display","inline")))}),s.on("click",function(){var t,e,r=o.toggleAfter(n.splitbar),i=o.getNextSplitbarContainer(n.splitbar);null!==i&&(t=angular.element(i.element.children()[0]),e=angular.element(i.element.children()[1])),o.isUsingColumnFlow?r?(a.css("display","none"),u.removeClass(f),u.addClass(c),null!==i&&(t.css("display","none"),e.css("display","none"))):(a.css("display","inline"),u.removeClass(c),u.addClass(f),null!==i&&(t.css("display","inline"),e.css("display","inline"))):r?(a.css("display","none"),u.removeClass(p),u.addClass(h),null!==i&&(t.css("display","none"),e.css("display","none"))):(a.css("display","inline"),u.removeClass(h),u.addClass(p),null!==i&&(t.css("display","inline"),e.css("display","inline")))}),r.on("mousedown touchstart",function(t){return o.movingSplitbar=n.splitbar,o.processSplitbar(n.splitbar),t.preventDefault(),t.stopPropagation(),e.on("mousemove touchmove",function(t){n.$apply(angular.bind(o,o.mouseMoveHandler,t))}),!1}),e.on("mouseup touchend",function(t){n.$apply(angular.bind(o,o.mouseUpHandler,t)),e.off("mousemove touchmove")}),n.$watch("splitbar.size",function(t){r.css(o.sizeProperties.sizeProperty,t+"px")}),n.$watch("splitbar."+o.sizeProperties.flowProperty,function(t){r.css(o.sizeProperties.flowProperty,t+"px")}),o.addContainer(n.splitbar)}}}]).directive("uiLayoutContainer",["LayoutContainer",function(t){return{restrict:"AE",require:"^uiLayout",scope:{},compile:function(e){var n=angular.element('<div ui-splitbar><a><span class="glyphicon"></span></a><a><span class="glyphicon"></span></a></div>');return e.after(n),{pre:function(e,n,r,i){e.container=t.Container(),e.container.element=n,i.addContainer(e.container)},post:function(t,e,n,r){e.hasClass("stretch")||e.addClass("stretch"),e.hasClass("ui-layout-container")||e.addClass("ui-layout-container"),t.$watch("container.size",function(t){e.css(r.sizeProperties.sizeProperty,t+"px")}),t.$watch("container."+r.sizeProperties.flowProperty,function(t){e.css(r.sizeProperties.flowProperty,t+"px")})}}}}}]).factory("LayoutContainer",function(){function t(){this.size=0,this.maxSize=null,this.minSize=0,this.resizable=!0,this.locked=!1,this.element=null,this.collapsed=!1}function e(){this.size=10,this.left=0,this.top=0,this.element=null}return{Container:function(e){return new t(e)},Splitbar:function(){return new e},isSplitbar:function(t){return t instanceof e}}}),/**
 * angular-ui-notification - Angular.js service providing simple notifications using Bootstrap 3 styles with css transitions for animating
 * @author Alex_Crack
 * @version v0.0.14
 * @link https://github.com/alexcrack/angular-ui-notification
 * @license MIT
 */
angular.module("ui-notification",[]),angular.module("ui-notification").provider("Notification",function(){this.options={delay:5e3,startTop:10,startRight:10,verticalSpacing:10,horizontalSpacing:10,positionX:"right",positionY:"top",replaceMessage:!1,templateUrl:"angular-ui-notification.html"},this.setOptions=function(t){if(!angular.isObject(t))throw new Error("Options should be an object!");this.options=angular.extend({},this.options,t)},this.$get=["$timeout","$http","$compile","$templateCache","$rootScope","$injector","$sce","$q","$window",function(t,e,n,r,i,o,a,s,l){var u=this.options,c=u.startTop,f=u.startRight,h=u.verticalSpacing,p=u.horizontalSpacing,d=u.delay,g=[],m=!1,v=function(o,v){var y=s.defer();return"object"!=typeof o&&(o={message:o}),o.scope=o.scope?o.scope:i,o.template=o.templateUrl?o.templateUrl:u.templateUrl,o.delay=angular.isUndefined(o.delay)?d:o.delay,o.type=v?v:"",o.positionY=o.positionY?o.positionY:u.positionY,o.positionX=o.positionX?o.positionX:u.positionX,o.replaceMessage=o.replaceMessage?o.replaceMessage:u.replaceMessage,e.get(o.template,{cache:r}).success(function(e){var r=o.scope.$new();r.message=a.trustAsHtml(o.message),r.title=a.trustAsHtml(o.title),r.t=o.type.substr(0,1),r.delay=o.delay;var i=function(){for(var t=0,e=0,n=c,r=f,i=[],a=g.length-1;a>=0;a--){var s=g[a];if(o.replaceMessage&&a<g.length-1)s.addClass("killed");else{var l=parseInt(s[0].offsetHeight),u=parseInt(s[0].offsetWidth),d=i[s._positionY+s._positionX];m+l>window.innerHeight&&(d=c,e++,t=0);var m=n=d?0===t?d:d+h:c,v=r+e*(p+u);s.css(s._positionY,m+"px"),"center"==s._positionX?s.css("left",parseInt(window.innerWidth/2-u/2)+"px"):s.css(s._positionX,v+"px"),i[s._positionY+s._positionX]=m+l,t++}}},s=n(e)(r);s._positionY=o.positionY,s._positionX=o.positionX,s.addClass(o.type),s.bind("webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd click",function(t){t=t.originalEvent||t,("click"===t.type||"opacity"===t.propertyName&&t.elapsedTime>=1)&&(s.remove(),g.splice(g.indexOf(s),1),i())}),angular.isNumber(o.delay)&&t(function(){s.addClass("killed")},o.delay),angular.element(document.getElementsByTagName("body")).append(s);var u=-(parseInt(s[0].offsetHeight)+50);s.css(s._positionY,u+"px"),g.push(s),r._templateElement=s,r.kill=function(e){e?(g.splice(g.indexOf(r._templateElement),1),r._templateElement.remove(),t(i)):r._templateElement.addClass("killed")},t(i),m||(angular.element(l).bind("resize",function(){t(i)}),m=!0),y.resolve(r)}).error(function(t){throw new Error("Template ("+o.template+") could not be loaded. "+t)}),y.promise};return v.primary=function(t){return this(t,"primary")},v.error=function(t){return this(t,"error")},v.success=function(t){return this(t,"success")},v.info=function(t){return this(t,"info")},v.warning=function(t){return this(t,"warning")},v.clearAll=function(){angular.forEach(g,function(t){t.addClass("killed")})},v}]}),angular.module("ui-notification").run(["$templateCache",function(t){t.put("angular-ui-notification.html",'<div class="ui-notification"><h3 ng-show="title" ng-bind-html="title"></h3><div class="message" ng-bind-html="message"></div></div>')}]),/**
 * State-based routing for AngularJS
 * @version v0.2.13
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(t,e,n){"use strict";function r(t,e){return j(new(j(function(){},{prototype:t})),e)}function i(t){return N(arguments,function(e){e!==t&&N(e,function(e,n){t.hasOwnProperty(n)||(t[n]=e)})}),t}function o(t,e){var n=[];for(var r in t.path){if(t.path[r]!==e.path[r])break;n.push(t.path[r])}return n}function a(t){if(Object.keys)return Object.keys(t);var n=[];return e.forEach(t,function(t,e){n.push(e)}),n}function s(t,e){if(Array.prototype.indexOf)return t.indexOf(e,Number(arguments[2])||0);var n=t.length>>>0,r=Number(arguments[2])||0;for(r=0>r?Math.ceil(r):Math.floor(r),0>r&&(r+=n);n>r;r++)if(r in t&&t[r]===e)return r;return-1}function l(t,e,n,r){var i,l=o(n,r),u={},c=[];for(var f in l)if(l[f].params&&(i=a(l[f].params),i.length))for(var h in i)s(c,i[h])>=0||(c.push(i[h]),u[i[h]]=t[i[h]]);return j({},u,e)}function u(t,e,n){if(!n){n=[];for(var r in t)n.push(r)}for(var i=0;i<n.length;i++){var o=n[i];if(t[o]!=e[o])return!1}return!0}function c(t,e){var n={};return N(t,function(t){n[t]=e[t]}),n}function f(t){var e={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var r in t)-1==s(n,r)&&(e[r]=t[r]);return e}function h(t,e){var n=I(t),r=n?[]:{};return N(t,function(t,i){e(t,i)&&(r[n?r.length:i]=t)}),r}function p(t,e){var n=I(t)?[]:{};return N(t,function(t,r){n[r]=e(t,r)}),n}function d(t,e){var r=1,o=2,l={},u=[],c=l,h=j(t.when(l),{$$promises:l,$$values:l});this.study=function(l){function p(t,n){if(y[n]!==o){if(v.push(n),y[n]===r)throw v.splice(0,s(v,n)),new Error("Cyclic dependency: "+v.join(" -> "));if(y[n]=r,P(t))m.push(n,[function(){return e.get(t)}],u);else{var i=e.annotate(t);N(i,function(t){t!==n&&l.hasOwnProperty(t)&&p(l[t],t)}),m.push(n,t,i)}v.pop(),y[n]=o}}function d(t){return L(t)&&t.then&&t.$$promises}if(!L(l))throw new Error("'invocables' must be an object");var g=a(l||{}),m=[],v=[],y={};return N(l,p),l=v=y=null,function(r,o,a){function s(){--w||(x||i(b,o.$$values),v.$$values=b,v.$$promises=v.$$promises||!0,delete v.$$inheritedValues,p.resolve(b))}function l(t){v.$$failure=t,p.reject(t)}function u(n,i,o){function u(t){f.reject(t),l(t)}function c(){if(!F(v.$$failure))try{f.resolve(e.invoke(i,a,b)),f.promise.then(function(t){b[n]=t,s()},u)}catch(t){u(t)}}var f=t.defer(),h=0;N(o,function(t){y.hasOwnProperty(t)&&!r.hasOwnProperty(t)&&(h++,y[t].then(function(e){b[t]=e,--h||c()},u))}),h||c(),y[n]=f.promise}if(d(r)&&a===n&&(a=o,o=r,r=null),r){if(!L(r))throw new Error("'locals' must be an object")}else r=c;if(o){if(!d(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=h;var p=t.defer(),v=p.promise,y=v.$$promises={},b=j({},r),w=1+m.length/3,x=!1;if(F(o.$$failure))return l(o.$$failure),v;o.$$inheritedValues&&i(b,f(o.$$inheritedValues,g)),j(y,o.$$promises),o.$$values?(x=i(b,f(o.$$values,g)),v.$$inheritedValues=f(o.$$values,g),s()):(o.$$inheritedValues&&(v.$$inheritedValues=f(o.$$inheritedValues,g)),o.then(s,l));for(var $=0,C=m.length;C>$;$+=3)r.hasOwnProperty(m[$])?s():u(m[$],m[$+1],m[$+2]);return v}},this.resolve=function(t,e,n,r){return this.study(t)(e,n,r)}}function g(t,e,n){this.fromConfig=function(t,e,n){return F(t.template)?this.fromString(t.template,e):F(t.templateUrl)?this.fromUrl(t.templateUrl,e):F(t.templateProvider)?this.fromProvider(t.templateProvider,e,n):null},this.fromString=function(t,e){return O(t)?t(e):t},this.fromUrl=function(n,r){return O(n)&&(n=n(r)),null==n?null:t.get(n,{cache:e,headers:{Accept:"text/html"}}).then(function(t){return t.data})},this.fromProvider=function(t,e,r){return n.invoke(t,null,r||{params:e})}}function m(t,e,i){function o(e,n,r,i){if(m.push(e),d[e])return d[e];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(e))throw new Error("Invalid parameter name '"+e+"' in pattern '"+t+"'");if(g[e])throw new Error("Duplicate parameter name '"+e+"' in pattern '"+t+"'");return g[e]=new z.Param(e,n,r,i),g[e]}function a(t,e,n){var r=["",""],i=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return i;switch(n){case!1:r=["(",")"];break;case!0:r=["?(",")?"];break;default:r=["("+n+"|",")?"]}return i+r[0]+e+r[1]}function s(n,i){var o,a,s,l,u;return o=n[2]||n[3],u=e.params[o],s=t.substring(h,n.index),a=i?n[4]:n[4]||("*"==n[1]?".*":null),l=z.type(a||"string")||r(z.type("string"),{pattern:new RegExp(a)}),{id:o,regexp:a,segment:s,type:l,cfg:u}}e=j({params:{}},L(e)?e:{});var l,u=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,f="^",h=0,p=this.segments=[],d=i?i.params:{},g=this.params=i?i.params.$$new():new z.ParamSet,m=[];this.source=t;for(var v,y,b;(l=u.exec(t))&&(v=s(l,!1),!(v.segment.indexOf("?")>=0));)y=o(v.id,v.type,v.cfg,"path"),f+=a(v.segment,y.type.pattern.source,y.squash),p.push(v.segment),h=u.lastIndex;b=t.substring(h);var w=b.indexOf("?");if(w>=0){var x=this.sourceSearch=b.substring(w);if(b=b.substring(0,w),this.sourcePath=t.substring(0,h+w),x.length>0)for(h=0;l=c.exec(x);)v=s(l,!0),y=o(v.id,v.type,v.cfg,"search"),h=u.lastIndex}else this.sourcePath=t,this.sourceSearch="";f+=a(b)+(e.strict===!1?"/?":"")+"$",p.push(b),this.regexp=new RegExp(f,e.caseInsensitive?"i":n),this.prefix=p[0],this.$$paramNames=m}function v(t){j(this,t)}function y(){function t(t){return null!=t?t.toString().replace(/\//g,"%2F"):t}function i(t){return null!=t?t.toString().replace(/%2F/g,"/"):t}function o(t){return this.pattern.test(t)}function l(){return{strict:b,caseInsensitive:g}}function u(t){return O(t)||I(t)&&O(t[t.length-1])}function c(){for(;C.length;){var t=C.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");e.extend(x[t.name],d.invoke(t.def))}}function f(t){j(this,t||{})}z=this;var d,g=!1,b=!0,w=!1,x={},$=!0,C=[],S={string:{encode:t,decode:i,is:o,pattern:/[^\/]*/},"int":{encode:t,decode:function(t){return parseInt(t,10)},is:function(t){return F(t)&&this.decode(t.toString())===t},pattern:/\d+/},bool:{encode:function(t){return t?1:0},decode:function(t){return 0!==parseInt(t,10)},is:function(t){return t===!0||t===!1},pattern:/0|1/},date:{encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):n},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):n},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return this.is(t)&&this.is(e)&&t.toISOString()===e.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:e.toJson,decode:e.fromJson,is:e.isObject,equals:e.equals,pattern:/[^\/]*/},any:{encode:e.identity,decode:e.identity,is:e.identity,equals:e.equals,pattern:/.*/}};y.$$getDefaultValue=function(t){if(!u(t.value))return t.value;if(!d)throw new Error("Injectable functions cannot be called at configuration time");return d.invoke(t.value)},this.caseInsensitive=function(t){return F(t)&&(g=t),g},this.strictMode=function(t){return F(t)&&(b=t),b},this.defaultSquashPolicy=function(t){if(!F(t))return w;if(t!==!0&&t!==!1&&!P(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return w=t,t},this.compile=function(t,e){return new m(t,j(l(),e))},this.isMatcher=function(t){if(!L(t))return!1;var e=!0;return N(m.prototype,function(n,r){O(n)&&(e=e&&F(t[r])&&O(t[r]))}),e},this.type=function(t,e,n){if(!F(e))return x[t];if(x.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return x[t]=new v(j({name:t},e)),n&&(C.push({name:t,def:n}),$||c()),this},N(S,function(t,e){x[e]=new v(j({name:e},t))}),x=r(x,{}),this.$get=["$injector",function(t){return d=t,$=!1,c(),N(S,function(t,e){x[e]||(x[e]=new v(t))}),this}],this.Param=function(t,e,r,i){function o(t){var e=L(t)?a(t):[],n=-1===s(e,"value")&&-1===s(e,"type")&&-1===s(e,"squash")&&-1===s(e,"array");return n&&(t={value:t}),t.$$fn=u(t.value)?t.value:function(){return t.value},t}function l(e,n,r){if(e.type&&n)throw new Error("Param '"+t+"' has two type configurations.");return n?n:e.type?e.type instanceof v?e.type:new v(e.type):"config"===r?x.any:x.string}function c(){var e={array:"search"===i?"auto":!1},n=t.match(/\[\]$/)?{array:!0}:{};return j(e,n,r).array}function f(t,e){var n=t.squash;if(!e||n===!1)return!1;if(!F(n)||null==n)return w;if(n===!0||P(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function g(t,e,r,i){var o,a,l=[{from:"",to:r||e?n:""},{from:null,to:r||e?n:""}];return o=I(t.replace)?t.replace:[],P(i)&&o.push({from:i,to:n}),a=p(o,function(t){return t.from}),h(l,function(t){return-1===s(a,t.from)}).concat(o)}function m(){if(!d)throw new Error("Injectable functions cannot be called at configuration time");return d.invoke(r.$$fn)}function y(t){function e(t){return function(e){return e.from===t}}function n(t){var n=p(h($.replace,e(t)),function(t){return t.to});return n.length?n[0]:t}return t=n(t),F(t)?$.type.decode(t):m()}function b(){return"{Param:"+t+" "+e+" squash: '"+k+"' optional: "+S+"}"}var $=this;r=o(r),e=l(r,e,i);var C=c();e=C?e.$asArray(C,"search"===i):e,"string"!==e.name||C||"path"!==i||r.value!==n||(r.value="");var S=r.value!==n,k=f(r,S),T=g(r,C,S,k);j(this,{id:t,type:e,location:i,array:C,squash:k,replace:T,isOptional:S,value:y,dynamic:n,config:r,toString:b})},f.prototype={$$new:function(){return r(this,j(new f,{$$parent:this}))},$$keys:function(){for(var t=[],e=[],n=this,r=a(f.prototype);n;)e.push(n),n=n.$$parent;return e.reverse(),N(e,function(e){N(a(e),function(e){-1===s(t,e)&&-1===s(r,e)&&t.push(e)})}),t},$$values:function(t){var e={},n=this;return N(n.$$keys(),function(r){e[r]=n[r].value(t&&t[r])}),e},$$equals:function(t,e){var n=!0,r=this;return N(r.$$keys(),function(i){var o=t&&t[i],a=e&&e[i];r[i].type.equals(o,a)||(n=!1)}),n},$$validates:function(t){var e,n,r,i=!0,o=this;return N(this.$$keys(),function(a){r=o[a],n=t[a],e=!n&&r.isOptional,i=i&&(e||!!r.type.is(n))}),i},$$parent:n},this.ParamSet=f}function b(t,r){function i(t){var e=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(t.source);return null!=e?e[1].replace(/\\(.)/g,"$1"):""}function o(t,e){return t.replace(/\$(\$|\d{1,2})/,function(t,n){return e["$"===n?0:Number(n)]})}function a(t,e,n){if(!n)return!1;var r=t.invoke(e,e,{$match:n});return F(r)?r:!0}function s(r,i,o,a){function s(t,e,n){return"/"===g?t:e?g.slice(0,-1)+t:n?g.slice(1)+t:t}function h(t){function e(t){var e=t(o,r);return e?(P(e)&&r.replace().url(e),!0):!1}if(!t||!t.defaultPrevented){var i=d&&r.url()===d;if(d=n,i)return!0;var a,s=u.length;for(a=0;s>a;a++)if(e(u[a]))return;c&&e(c)}}function p(){return l=l||i.$on("$locationChangeSuccess",h)}var d,g=a.baseHref(),m=r.url();return f||p(),{sync:function(){h()},listen:function(){return p()},update:function(t){return t?void(m=r.url()):void(r.url()!==m&&(r.url(m),r.replace()))},push:function(t,e,i){r.url(t.format(e||{})),d=i&&i.$$avoidResync?r.url():n,i&&i.replace&&r.replace()},href:function(n,i,o){if(!n.validates(i))return null;var a=t.html5Mode();e.isObject(a)&&(a=a.enabled);var l=n.format(i);if(o=o||{},a||null===l||(l="#"+t.hashPrefix()+l),l=s(l,a,o.absolute),!o.absolute||!l)return l;var u=!a&&l?"/":"",c=r.port();return c=80===c||443===c?"":":"+c,[r.protocol(),"://",r.host(),c,u,l].join("")}}}var l,u=[],c=null,f=!1;this.rule=function(t){if(!O(t))throw new Error("'rule' must be a function");return u.push(t),this},this.otherwise=function(t){if(P(t)){var e=t;t=function(){return e}}else if(!O(t))throw new Error("'rule' must be a function");return c=t,this},this.when=function(t,e){var n,s=P(e);if(P(t)&&(t=r.compile(t)),!s&&!O(e)&&!I(e))throw new Error("invalid 'handler' in when()");var l={matcher:function(t,e){return s&&(n=r.compile(e),e=["$match",function(t){return n.format(t)}]),j(function(n,r){return a(n,e,t.exec(r.path(),r.search()))},{prefix:P(t.prefix)?t.prefix:""})},regex:function(t,e){if(t.global||t.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(n=e,e=["$match",function(t){return o(n,t)}]),j(function(n,r){return a(n,e,t.exec(r.path()))},{prefix:i(t)})}},u={matcher:r.isMatcher(t),regex:t instanceof RegExp};for(var c in u)if(u[c])return this.rule(l[c](t,e));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(t){t===n&&(t=!0),f=t},this.$get=s,s.$inject=["$location","$rootScope","$injector","$browser"]}function w(t,i){function o(t){return 0===t.indexOf(".")||0===t.indexOf("^")}function f(t,e){if(!t)return n;var r=P(t),i=r?t:t.name,a=o(i);if(a){if(!e)throw new Error("No reference point given for path '"+i+"'");e=f(e);for(var s=i.split("."),l=0,u=s.length,c=e;u>l;l++)if(""!==s[l]||0!==l){if("^"!==s[l])break;if(!c.parent)throw new Error("Path '"+i+"' not valid for state '"+e.name+"'");c=c.parent}else c=e;s=s.slice(l).join("."),i=c.name+(c.name&&s?".":"")+s}var h=S[i];return!h||!r&&(r||h!==t&&h.self!==t)?n:h}function h(t,e){k[t]||(k[t]=[]),k[t].push(e)}function d(t){for(var e=k[t]||[];e.length;)g(e.shift())}function g(e){e=r(e,{self:e,resolve:e.resolve||{},toString:function(){return this.name}});var n=e.name;if(!P(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(S.hasOwnProperty(n))throw new Error("State '"+n+"'' is already defined");var i=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):P(e.parent)?e.parent:L(e.parent)&&P(e.parent.name)?e.parent.name:"";if(i&&!S[i])return h(i,e.self);for(var o in M)O(M[o])&&(e[o]=M[o](e,M.$delegates[o]));return S[n]=e,!e[T]&&e.url&&t.when(e.url,["$match","$stateParams",function(t,n){C.$current.navigable==e&&u(t,n)||C.transitionTo(e,t,{inherit:!0,location:!1})}]),d(n),e}function m(t){return t.indexOf("*")>-1}function v(t){var e=t.split("."),n=C.$current.name.split(".");if("**"===e[0]&&(n=n.slice(s(n,e[1])),n.unshift("**")),"**"===e[e.length-1]&&(n.splice(s(n,e[e.length-2])+1,Number.MAX_VALUE),n.push("**")),e.length!=n.length)return!1;for(var r=0,i=e.length;i>r;r++)"*"===e[r]&&(n[r]="*");return n.join("")===e.join("")}function y(t,e){return P(t)&&!F(e)?M[t]:O(e)&&P(t)?(M[t]&&!M.$delegates[t]&&(M.$delegates[t]=M[t]),M[t]=e,this):this}function b(t,e){return L(t)?e=t:e.name=t,g(e),this}function w(t,i,o,s,h,d,g){function y(e,n,r,o){var a=t.$broadcast("$stateNotFound",e,n,r);if(a.defaultPrevented)return g.update(),M;if(!a.retry)return null;if(o.$retry)return g.update(),_;var s=C.transition=i.when(a.retry);return s.then(function(){return s!==C.transition?w:(e.options.$retry=!0,C.transitionTo(e.to,e.toParams,e.options))},function(){return M}),g.update(),s}function b(t,n,r,a,l,u){var f=r?n:c(t.params.$$keys(),n),p={$stateParams:f};l.resolve=h.resolve(t.resolve,p,l.resolve,t);var d=[l.resolve.then(function(t){l.globals=t})];return a&&d.push(a),N(t.views,function(n,r){var i=n.resolve&&n.resolve!==t.resolve?n.resolve:{};i.$template=[function(){return o.load(r,{view:n,locals:p,params:f,notify:u.notify})||""}],d.push(h.resolve(i,p,l.resolve,t).then(function(o){if(O(n.controllerProvider)||I(n.controllerProvider)){var a=e.extend({},i,p);o.$$controller=s.invoke(n.controllerProvider,null,a)}else o.$$controller=n.controller;o.$$state=t,o.$$controllerAs=n.controllerAs,l[r]=o}))}),i.all(d).then(function(){return l})}var w=i.reject(new Error("transition superseded")),k=i.reject(new Error("transition prevented")),M=i.reject(new Error("transition aborted")),_=i.reject(new Error("transition failed"));return $.locals={resolve:null,globals:{$stateParams:{}}},C={params:{},current:$.self,$current:$,transition:null},C.reload=function(){return C.transitionTo(C.current,d,{reload:!0,inherit:!1,notify:!0})},C.go=function(t,e,n){return C.transitionTo(t,e,j({inherit:!0,relative:C.$current},n))},C.transitionTo=function(e,n,o){n=n||{},o=j({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var a,u=C.$current,h=C.params,p=u.path,m=f(e,o.relative);if(!F(m)){var v={to:e,toParams:n,options:o},S=y(v,u.self,h,o);if(S)return S;if(e=v.to,n=v.toParams,o=v.options,m=f(e,o.relative),!F(m)){if(!o.relative)throw new Error("No such state '"+e+"'");throw new Error("Could not resolve '"+e+"' from state '"+o.relative+"'")}}if(m[T])throw new Error("Cannot transition to abstract state '"+e+"'");if(o.inherit&&(n=l(d,n||{},C.$current,m)),!m.params.$$validates(n))return _;n=m.params.$$values(n),e=m;var M=e.path,A=0,E=M[A],D=$.locals,O=[];if(!o.reload)for(;E&&E===p[A]&&E.ownParams.$$equals(n,h);)D=O[A]=E.locals,A++,E=M[A];if(x(e,u,D,o))return e.self.reloadOnSearch!==!1&&g.update(),C.transition=null,i.when(C.current);if(n=c(e.params.$$keys(),n||{}),o.notify&&t.$broadcast("$stateChangeStart",e.self,n,u.self,h).defaultPrevented)return g.update(),k;for(var P=i.when(D),L=A;L<M.length;L++,E=M[L])D=O[L]=r(D),P=b(E,n,E===e,P,D,o);var I=C.transition=P.then(function(){var r,i,a;if(C.transition!==I)return w;for(r=p.length-1;r>=A;r--)a=p[r],a.self.onExit&&s.invoke(a.self.onExit,a.self,a.locals.globals),a.locals=null;for(r=A;r<M.length;r++)i=M[r],i.locals=O[r],i.self.onEnter&&s.invoke(i.self.onEnter,i.self,i.locals.globals);return C.transition!==I?w:(C.$current=e,C.current=e.self,C.params=n,R(C.params,d),C.transition=null,o.location&&e.navigable&&g.push(e.navigable.url,e.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&t.$broadcast("$stateChangeSuccess",e.self,n,u.self,h),g.update(!0),C.current)},function(r){return C.transition!==I?w:(C.transition=null,a=t.$broadcast("$stateChangeError",e.self,n,u.self,h,r),a.defaultPrevented||g.update(),i.reject(r))});return I},C.is=function(t,e,r){r=j({relative:C.$current},r||{});var i=f(t,r.relative);return F(i)?C.$current!==i?!1:e?u(i.params.$$values(e),d):!0:n},C.includes=function(t,e,r){if(r=j({relative:C.$current},r||{}),P(t)&&m(t)){if(!v(t))return!1;t=C.$current.name}var i=f(t,r.relative);return F(i)?F(C.$current.includes[i.name])?e?u(i.params.$$values(e),d,a(e)):!0:!1:n},C.href=function(t,e,r){r=j({lossy:!0,inherit:!0,absolute:!1,relative:C.$current},r||{});var i=f(t,r.relative);if(!F(i))return null;r.inherit&&(e=l(d,e||{},C.$current,i));var o=i&&r.lossy?i.navigable:i;return o&&o.url!==n&&null!==o.url?g.href(o.url,c(i.params.$$keys(),e||{}),{absolute:r.absolute}):null},C.get=function(t,e){if(0===arguments.length)return p(a(S),function(t){return S[t].self});var n=f(t,e||C.$current);return n&&n.self?n.self:null},C}function x(t,e,n,r){return t!==e||(n!==e.locals||r.reload)&&t.self.reloadOnSearch!==!1?void 0:!0}var $,C,S={},k={},T="abstract",M={parent:function(t){if(F(t.parent)&&t.parent)return f(t.parent);var e=/^(.+)\.[^.]+$/.exec(t.name);return e?f(e[1]):$},data:function(t){return t.parent&&t.parent.data&&(t.data=t.self.data=j({},t.parent.data,t.data)),t.data},url:function(t){var e=t.url,n={params:t.params||{}};if(P(e))return"^"==e.charAt(0)?i.compile(e.substring(1),n):(t.parent.navigable||$).url.concat(e,n);if(!e||i.isMatcher(e))return e;throw new Error("Invalid url '"+e+"' in state '"+t+"'")},navigable:function(t){return t.url?t:t.parent?t.parent.navigable:null},ownParams:function(t){var e=t.url&&t.url.params||new z.ParamSet;return N(t.params||{},function(t,n){e[n]||(e[n]=new z.Param(n,null,t,"config"))}),e},params:function(t){return t.parent&&t.parent.params?j(t.parent.params.$$new(),t.ownParams):new z.ParamSet},views:function(t){var e={};return N(F(t.views)?t.views:{"":t},function(n,r){r.indexOf("@")<0&&(r+="@"+t.parent.name),e[r]=n}),e},path:function(t){return t.parent?t.parent.path.concat(t):[]},includes:function(t){var e=t.parent?j({},t.parent.includes):{};return e[t.name]=!0,e},$delegates:{}};$=g({name:"",url:"^",views:null,"abstract":!0}),$.navigable=null,this.decorator=y,this.state=b,this.$get=w,w.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function x(){function t(t,e){return{load:function(n,r){var i,o={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return r=j(o,r),r.view&&(i=e.fromConfig(r.view,r.params,r.locals)),i&&r.notify&&t.$broadcast("$viewContentLoading",r),i}}}this.$get=t,t.$inject=["$rootScope","$templateFactory"]}function $(){var t=!1;this.useAnchorScroll=function(){t=!0},this.$get=["$anchorScroll","$timeout",function(e,n){return t?e:function(t){n(function(){t[0].scrollIntoView()},0,!1)}}]}function C(t,n,r,i){function o(){return n.has?function(t){return n.has(t)?n.get(t):null}:function(t){try{return n.get(t)}catch(e){return null}}}function a(t,e){var n=function(){return{enter:function(t,e,n){e.after(t),n()},leave:function(t,e){t.remove(),e()}}};if(u)return{enter:function(t,e,n){var r=u.enter(t,null,e,n);r&&r.then&&r.then(n)},leave:function(t,e){var n=u.leave(t,e);n&&n.then&&n.then(e)}};if(l){var r=l&&l(e,t);return{enter:function(t,e,n){r.enter(t,null,e),n()},leave:function(t,e){r.leave(t),e()}}}return n()}var s=o(),l=s("$animator"),u=s("$animate"),c={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,o,s){return function(n,o,l){function u(){f&&(f.remove(),f=null),p&&(p.$destroy(),p=null),h&&(v.leave(h,function(){f=null}),f=h,h=null)}function c(a){var c,f=k(n,l,o,i),y=f&&t.$current&&t.$current.locals[f];if(a||y!==d){c=n.$new(),d=t.$current.locals[f];var b=s(c,function(t){v.enter(t,o,function(){p&&p.$emit("$viewContentAnimationEnded"),(e.isDefined(m)&&!m||n.$eval(m))&&r(t)}),u()});h=b,p=c,p.$emit("$viewContentLoaded"),p.$eval(g)}}var f,h,p,d,g=l.onload||"",m=l.autoscroll,v=a(l,n);n.$on("$stateChangeSuccess",function(){c(!1)}),n.$on("$viewContentLoading",function(){c(!1)}),c(!0)}}};return c}function S(t,e,n,r){return{restrict:"ECA",priority:-400,compile:function(i){var o=i.html();return function(i,a,s){var l=n.$current,u=k(i,s,a,r),c=l&&l.locals[u];if(c){a.data("$uiView",{name:u,state:c.$$state}),a.html(c.$template?c.$template:o);var f=t(a.contents());if(c.$$controller){c.$scope=i;var h=e(c.$$controller,c);c.$$controllerAs&&(i[c.$$controllerAs]=h),a.data("$ngControllerController",h),a.children().data("$ngControllerController",h)}f(i)}}}}}function k(t,e,n,r){var i=r(e.uiView||e.name||"")(t),o=n.inheritedData("$uiView");return i.indexOf("@")>=0?i:i+"@"+(o?o.state.name:"")}function T(t,e){var n,r=t.match(/^\s*({[^}]*})\s*$/);if(r&&(t=e+"("+r[1]+")"),n=t.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+t+"'");return{state:n[1],paramExpr:n[3]||null}}function M(t){var e=t.parent().inheritedData("$uiView");return e&&e.state&&e.state.name?e.state:void 0}function _(t,n){var r=["location","inherit","reload"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,o,a,s){var l=T(a.uiSref,t.current.name),u=null,c=M(o)||t.$current,f=null,h="A"===o.prop("tagName"),p="FORM"===o[0].nodeName,d=p?"action":"href",g=!0,m={relative:c,inherit:!0},v=i.$eval(a.uiSrefOpts)||{};e.forEach(r,function(t){t in v&&(m[t]=v[t])});var y=function(n){if(n&&(u=e.copy(n)),g){f=t.href(l.state,u,m);var r=s[1]||s[0];return r&&r.$$setStateInfo(l.state,u),null===f?(g=!1,!1):void a.$set(d,f)}};l.paramExpr&&(i.$watch(l.paramExpr,function(t){t!==u&&y(t)},!0),u=e.copy(i.$eval(l.paramExpr))),y(),p||o.bind("click",function(e){var r=e.which||e.button;if(!(r>1||e.ctrlKey||e.metaKey||e.shiftKey||o.attr("target"))){var i=n(function(){t.go(l.state,u,m)});e.preventDefault();var a=h&&!f?1:0;e.preventDefault=function(){a--<=0&&n.cancel(i)}}})}}}function A(t,e,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(e,r,i){function o(){a()?r.addClass(u):r.removeClass(u)}function a(){return"undefined"!=typeof i.uiSrefActiveEq?s&&t.is(s.name,l):s&&t.includes(s.name,l)}var s,l,u;u=n(i.uiSrefActiveEq||i.uiSrefActive||"",!1)(e),this.$$setStateInfo=function(e,n){s=t.get(e,M(r)),l=n,o()},e.$on("$stateChangeSuccess",o)}]}}function E(t){var e=function(e){return t.is(e)};return e.$stateful=!0,e}function D(t){var e=function(e){return t.includes(e)};return e.$stateful=!0,e}var F=e.isDefined,O=e.isFunction,P=e.isString,L=e.isObject,I=e.isArray,N=e.forEach,j=e.extend,R=e.copy;e.module("ui.router.util",["ng"]),e.module("ui.router.router",["ui.router.util"]),e.module("ui.router.state",["ui.router.router","ui.router.util"]),e.module("ui.router",["ui.router.state"]),e.module("ui.router.compat",["ui.router"]),d.$inject=["$q","$injector"],e.module("ui.router.util").service("$resolve",d),g.$inject=["$http","$templateCache","$injector"],e.module("ui.router.util").service("$templateFactory",g);var z;m.prototype.concat=function(t,e){var n={caseInsensitive:z.caseInsensitive(),strict:z.strictMode(),squash:z.defaultSquashPolicy()};return new m(this.sourcePath+t+this.sourceSearch,j(n,e),this)},m.prototype.toString=function(){return this.source},m.prototype.exec=function(t,e){function n(t){function e(t){return t.split("").reverse().join("")}function n(t){return t.replace(/\\-/,"-")}var r=e(t).split(/-(?!\\)/),i=p(r,e);return p(i,n).reverse()}var r=this.regexp.exec(t);if(!r)return null;e=e||{};var i,o,a,s=this.parameters(),l=s.length,u=this.segments.length-1,c={};if(u!==r.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(i=0;u>i;i++){a=s[i];var f=this.params[a],h=r[i+1];for(o=0;o<f.replace;o++)f.replace[o].from===h&&(h=f.replace[o].to);h&&f.array===!0&&(h=n(h)),c[a]=f.value(h)}for(;l>i;i++)a=s[i],c[a]=this.params[a].value(e[a]);return c},m.prototype.parameters=function(t){return F(t)?this.params[t]||null:this.$$paramNames},m.prototype.validates=function(t){return this.params.$$validates(t)},m.prototype.format=function(t){function e(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})}t=t||{};var n=this.segments,r=this.parameters(),i=this.params;if(!this.validates(t))return null;var o,a=!1,s=n.length-1,l=r.length,u=n[0];for(o=0;l>o;o++){var c=s>o,f=r[o],h=i[f],d=h.value(t[f]),g=h.isOptional&&h.type.equals(h.value(),d),m=g?h.squash:!1,v=h.type.encode(d);if(c){var y=n[o+1];if(m===!1)null!=v&&(u+=I(v)?p(v,e).join("-"):encodeURIComponent(v)),u+=y;else if(m===!0){var b=u.match(/\/$/)?/\/?(.*)/:/(.*)/;u+=y.match(b)[1]}else P(m)&&(u+=m+y)}else{if(null==v||g&&m!==!1)continue;I(v)||(v=[v]),v=p(v,encodeURIComponent).join("&"+f+"="),u+=(a?"&":"?")+(f+"="+v),a=!0}}return u},v.prototype.is=function(){return!0},v.prototype.encode=function(t){return t},v.prototype.decode=function(t){return t},v.prototype.equals=function(t,e){return t==e},v.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},v.prototype.pattern=/.*/,v.prototype.toString=function(){return"{Type:"+this.name+"}"},v.prototype.$asArray=function(t,e){function r(t,e){function r(t,e){return function(){return t[e].apply(t,arguments)}}function i(t){return I(t)?t:F(t)?[t]:[]}function o(t){switch(t.length){case 0:return n;case 1:return"auto"===e?t[0]:t;default:return t}}function a(t){return!t}function s(t,e){return function(n){n=i(n);var r=p(n,t);return e===!0?0===h(r,a).length:o(r)}}function l(t){return function(e,n){var r=i(e),o=i(n);if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(!t(r[a],o[a]))return!1;return!0}}this.encode=s(r(t,"encode")),this.decode=s(r(t,"decode")),this.is=s(r(t,"is"),!0),this.equals=l(r(t,"equals")),this.pattern=t.pattern,this.$arrayMode=e}if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new r(this,t)},e.module("ui.router.util").provider("$urlMatcherFactory",y),e.module("ui.router.util").run(["$urlMatcherFactory",function(){}]),b.$inject=["$locationProvider","$urlMatcherFactoryProvider"],e.module("ui.router.router").provider("$urlRouter",b),w.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],e.module("ui.router.state").value("$stateParams",{}).provider("$state",w),x.$inject=[],e.module("ui.router.state").provider("$view",x),e.module("ui.router.state").provider("$uiViewScroll",$),C.$inject=["$state","$injector","$uiViewScroll","$interpolate"],S.$inject=["$compile","$controller","$state","$interpolate"],e.module("ui.router.state").directive("uiView",C),e.module("ui.router.state").directive("uiView",S),_.$inject=["$state","$timeout"],A.$inject=["$state","$stateParams","$interpolate"],e.module("ui.router.state").directive("uiSref",_).directive("uiSrefActive",A).directive("uiSrefActiveEq",A),E.$inject=["$state"],D.$inject=["$state"],e.module("ui.router.state").filter("isState",E).filter("includedByState",D)}(window,window.angular),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),/* ========================================================================
 * Bootstrap: transition.js v3.3.4
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,r=this;t(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||t(r).trigger(t.support.transition.end)};return setTimeout(i,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),/* ========================================================================
 * Bootstrap: alert.js v3.3.4
 * http://getbootstrap.com/javascript/#alerts
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new r(this)),"string"==typeof e&&i[e].call(n)})}var n='[data-dismiss="alert"]',r=function(e){t(e).on("click",n,this.close)};r.VERSION="3.3.4",r.TRANSITION_DURATION=150,r.prototype.close=function(e){function n(){a.detach().trigger("closed.bs.alert").remove()}var i=t(this),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var a=t(o);e&&e.preventDefault(),a.length||(a=i.closest(".alert")),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(r.TRANSITION_DURATION):n())};var i=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=r,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.bs.alert.data-api",n,r.prototype.close)}(jQuery),/* ========================================================================
 * Bootstrap: button.js v3.3.4
 * http://getbootstrap.com/javascript/#buttons
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.button"),o="object"==typeof e&&e;i||r.data("bs.button",i=new n(this,o)),"toggle"==e?i.toggle():e&&i.setState(e)})}var n=function(e,r){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,r),this.isLoading=!1};n.VERSION="3.3.4",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",o=r.data();e+="Text",null==o.resetText&&r.data("resetText",r[i]()),setTimeout(t.proxy(function(){r[i](null==o[e]?this.options[e]:o[e]),"loadingText"==e?(this.isLoading=!0,r.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));t&&this.$element.toggleClass("active")};var r=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=r,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var r=t(n.target);r.hasClass("btn")||(r=r.closest(".btn")),e.call(r,"toggle"),n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),/* ========================================================================
 * Bootstrap: carousel.js v3.3.4
 * http://getbootstrap.com/javascript/#carousel
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.carousel"),o=t.extend({},n.DEFAULTS,r.data(),"object"==typeof e&&e),a="string"==typeof e?e:o.slide;i||r.data("bs.carousel",i=new n(this,o)),"number"==typeof e?i.to(e):a?i[a]():o.interval&&i.pause().cycle()})}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.3.4",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e),r="prev"==t&&0===n||"next"==t&&n==this.$items.length-1;if(r&&!this.options.wrap)return e;var i="prev"==t?-1:1,o=(n+i)%this.$items.length;return this.$items.eq(o)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(e,r){var i=this.$element.find(".item.active"),o=r||this.getItemForDirection(e,i),a=this.interval,s="next"==e?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var u=o[0],c=t.Event("slide.bs.carousel",{relatedTarget:u,direction:s});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var f=t(this.$indicators.children()[this.getItemIndex(o)]);f&&f.addClass("active")}var h=t.Event("slid.bs.carousel",{relatedTarget:u,direction:s});return t.support.transition&&this.$element.hasClass("slide")?(o.addClass(e),o[0].offsetWidth,i.addClass(s),o.addClass(s),i.one("bsTransitionEnd",function(){o.removeClass([e,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(h)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(h)),a&&this.cycle(),this}};var r=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=r,this};var i=function(n){var r,i=t(this),o=t(i.attr("data-target")||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var a=t.extend({},o.data(),i.data()),s=i.attr("data-slide-to");s&&(a.interval=!1),e.call(o,a),s&&o.data("bs.carousel").to(s),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",i).on("click.bs.carousel.data-api","[data-slide-to]",i),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),/* ========================================================================
 * Bootstrap: collapse.js v3.3.4
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){var n,r=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(r)}function n(e){return this.each(function(){var n=t(this),i=n.data("bs.collapse"),o=t.extend({},r.DEFAULTS,n.data(),"object"==typeof e&&e);!i&&o.toggle&&/show|hide/.test(e)&&(o.toggle=!1),i||n.data("bs.collapse",i=new r(this,o)),"string"==typeof e&&i[e]()})}var r=function(e,n){this.$element=t(e),this.options=t.extend({},r.DEFAULTS,n),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};r.VERSION="3.3.4",r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0},r.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(e=i.data("bs.collapse"),e&&e.transitioning))){var o=t.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){i&&i.length&&(n.call(i,"hide"),e||i.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var l=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(r.TRANSITION_DURATION)[a](this.$element[0][l])}}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(i,this)).emulateTransitionEnd(r.TRANSITION_DURATION):i.call(this)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},r.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(n,r){var i=t(r);this.addAriaAndCollapsedClass(e(i),i)},this)).end()},r.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var i=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=r,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(r){var i=t(this);i.attr("data-target")||r.preventDefault();var o=e(i),a=o.data("bs.collapse"),s=a?"toggle":i.data();n.call(o,s)})}(jQuery),/* ========================================================================
 * Bootstrap: dropdown.js v3.3.4
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){e&&3===e.which||(t(i).remove(),t(o).each(function(){var r=t(this),i=n(r),o={relatedTarget:this};i.hasClass("open")&&(i.trigger(e=t.Event("hide.bs.dropdown",o)),e.isDefaultPrevented()||(r.attr("aria-expanded","false"),i.removeClass("open").trigger("hidden.bs.dropdown",o)))}))}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&t(n);return r&&r.length?r:e.parent()}function r(e){return this.each(function(){var n=t(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new a(this)),"string"==typeof e&&r[e].call(n)})}var i=".dropdown-backdrop",o='[data-toggle="dropdown"]',a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.4",a.prototype.toggle=function(r){var i=t(this);if(!i.is(".disabled, :disabled")){var o=n(i),a=o.hasClass("open");if(e(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var s={relatedTarget:this};if(o.trigger(r=t.Event("show.bs.dropdown",s)),r.isDefaultPrevented())return;i.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},a.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var r=t(this);if(e.preventDefault(),e.stopPropagation(),!r.is(".disabled, :disabled")){var i=n(r),a=i.hasClass("open");if(!a&&27!=e.which||a&&27==e.which)return 27==e.which&&i.find(o).trigger("focus"),r.trigger("click");var s=" li:not(.disabled):visible a",l=i.find('[role="menu"]'+s+', [role="listbox"]'+s);if(l.length){var u=l.index(e.target);38==e.which&&u>0&&u--,40==e.which&&u<l.length-1&&u++,~u||(u=0),l.eq(u).trigger("focus")}}}};var s=t.fn.dropdown;t.fn.dropdown=r,t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o,a.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',a.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',a.prototype.keydown)}(jQuery),/* ========================================================================
 * Bootstrap: modal.js v3.3.4
 * http://getbootstrap.com/javascript/#modals
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e,r){return this.each(function(){var i=t(this),o=i.data("bs.modal"),a=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);o||i.data("bs.modal",o=new n(this,a)),"string"==typeof e?o[e](r):a.show&&o.show(r)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.4",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var r=this,i=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var i=t.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.adjustDialog(),i&&r.$element[0].offsetWidth,r.$element.addClass("in").attr("aria-hidden",!1),r.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});i?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):r.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var r=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&i;if(this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){r.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var r=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=r,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var r=t(this),i=r.attr("href"),o=t(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},o.data(),r.data());r.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),e.call(o,a,this)})}(jQuery),/* ========================================================================
 * Bootstrap: tooltip.js v3.3.4
 * http://getbootstrap.com/javascript/#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.tooltip"),o="object"==typeof e&&e;(i||!/destroy|hide/.test(e))&&(i||r.data("bs.tooltip",i=new n(this,o)),"string"==typeof e&&i[e]())})}var n=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.init("tooltip",t,e)};n.VERSION="3.3.4",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,r){if(this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport),this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),o=i.length;o--;){var a=i[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,r){n[t]!=r&&(e[t]=r)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n&&n.$tip&&n.$tip.is(":visible")?void(n.hoverState="in"):(n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var r=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!r)return;var i=this,o=this.tip(),a=this.getUID(this.type);this.setContent(),o.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&o.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,u=l.test(s);u&&(s=s.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element);var c=this.getPosition(),f=o[0].offsetWidth,h=o[0].offsetHeight;if(u){var p=s,d=this.options.container?t(this.options.container):this.$element.parent(),g=this.getPosition(d);s="bottom"==s&&c.bottom+h>g.bottom?"top":"top"==s&&c.top-h<g.top?"bottom":"right"==s&&c.right+f>g.width?"left":"left"==s&&c.left-f<g.left?"right":s,o.removeClass(p).addClass(s)}var m=this.getCalculatedOffset(s,c,f,h);this.applyPlacement(m,s);var v=function(){var t=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==t&&i.leave(i)};t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",v).emulateTransitionEnd(n.TRANSITION_DURATION):v()}},n.prototype.applyPlacement=function(e,n){var r=this.tip(),i=r[0].offsetWidth,o=r[0].offsetHeight,a=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),e.top=e.top+a,e.left=e.left+s,t.offset.setOffset(r[0],t.extend({using:function(t){r.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),r.addClass("in");var l=r[0].offsetWidth,u=r[0].offsetHeight;"top"==n&&u!=o&&(e.top=e.top+o-u);var c=this.getViewportAdjustedDelta(n,e,l,u);c.left?e.left+=c.left:e.top+=c.top;var f=/top|bottom/.test(n),h=f?2*c.left-i+l:2*c.top-o+u,p=f?"offsetWidth":"offsetHeight";r.offset(e),this.replaceArrow(h,r[0][p],f)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(e){function r(){"in"!=i.hoverState&&o.detach(),i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),e&&e()}var i=this,o=t(this.$tip),a=t.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],r="BODY"==n.tagName,i=n.getBoundingClientRect();null==i.width&&(i=t.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var o=r?{top:0,left:0}:e.offset(),a={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},s=r?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},i,a,s,o)},n.prototype.getCalculatedOffset=function(t,e,n,r){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-r,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-r/2,left:e.left-n}:{top:e.top+e.height/2-r/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-o-a.scroll,l=e.top+o-a.scroll+r;s<a.top?i.top=a.top-s:l>a.top+a.height&&(i.top=a.top+a.height-l)}else{var u=e.left-o,c=e.left+o+n;u<a.left?i.left=a.left-u:c>a.width&&(i.left=a.left+a.width-c)}return i},n.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},n.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},n.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&(n=t(e.currentTarget).data("bs."+this.type),n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type)})};var r=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=r,this}}(jQuery),/* ========================================================================
 * Bootstrap: popover.js v3.3.4
 * http://getbootstrap.com/javascript/#popovers
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.popover"),o="object"==typeof e&&e;(i||!/destroy|hide/.test(e))&&(i||r.data("bs.popover",i=new n(this,o)),"string"==typeof e&&i[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.4",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var r=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=r,this}}(jQuery),/* ========================================================================
 * Bootstrap: scrollspy.js v3.3.4
 * http://getbootstrap.com/javascript/#scrollspy
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(n,r){this.$body=t(document.body),this.$scrollElement=t(t(n).is(document.body)?window:n),this.options=t.extend({},e.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var r=t(this),i=r.data("bs.scrollspy"),o="object"==typeof n&&n;i||r.data("bs.scrollspy",i=new e(this,o)),"string"==typeof n&&i[n]()})}e.VERSION="3.3.4",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,n="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(n="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),i=e.data("target")||e.attr("href"),o=/^#./.test(i)&&t(i);return o&&o.length&&o.is(":visible")&&[[o[n]().top+r,i]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=r)return a!=(t=o[o.length-1])&&this.activate(t);if(a&&e<i[0])return this.activeTarget=null,this.clear();for(t=i.length;t--;)a!=o[t]&&e>=i[t]&&(void 0===i[t+1]||e<i[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',r=t(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=r,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),/* ========================================================================
 * Bootstrap: tab.js v3.3.4
 * http://getbootstrap.com/javascript/#tabs
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new n(this)),"string"==typeof e&&i[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.3.4",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),r=e.data("target");if(r||(r=e.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var i=n.find(".active:last a"),o=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(o),e.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=t(r);this.activate(e.closest("li"),n),this.activate(s,s.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},n.prototype.activate=function(e,r,i){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var a=r.find("> .active"),s=i&&t.support.transition&&(a.length&&a.hasClass("fade")||!!r.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),a.removeClass("in")};var r=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=r,this};var i=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),/* ========================================================================
 * Bootstrap: affix.js v3.3.4
 * http://getbootstrap.com/javascript/#affix
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.affix"),o="object"==typeof e&&e;i||r.data("bs.affix",i=new n(this,o)),"string"==typeof e&&i[e]()})}var n=function(e,r){this.options=t.extend({},n.DEFAULTS,r),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.4",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(t,e,n,r){var i=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return n>i?"top":!1;if("bottom"==this.affixed)return null!=n?i+this.unpin<=o.top?!1:"bottom":t-r>=i+a?!1:"bottom";var s=null==this.affixed,l=s?i:o.top,u=s?a:e;return null!=n&&n>=i?"top":null!=r&&l+u>=t-r?"bottom":!1},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),r=this.options.offset,i=r.top,o=r.bottom,a=t(document.body).height();"object"!=typeof r&&(o=i=r),"function"==typeof i&&(i=r.top(this.$element)),"function"==typeof o&&(o=r.bottom(this.$element));var s=this.getState(a,e,i,o);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),u=t.Event(l+".bs.affix");if(this.$element.trigger(u),u.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-e-o})}};var r=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=r,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),r=n.data();r.offset=r.offset||{},null!=r.offsetBottom&&(r.offset.bottom=r.offsetBottom),null!=r.offsetTop&&(r.offset.top=r.offsetTop),e.call(n,r)})})}(jQuery),!function(){function t(t){return t&&(t.ownerDocument||t.document||t).documentElement}function e(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function n(t,e){return e>t?-1:t>e?1:t>=e?0:0/0}function r(t){return null===t?0/0:+t}function i(t){return!isNaN(t)}function o(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);i>r;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);i>r;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}function a(t){return t.length}function s(t){for(var e=1;t*e%1;)e*=10;return e}function l(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function u(){this._=Object.create(null)}function c(t){return(t+="")===gs||t[0]===ms?ms+t:t}function f(t){return(t+="")[0]===ms?t.slice(1):t}function h(t){return c(t)in this._}function p(t){return(t=c(t))in this._&&delete this._[t]}function d(){var t=[];for(var e in this._)t.push(f(e));return t}function g(){var t=0;for(var e in this._)++t;return t}function m(){for(var t in this._)return!1;return!0}function v(){this._=Object.create(null)}function y(t){return t}function b(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function w(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=vs.length;r>n;++n){var i=vs[n]+e;if(i in t)return i}}function x(){}function $(){}function C(t){function e(){for(var e,r=n,i=-1,o=r.length;++i<o;)(e=r[i].on)&&e.apply(this,arguments);return t}var n=[],r=new u;return e.on=function(e,i){var o,a=r.get(e);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),r.remove(e)),i&&n.push(r.set(e,{on:i})),t)},e}function S(){ns.event.preventDefault()}function k(){for(var t,e=ns.event;t=e.sourceEvent;)e=t;return e}function T(t){for(var e=new $,n=0,r=arguments.length;++n<r;)e[arguments[n]]=C(e);return e.of=function(n,r){return function(i){try{var o=i.sourceEvent=ns.event;i.target=t,ns.event=i,e[i.type].apply(n,r)}finally{ns.event=o}}},e}function M(t){return bs(t,Cs),t}function _(t){return"function"==typeof t?t:function(){return ws(t,this)}}function A(t){return"function"==typeof t?t:function(){return xs(t,this)}}function E(t,e){function n(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function i(){this.setAttribute(t,e)}function o(){this.setAttributeNS(t.space,t.local,e)}function a(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=ns.ns.qualify(t),null==e?t.local?r:n:"function"==typeof e?t.local?s:a:t.local?o:i}function D(t){return t.trim().replace(/\s+/g," ")}function F(t){return new RegExp("(?:^|\\s+)"+ns.requote(t)+"(?:\\s+|$)","g")}function O(t){return(t+"").trim().split(/^|\s+/)}function P(t,e){function n(){for(var n=-1;++n<i;)t[n](this,e)}function r(){for(var n=-1,r=e.apply(this,arguments);++n<i;)t[n](this,r)}t=O(t).map(L);var i=t.length;return"function"==typeof e?r:n}function L(t){var e=F(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",D(i+" "+t))):n.setAttribute("class",D(i.replace(e," ")))}}function I(t,e,n){function r(){this.style.removeProperty(t)}function i(){this.style.setProperty(t,e,n)}function o(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}return null==e?r:"function"==typeof e?o:i}function N(t,e){function n(){delete this[t]}function r(){this[t]=e}function i(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?i:r}function j(t){function e(){var e=this.ownerDocument,n=this.namespaceURI;return n?e.createElementNS(n,t):e.createElement(t)}function n(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=ns.ns.qualify(t)).local?n:e}function R(){var t=this.parentNode;t&&t.removeChild(this)}function z(t){return{__data__:t}}function H(t){return function(){return $s(this,t)}}function B(t){return arguments.length||(t=n),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function q(t,e){for(var n=0,r=t.length;r>n;n++)for(var i,o=t[n],a=0,s=o.length;s>a;a++)(i=o[a])&&e(i,a,n);return t}function W(t){return bs(t,ks),t}function V(t){var e,n;return function(r,i,o){var a,s=t[o].update,l=s.length;for(o!=n&&(n=o,e=0),i>=e&&(e=i+1);!(a=s[e])&&++e<l;);return a}}function U(t,e,n){function r(){var e=this[a];e&&(this.removeEventListener(t,e,e.$),delete this[a])}function i(){var i=l(e,is(arguments));r.call(this),this.addEventListener(t,this[a]=i,i.$=n),i._=e}function o(){var e,n=new RegExp("^__on([^.]+)"+ns.requote(t)+"$");for(var r in this)if(e=r.match(n)){var i=this[r];this.removeEventListener(e[1],i,i.$),delete this[r]}}var a="__on"+t,s=t.indexOf("."),l=Y;s>0&&(t=t.slice(0,s));var u=Ts.get(t);return u&&(t=u,l=G),s?e?i:r:e?x:o}function Y(t,e){return function(n){var r=ns.event;ns.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{ns.event=r}}}function G(t,e){var n=Y(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}function X(n){var r=".dragsuppress-"+ ++_s,i="click"+r,o=ns.select(e(n)).on("touchmove"+r,S).on("dragstart"+r,S).on("selectstart"+r,S);if(null==Ms&&(Ms="onselectstart"in n?!1:w(n.style,"userSelect")),Ms){var a=t(n).style,s=a[Ms];a[Ms]="none"}return function(t){if(o.on(r,null),Ms&&(a[Ms]=s),t){var e=function(){o.on(i,null)};o.on(i,function(){S(),e()},!0),setTimeout(e,0)}}}function K(t,n){n.changedTouches&&(n=n.changedTouches[0]);var r=t.ownerSVGElement||t;if(r.createSVGPoint){var i=r.createSVGPoint();if(0>As){var o=e(t);if(o.scrollX||o.scrollY){r=ns.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=r[0][0].getScreenCTM();As=!(a.f||a.e),r.remove()}}return As?(i.x=n.pageX,i.y=n.pageY):(i.x=n.clientX,i.y=n.clientY),i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var s=t.getBoundingClientRect();return[n.clientX-s.left-t.clientLeft,n.clientY-s.top-t.clientTop]}function Q(){return ns.event.changedTouches[0].identifier}function Z(t){return t>0?1:0>t?-1:0}function J(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function te(t){return t>1?0:-1>t?Fs:Math.acos(t)}function ee(t){return t>1?Ls:-1>t?-Ls:Math.asin(t)}function ne(t){return((t=Math.exp(t))-1/t)/2}function re(t){return((t=Math.exp(t))+1/t)/2}function ie(t){return((t=Math.exp(2*t))-1)/(t+1)}function oe(t){return(t=Math.sin(t/2))*t}function ae(){}function se(t,e,n){return this instanceof se?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof se?new se(t.h,t.s,t.l):xe(""+t,$e,se):new se(t,e,n)}function le(t,e,n){function r(t){return t>360?t-=360:0>t&&(t+=360),60>t?o+(a-o)*t/60:180>t?a:240>t?o+(a-o)*(240-t)/60:o}function i(t){return Math.round(255*r(t))}var o,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,n=0>n?0:n>1?1:n,a=.5>=n?n*(1+e):n+e-n*e,o=2*n-a,new ve(i(t+120),i(t),i(t-120))}function ue(t,e,n){return this instanceof ue?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof ue?new ue(t.h,t.c,t.l):t instanceof fe?pe(t.l,t.a,t.b):pe((t=Ce((t=ns.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ue(t,e,n)}function ce(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new fe(n,Math.cos(t*=Is)*e,Math.sin(t)*e)}function fe(t,e,n){return this instanceof fe?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof fe?new fe(t.l,t.a,t.b):t instanceof ue?ce(t.h,t.c,t.l):Ce((t=ve(t)).r,t.g,t.b):new fe(t,e,n)}function he(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;return i=de(i)*Ys,r=de(r)*Gs,o=de(o)*Xs,new ve(me(3.2404542*i-1.5371385*r-.4985314*o),me(-.969266*i+1.8760108*r+.041556*o),me(.0556434*i-.2040259*r+1.0572252*o))}function pe(t,e,n){return t>0?new ue(Math.atan2(n,e)*Ns,Math.sqrt(e*e+n*n),t):new ue(0/0,0/0,t)}function de(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function ge(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function me(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function ve(t,e,n){return this instanceof ve?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof ve?new ve(t.r,t.g,t.b):xe(""+t,ve,le):new ve(t,e,n)}function ye(t){return new ve(t>>16,t>>8&255,255&t)}function be(t){return ye(t)+""}function we(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function xe(t,e,n){t=t.toLowerCase();var r,i,o,a=0,s=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(t))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(ke(i[0]),ke(i[1]),ke(i[2]))}return(o=Zs.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a=a>>4|a,s=240&o,s=s>>4|s,l=15&o,l=l<<4|l):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,l=255&o)),e(a,s,l))}function $e(t,e,n){var r,i,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,l=(a+o)/2;return s?(i=.5>l?s/(a+o):s/(2-a-o),r=t==a?(e-n)/s+(n>e?6:0):e==a?(n-t)/s+2:(t-e)/s+4,r*=60):(r=0/0,i=l>0&&1>l?0:r),new se(r,i,l)}function Ce(t,e,n){t=Se(t),e=Se(e),n=Se(n);var r=ge((.4124564*t+.3575761*e+.1804375*n)/Ys),i=ge((.2126729*t+.7151522*e+.072175*n)/Gs),o=ge((.0193339*t+.119192*e+.9503041*n)/Xs);return fe(116*i-16,500*(r-i),200*(i-o))}function Se(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ke(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Te(t){return"function"==typeof t?t:function(){return t}}function Me(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),_e(e,n,t,r)}}function _e(t,e,n,r){function i(){var t,e=l.status;if(!e&&Ee(l)||e>=200&&300>e||304===e){try{t=n.call(o,l)}catch(r){return void a.error.call(o,r)}a.load.call(o,t)}else a.error.call(o,l)}var o={},a=ns.dispatch("beforesend","progress","load","error"),s={},l=new XMLHttpRequest,u=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=i:l.onreadystatechange=function(){l.readyState>3&&i()},l.onprogress=function(t){var e=ns.event;ns.event=t;try{a.progress.call(o,l)}finally{ns.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",o):e},o.responseType=function(t){return arguments.length?(u=t,o):u},o.response=function(t){return n=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(is(arguments)))}}),o.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),l.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),l.setRequestHeader)for(var c in s)l.setRequestHeader(c,s[c]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=u&&(l.responseType=u),null!=i&&o.on("error",i).on("load",function(t){i(null,t)}),a.beforesend.call(o,l),l.send(null==r?null:r),o},o.abort=function(){return l.abort(),o},ns.rebind(o,a,"on"),null==r?o:o.get(Ae(r))}function Ae(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function Ee(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function De(){var t=Fe(),e=Oe()-t;e>24?(isFinite(e)&&(clearTimeout(nl),nl=setTimeout(De,e)),el=0):(el=1,il(De))}function Fe(){var t=Date.now();for(rl=Js;rl;)t>=rl.t&&(rl.f=rl.c(t-rl.t)),rl=rl.n;return t}function Oe(){for(var t,e=Js,n=1/0;e;)e.f?e=t?t.n=e.n:Js=e.n:(e.t<n&&(n=e.t),e=(t=e).n);return tl=t,n}function Pe(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Le(t,e){var n=Math.pow(10,3*ds(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function Ie(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,o=r&&n?function(t,e){for(var i=t.length,o=[],a=0,s=r[0],l=0;i>0&&s>0&&(l+s+1>e&&(s=Math.max(1,e-l)),o.push(t.substring(i-=s,i+s)),!((l+=s+1)>e));)s=r[a=(a+1)%r.length];return o.reverse().join(n)}:y;return function(t){var n=al.exec(t),r=n[1]||" ",a=n[2]||">",s=n[3]||"-",l=n[4]||"",u=n[5],c=+n[6],f=n[7],h=n[8],p=n[9],d=1,g="",m="",v=!1,y=!0;switch(h&&(h=+h.substring(1)),(u||"0"===r&&"="===a)&&(u=r="0",a="="),p){case"n":f=!0,p="g";break;case"%":d=100,m="%",p="f";break;case"p":d=100,m="%",p="r";break;case"b":case"o":case"x":case"X":"#"===l&&(g="0"+p.toLowerCase());case"c":y=!1;case"d":v=!0,h=0;break;case"s":d=-1,p="r"}"$"===l&&(g=i[0],m=i[1]),"r"!=p||h||(p="g"),null!=h&&("g"==p?h=Math.max(1,Math.min(21,h)):("e"==p||"f"==p)&&(h=Math.max(0,Math.min(20,h)))),p=sl.get(p)||Ne;var b=u&&f;return function(t){var n=m;if(v&&t%1)return"";var i=0>t||0===t&&0>1/t?(t=-t,"-"):"-"===s?"":s;if(0>d){var l=ns.formatPrefix(t,h);t=l.scale(t),n=l.symbol+m}else t*=d;t=p(t,h);var w,x,$=t.lastIndexOf(".");if(0>$){var C=y?t.lastIndexOf("e"):-1;0>C?(w=t,x=""):(w=t.substring(0,C),x=t.substring(C))}else w=t.substring(0,$),x=e+t.substring($+1);!u&&f&&(w=o(w,1/0));var S=g.length+w.length+x.length+(b?0:i.length),k=c>S?new Array(S=c-S+1).join(r):"";return b&&(w=o(k+w,k.length?c-x.length:1/0)),i+=g,t=w+x,("<"===a?i+t+k:">"===a?k+i+t:"^"===a?k.substring(0,S>>=1)+i+t+k.substring(S):i+(b?t:k+t))+n}}}function Ne(t){return t+""}function je(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Re(t,e,n){function r(e){var n=t(e),r=o(n,1);return r-e>e-n?n:r}function i(n){return e(n=t(new ul(n-1)),1),n}function o(t,n){return e(t=new ul(+t),n),t}function a(t,r,o){var a=i(t),s=[];if(o>1)for(;r>a;)n(a)%o||s.push(new Date(+a)),e(a,1);else for(;r>a;)s.push(new Date(+a)),e(a,1);return s}function s(t,e,n){try{ul=je;var r=new je;return r._=t,a(r,e,n)}finally{ul=Date}}t.floor=t,t.round=r,t.ceil=i,t.offset=o,t.range=a;var l=t.utc=ze(t);return l.floor=l,l.round=ze(r),l.ceil=ze(i),l.offset=ze(o),l.range=s,t}function ze(t){return function(e,n){try{ul=je;var r=new je;return r._=e,t(r,n)._}finally{ul=Date}}}function He(t){function e(t){function e(e){for(var n,i,o,a=[],s=-1,l=0;++s<r;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(i=fl[n=t.charAt(++s)])&&(n=t.charAt(++s)),(o=_[n])&&(n=o(e,null==i?"e"===n?" ":"0":i)),a.push(n),l=s+1);return a.push(t.slice(l,s)),a.join("")}var r=t.length;return e.parse=function(e){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=n(r,t,e,0);if(i!=e.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var o=null!=r.Z&&ul!==je,a=new(o?je:ul);return"j"in r?a.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(a.setFullYear(r.y,0,1),a.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(a.getDay()+5)%7:r.w+7*r.U-(a.getDay()+6)%7)):a.setFullYear(r.y,r.m,r.d),a.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),o?a._:a},e.toString=function(){return t},e}function n(t,e,n,r){for(var i,o,a,s=0,l=e.length,u=n.length;l>s;){if(r>=u)return-1;if(i=e.charCodeAt(s++),37===i){if(a=e.charAt(s++),o=A[a in fl?e.charAt(s++):a],!o||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function r(t,e,n){$.lastIndex=0;var r=$.exec(e.slice(n));return r?(t.w=C.get(r[0].toLowerCase()),n+r[0].length):-1}function i(t,e,n){w.lastIndex=0;var r=w.exec(e.slice(n));return r?(t.w=x.get(r[0].toLowerCase()),n+r[0].length):-1}function o(t,e,n){T.lastIndex=0;var r=T.exec(e.slice(n));return r?(t.m=M.get(r[0].toLowerCase()),n+r[0].length):-1}function a(t,e,n){S.lastIndex=0;var r=S.exec(e.slice(n));return r?(t.m=k.get(r[0].toLowerCase()),n+r[0].length):-1}function s(t,e,r){return n(t,_.c.toString(),e,r)}function l(t,e,r){return n(t,_.x.toString(),e,r)}function u(t,e,r){return n(t,_.X.toString(),e,r)}function c(t,e,n){var r=b.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)}var f=t.dateTime,h=t.date,p=t.time,d=t.periods,g=t.days,m=t.shortDays,v=t.months,y=t.shortMonths;e.utc=function(t){function n(t){try{ul=je;var e=new ul;return e._=t,r(e)}finally{ul=Date}}var r=e(t);return n.parse=function(t){try{ul=je;var e=r.parse(t);return e&&e._}finally{ul=Date}},n.toString=r.toString,n},e.multi=e.utc.multi=ln;var b=ns.map(),w=qe(g),x=We(g),$=qe(m),C=We(m),S=qe(v),k=We(v),T=qe(y),M=We(y);d.forEach(function(t,e){b.set(t.toLowerCase(),e)});var _={a:function(t){return m[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:e(f),d:function(t,e){return Be(t.getDate(),e,2)},e:function(t,e){return Be(t.getDate(),e,2)},H:function(t,e){return Be(t.getHours(),e,2)},I:function(t,e){return Be(t.getHours()%12||12,e,2)},j:function(t,e){return Be(1+ll.dayOfYear(t),e,3)},L:function(t,e){return Be(t.getMilliseconds(),e,3)},m:function(t,e){return Be(t.getMonth()+1,e,2)},M:function(t,e){return Be(t.getMinutes(),e,2)},p:function(t){return d[+(t.getHours()>=12)]},S:function(t,e){return Be(t.getSeconds(),e,2)},U:function(t,e){return Be(ll.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Be(ll.mondayOfYear(t),e,2)},x:e(h),X:e(p),y:function(t,e){return Be(t.getFullYear()%100,e,2)},Y:function(t,e){return Be(t.getFullYear()%1e4,e,4)},Z:an,"%":function(){return"%"}},A={a:r,A:i,b:o,B:a,c:s,d:Je,e:Je,H:en,I:en,j:tn,L:on,m:Ze,M:nn,p:c,S:rn,U:Ue,w:Ve,W:Ye,x:l,X:u,y:Xe,Y:Ge,Z:Ke,"%":sn};return e}function Be(t,e,n){var r=0>t?"-":"",i=(r?-t:t)+"",o=i.length;return r+(n>o?new Array(n-o+1).join(e)+i:i)}function qe(t){return new RegExp("^(?:"+t.map(ns.requote).join("|")+")","i")}function We(t){for(var e=new u,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Ve(t,e,n){hl.lastIndex=0;var r=hl.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ue(t,e,n){hl.lastIndex=0;var r=hl.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Ye(t,e,n){hl.lastIndex=0;var r=hl.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Ge(t,e,n){hl.lastIndex=0;var r=hl.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Xe(t,e,n){hl.lastIndex=0;var r=hl.exec(e.slice(n,n+2));return r?(t.y=Qe(+r[0]),n+r[0].length):-1}function Ke(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Qe(t){return t+(t>68?1900:2e3)}function Ze(t,e,n){hl.lastIndex=0;var r=hl.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Je(t,e,n){hl.lastIndex=0;var r=hl.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function tn(t,e,n){hl.lastIndex=0;var r=hl.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function en(t,e,n){hl.lastIndex=0;var r=hl.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function nn(t,e,n){hl.lastIndex=0;var r=hl.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function rn(t,e,n){hl.lastIndex=0;var r=hl.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function on(t,e,n){hl.lastIndex=0;var r=hl.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function an(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=ds(e)/60|0,i=ds(e)%60;return n+Be(r,"0",2)+Be(i,"0",2)}function sn(t,e,n){pl.lastIndex=0;var r=pl.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ln(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}function un(){}function cn(t,e,n){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}function fn(t,e){t&&vl.hasOwnProperty(t.type)&&vl[t.type](t,e)}function hn(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function pn(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)hn(t[n],e,1);e.polygonEnd()}function dn(){function t(t,e){t*=Is,e=e*Is/2+Fs/4;var n=t-r,a=n>=0?1:-1,s=a*n,l=Math.cos(e),u=Math.sin(e),c=o*u,f=i*l+c*Math.cos(s),h=c*a*Math.sin(s);bl.add(Math.atan2(h,f)),r=t,i=l,o=u}var e,n,r,i,o;wl.point=function(a,s){wl.point=t,r=(e=a)*Is,i=Math.cos(s=(n=s)*Is/2+Fs/4),o=Math.sin(s)},wl.lineEnd=function(){t(e,n)}}function gn(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function mn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function vn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function yn(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function bn(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function wn(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function xn(t){return[Math.atan2(t[1],t[0]),ee(t[2])]}function $n(t,e){return ds(t[0]-e[0])<Es&&ds(t[1]-e[1])<Es}function Cn(t,e){t*=Is;var n=Math.cos(e*=Is);Sn(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Sn(t,e,n){++xl,Cl+=(t-Cl)/xl,Sl+=(e-Sl)/xl,kl+=(n-kl)/xl}function kn(){function t(t,i){t*=Is;var o=Math.cos(i*=Is),a=o*Math.cos(t),s=o*Math.sin(t),l=Math.sin(i),u=Math.atan2(Math.sqrt((u=n*l-r*s)*u+(u=r*a-e*l)*u+(u=e*s-n*a)*u),e*a+n*s+r*l);$l+=u,Tl+=u*(e+(e=a)),Ml+=u*(n+(n=s)),_l+=u*(r+(r=l)),Sn(e,n,r)}var e,n,r;Fl.point=function(i,o){i*=Is;var a=Math.cos(o*=Is);e=a*Math.cos(i),n=a*Math.sin(i),r=Math.sin(o),Fl.point=t,Sn(e,n,r)}}function Tn(){Fl.point=Cn}function Mn(){function t(t,e){t*=Is;var n=Math.cos(e*=Is),a=n*Math.cos(t),s=n*Math.sin(t),l=Math.sin(e),u=i*l-o*s,c=o*a-r*l,f=r*s-i*a,h=Math.sqrt(u*u+c*c+f*f),p=r*a+i*s+o*l,d=h&&-te(p)/h,g=Math.atan2(h,p);Al+=d*u,El+=d*c,Dl+=d*f,$l+=g,Tl+=g*(r+(r=a)),Ml+=g*(i+(i=s)),_l+=g*(o+(o=l)),Sn(r,i,o)}var e,n,r,i,o;Fl.point=function(a,s){e=a,n=s,Fl.point=t,a*=Is;var l=Math.cos(s*=Is);r=l*Math.cos(a),i=l*Math.sin(a),o=Math.sin(s),Sn(r,i,o)},Fl.lineEnd=function(){t(e,n),Fl.lineEnd=Tn,Fl.point=Cn}}function _n(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])}),n}function An(){return!0}function En(t,e,n,r,i){var o=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if($n(n,r)){i.lineStart();for(var s=0;e>s;++s)i.point((n=t[s])[0],n[1]);return void i.lineEnd()}var l=new Fn(n,t,null,!0),u=new Fn(n,null,l,!1);l.o=u,o.push(l),a.push(u),l=new Fn(r,t,null,!1),u=new Fn(r,null,l,!0),l.o=u,o.push(l),a.push(u)}}),a.sort(e),Dn(o),Dn(a),o.length){for(var s=0,l=n,u=a.length;u>s;++s)a[s].e=l=!l;for(var c,f,h=o[0];;){for(var p=h,d=!0;p.v;)if((p=p.n)===h)return;c=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(d)for(var s=0,u=c.length;u>s;++s)i.point((f=c[s])[0],f[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(d){c=p.p.z;for(var s=c.length-1;s>=0;--s)i.point((f=c[s])[0],f[1])}else r(p.x,p.p.x,-1,i);p=p.p}p=p.o,c=p.z,d=!d}while(!p.v);i.lineEnd()}}}function Dn(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Fn(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function On(t,e,n,r){return function(i,o){function a(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function s(t,e){var n=i(t,e);m.point(n[0],n[1])}function l(){y.point=s,m.lineStart()}function u(){y.point=a,m.lineEnd()}function c(t,e){g.push([t,e]);var n=i(t,e);w.point(n[0],n[1])}function f(){w.lineStart(),g=[]}function h(){c(g[0][0],g[0][1]),w.lineEnd();var t,e=w.clean(),n=b.buffer(),r=n.length;if(g.pop(),d.push(g),g=null,r)if(1&e){t=n[0];var i,r=t.length-1,a=-1;if(r>0){for(x||(o.polygonStart(),x=!0),o.lineStart();++a<r;)o.point((i=t[a])[0],i[1]);o.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),p.push(n.filter(Pn))}var p,d,g,m=e(o),v=i.invert(r[0],r[1]),y={point:a,lineStart:l,lineEnd:u,polygonStart:function(){y.point=c,y.lineStart=f,y.lineEnd=h,p=[],d=[]},polygonEnd:function(){y.point=a,y.lineStart=l,y.lineEnd=u,p=ns.merge(p);var t=zn(v,d);p.length?(x||(o.polygonStart(),x=!0),En(p,In,t,n,o)):t&&(x||(o.polygonStart(),x=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),x&&(o.polygonEnd(),x=!1),p=d=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},b=Ln(),w=e(b),x=!1;return y}}function Pn(t){return t.length>1}function Ln(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:x,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function In(t,e){return((t=t.x)[0]<0?t[1]-Ls-Es:Ls-t[1])-((e=e.x)[0]<0?e[1]-Ls-Es:Ls-e[1])}function Nn(t){var e,n=0/0,r=0/0,i=0/0;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Fs:-Fs,l=ds(o-n);ds(l-Fs)<Es?(t.point(n,r=(r+a)/2>0?Ls:-Ls),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&l>=Fs&&(ds(n-i)<Es&&(n-=i*Es),ds(o-s)<Es&&(o-=s*Es),r=jn(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=0/0},clean:function(){return 2-e}}}function jn(t,e,n,r){var i,o,a=Math.sin(t-n);return ds(a)>Es?Math.atan((Math.sin(e)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*o*a)):(e+r)/2}function Rn(t,e,n,r){var i;if(null==t)i=n*Ls,r.point(-Fs,i),r.point(0,i),r.point(Fs,i),r.point(Fs,0),r.point(Fs,-i),r.point(0,-i),r.point(-Fs,-i),r.point(-Fs,0),r.point(-Fs,i);else if(ds(t[0]-e[0])>Es){var o=t[0]<e[0]?Fs:-Fs;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function zn(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;bl.reset();for(var s=0,l=e.length;l>s;++s){var u=e[s],c=u.length;if(c)for(var f=u[0],h=f[0],p=f[1]/2+Fs/4,d=Math.sin(p),g=Math.cos(p),m=1;;){m===c&&(m=0),t=u[m];var v=t[0],y=t[1]/2+Fs/4,b=Math.sin(y),w=Math.cos(y),x=v-h,$=x>=0?1:-1,C=$*x,S=C>Fs,k=d*b;if(bl.add(Math.atan2(k*$*Math.sin(C),g*w+k*Math.cos(C))),o+=S?x+$*Os:x,S^h>=n^v>=n){var T=vn(gn(f),gn(t));wn(T);var M=vn(i,T);wn(M);var _=(S^x>=0?-1:1)*ee(M[2]);(r>_||r===_&&(T[0]||T[1]))&&(a+=S^x>=0?1:-1)}if(!m++)break;h=v,d=b,g=w,f=t}}return(-Es>o||Es>o&&0>bl)^1&a}function Hn(t){function e(t,e){return Math.cos(t)*Math.cos(e)>o}function n(t){var n,o,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(f,h){var p,d=[f,h],g=e(f,h),m=a?g?0:i(f,h):g?i(f+(0>f?Fs:-Fs),h):0;if(!n&&(u=l=g)&&t.lineStart(),g!==l&&(p=r(n,d),($n(n,p)||$n(d,p))&&(d[0]+=Es,d[1]+=Es,g=e(d[0],d[1]))),g!==l)c=0,g?(t.lineStart(),p=r(d,n),t.point(p[0],p[1])):(p=r(n,d),t.point(p[0],p[1]),t.lineEnd()),n=p;else if(s&&n&&a^g){var v;m&o||!(v=r(d,n,!0))||(c=0,a?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||n&&$n(n,d)||t.point(d[0],d[1]),n=d,l=g,o=m},lineEnd:function(){l&&t.lineEnd(),n=null},clean:function(){return c|(u&&l)<<1}}}function r(t,e,n){var r=gn(t),i=gn(e),a=[1,0,0],s=vn(r,i),l=mn(s,s),u=s[0],c=l-u*u;if(!c)return!n&&t;var f=o*l/c,h=-o*u/c,p=vn(a,s),d=bn(a,f),g=bn(s,h);yn(d,g);var m=p,v=mn(d,m),y=mn(m,m),b=v*v-y*(mn(d,d)-1);if(!(0>b)){var w=Math.sqrt(b),x=bn(m,(-v-w)/y);if(yn(x,d),x=xn(x),!n)return x;var $,C=t[0],S=e[0],k=t[1],T=e[1];C>S&&($=C,C=S,S=$);var M=S-C,_=ds(M-Fs)<Es,A=_||Es>M;if(!_&&k>T&&($=k,k=T,T=$),A?_?k+T>0^x[1]<(ds(x[0]-C)<Es?k:T):k<=x[1]&&x[1]<=T:M>Fs^(C<=x[0]&&x[0]<=S)){var E=bn(m,(-v+w)/y);return yn(E,d),[x,xn(E)]}}}function i(e,n){var r=a?t:Fs-t,i=0;return-r>e?i|=1:e>r&&(i|=2),-r>n?i|=4:n>r&&(i|=8),i}var o=Math.cos(t),a=o>0,s=ds(o)>Es,l=dr(t,6*Is);return On(e,n,l,a?[0,-t]:[-Fs,t-Fs])}function Bn(t,e,n,r){return function(i){var o,a=i.a,s=i.b,l=a.x,u=a.y,c=s.x,f=s.y,h=0,p=1,d=c-l,g=f-u;if(o=t-l,d||!(o>0)){if(o/=d,0>d){if(h>o)return;p>o&&(p=o)}else if(d>0){if(o>p)return;o>h&&(h=o)}if(o=n-l,d||!(0>o)){if(o/=d,0>d){if(o>p)return;o>h&&(h=o)}else if(d>0){if(h>o)return;p>o&&(p=o)}if(o=e-u,g||!(o>0)){if(o/=g,0>g){if(h>o)return;p>o&&(p=o)}else if(g>0){if(o>p)return;o>h&&(h=o)}if(o=r-u,g||!(0>o)){if(o/=g,0>g){if(o>p)return;o>h&&(h=o)}else if(g>0){if(h>o)return;p>o&&(p=o)}return h>0&&(i.a={x:l+h*d,y:u+h*g}),1>p&&(i.b={x:l+p*d,y:u+p*g}),i}}}}}}function qn(t,e,n,r){function i(r,i){return ds(r[0]-t)<Es?i>0?0:3:ds(r[0]-n)<Es?i>0?2:1:ds(r[1]-e)<Es?i>0?1:0:i>0?3:2}function o(t,e){return a(t.x,e.x)}function a(t,e){var n=i(t,1),r=i(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function l(t){for(var e=0,n=m.length,r=t[1],i=0;n>i;++i)for(var o,a=1,s=m[i],l=s.length,u=s[0];l>a;++a)o=s[a],u[1]<=r?o[1]>r&&J(u,o,t)>0&&++e:o[1]<=r&&J(u,o,t)<0&&--e,u=o;return 0!==e}function u(o,s,l,u){var c=0,f=0;if(null==o||(c=i(o,l))!==(f=i(s,l))||a(o,s)<0^l>0){do u.point(0===c||3===c?t:n,c>1?r:e);while((c=(c+l+4)%4)!==f)}else u.point(s[0],s[1])}function c(i,o){return i>=t&&n>=i&&o>=e&&r>=o}function f(t,e){c(t,e)&&s.point(t,e)}function h(){A.point=d,m&&m.push(v=[]),S=!0,C=!1,x=$=0/0}function p(){g&&(d(y,b),w&&C&&M.rejoin(),g.push(M.buffer())),A.point=f,C&&s.lineEnd()}function d(t,e){t=Math.max(-Pl,Math.min(Pl,t)),e=Math.max(-Pl,Math.min(Pl,e));var n=c(t,e);if(m&&v.push([t,e]),S)y=t,b=e,w=n,S=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&C)s.point(t,e);else{var r={a:{x:x,y:$},b:{x:t,y:e}};_(r)?(C||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),k=!1):n&&(s.lineStart(),s.point(t,e),k=!1)}x=t,$=e,C=n}var g,m,v,y,b,w,x,$,C,S,k,T=s,M=Ln(),_=Bn(t,e,n,r),A={point:f,lineStart:h,lineEnd:p,polygonStart:function(){s=M,g=[],m=[],k=!0},polygonEnd:function(){s=T,g=ns.merge(g);var e=l([t,r]),n=k&&e,i=g.length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),u(null,null,1,s),s.lineEnd()),i&&En(g,o,e,u,s),s.polygonEnd()),g=m=v=null}};return A}}function Wn(t){var e=0,n=Fs/3,r=ar(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Fs/180,n=t[1]*Fs/180):[e/Fs*180,n/Fs*180]},i}function Vn(t,e){function n(t,e){var n=Math.sqrt(o-2*i*Math.sin(e))/i;return[n*Math.sin(t*=i),a-n*Math.cos(t)]
}var r=Math.sin(t),i=(r+Math.sin(e))/2,o=1+r*(2*i-r),a=Math.sqrt(o)/i;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/i,ee((o-(t*t+n*n)*i*i)/(2*i))]},n}function Un(){function t(t,e){Il+=i*t-r*e,r=t,i=e}var e,n,r,i;Hl.point=function(o,a){Hl.point=t,e=r=o,n=i=a},Hl.lineEnd=function(){t(e,n)}}function Yn(t,e){Nl>t&&(Nl=t),t>Rl&&(Rl=t),jl>e&&(jl=e),e>zl&&(zl=e)}function Gn(){function t(t,e){a.push("M",t,",",e,o)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function r(){s.point=t}function i(){a.push("Z")}var o=Xn(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r,s.point=t},pointRadius:function(t){return o=Xn(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function Xn(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Kn(t,e){Cl+=t,Sl+=e,++kl}function Qn(){function t(t,r){var i=t-e,o=r-n,a=Math.sqrt(i*i+o*o);Tl+=a*(e+t)/2,Ml+=a*(n+r)/2,_l+=a,Kn(e=t,n=r)}var e,n;ql.point=function(r,i){ql.point=t,Kn(e=r,n=i)}}function Zn(){ql.point=Kn}function Jn(){function t(t,e){var n=t-r,o=e-i,a=Math.sqrt(n*n+o*o);Tl+=a*(r+t)/2,Ml+=a*(i+e)/2,_l+=a,a=i*t-r*e,Al+=a*(r+t),El+=a*(i+e),Dl+=3*a,Kn(r=t,i=e)}var e,n,r,i;ql.point=function(o,a){ql.point=t,Kn(e=r=o,n=i=a)},ql.lineEnd=function(){t(e,n)}}function tr(t){function e(e,n){t.moveTo(e+a,n),t.arc(e,n,a,0,Os)}function n(e,n){t.moveTo(e,n),s.point=r}function r(e,n){t.lineTo(e,n)}function i(){s.point=e}function o(){t.closePath()}var a=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:i,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=i,s.point=e},pointRadius:function(t){return a=t,s},result:x};return s}function er(t){function e(t){return(s?r:n)(t)}function n(e){return ir(e,function(n,r){n=t(n,r),e.point(n[0],n[1])})}function r(e){function n(n,r){n=t(n,r),e.point(n[0],n[1])}function r(){b=0/0,S.point=o,e.lineStart()}function o(n,r){var o=gn([n,r]),a=t(n,r);i(b,w,y,x,$,C,b=a[0],w=a[1],y=n,x=o[0],$=o[1],C=o[2],s,e),e.point(b,w)}function a(){S.point=n,e.lineEnd()}function l(){r(),S.point=u,S.lineEnd=c}function u(t,e){o(f=t,h=e),p=b,d=w,g=x,m=$,v=C,S.point=o}function c(){i(b,w,y,x,$,C,p,d,f,g,m,v,s,e),S.lineEnd=a,a()}var f,h,p,d,g,m,v,y,b,w,x,$,C,S={point:n,lineStart:r,lineEnd:a,polygonStart:function(){e.polygonStart(),S.lineStart=l},polygonEnd:function(){e.polygonEnd(),S.lineStart=r}};return S}function i(e,n,r,s,l,u,c,f,h,p,d,g,m,v){var y=c-e,b=f-n,w=y*y+b*b;if(w>4*o&&m--){var x=s+p,$=l+d,C=u+g,S=Math.sqrt(x*x+$*$+C*C),k=Math.asin(C/=S),T=ds(ds(C)-1)<Es||ds(r-h)<Es?(r+h)/2:Math.atan2($,x),M=t(T,k),_=M[0],A=M[1],E=_-e,D=A-n,F=b*E-y*D;(F*F/w>o||ds((y*E+b*D)/w-.5)>.3||a>s*p+l*d+u*g)&&(i(e,n,r,s,l,u,_,A,T,x/=S,$/=S,C,m,v),v.point(_,A),i(_,A,T,x,$,C,c,f,h,p,d,g,m,v))}}var o=.5,a=Math.cos(30*Is),s=16;return e.precision=function(t){return arguments.length?(s=(o=t*t)>0&&16,e):Math.sqrt(o)},e}function nr(t){var e=er(function(e,n){return t([e*Ns,n*Ns])});return function(t){return sr(e(t))}}function rr(t){this.stream=t}function ir(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function or(t){return ar(function(){return t})()}function ar(t){function e(t){return t=s(t[0]*Is,t[1]*Is),[t[0]*h+l,u-t[1]*h]}function n(t){return t=s.invert((t[0]-l)/h,(u-t[1])/h),t&&[t[0]*Ns,t[1]*Ns]}function r(){s=_n(a=cr(v,b,w),o);var t=o(g,m);return l=p-t[0]*h,u=d+t[1]*h,i()}function i(){return c&&(c.valid=!1,c=null),e}var o,a,s,l,u,c,f=er(function(t,e){return t=o(t,e),[t[0]*h+l,u-t[1]*h]}),h=150,p=480,d=250,g=0,m=0,v=0,b=0,w=0,x=Ol,$=y,C=null,S=null;return e.stream=function(t){return c&&(c.valid=!1),c=sr(x(a,f($(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(x=null==t?(C=t,Ol):Hn((C=+t)*Is),i()):C},e.clipExtent=function(t){return arguments.length?(S=t,$=t?qn(t[0][0],t[0][1],t[1][0],t[1][1]):y,i()):S},e.scale=function(t){return arguments.length?(h=+t,r()):h},e.translate=function(t){return arguments.length?(p=+t[0],d=+t[1],r()):[p,d]},e.center=function(t){return arguments.length?(g=t[0]%360*Is,m=t[1]%360*Is,r()):[g*Ns,m*Ns]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Is,b=t[1]%360*Is,w=t.length>2?t[2]%360*Is:0,r()):[v*Ns,b*Ns,w*Ns]},ns.rebind(e,f,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,r()}}function sr(t){return ir(t,function(e,n){t.point(e*Is,n*Is)})}function lr(t,e){return[t,e]}function ur(t,e){return[t>Fs?t-Os:-Fs>t?t+Os:t,e]}function cr(t,e,n){return t?e||n?_n(hr(t),pr(e,n)):hr(t):e||n?pr(e,n):ur}function fr(t){return function(e,n){return e+=t,[e>Fs?e-Os:-Fs>e?e+Os:e,n]}}function hr(t){var e=fr(t);return e.invert=fr(-t),e}function pr(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*r+s*i;return[Math.atan2(l*o-c*a,s*r-u*i),ee(c*o+l*a)]}var r=Math.cos(t),i=Math.sin(t),o=Math.cos(e),a=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*o-l*a;return[Math.atan2(l*o+u*a,s*r+c*i),ee(c*r-s*i)]},n}function dr(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,o,a,s){var l=a*e;null!=i?(i=gr(n,i),o=gr(n,o),(a>0?o>i:i>o)&&(i+=a*Os)):(i=t+a*Os,o=t-.5*l);for(var u,c=i;a>0?c>o:o>c;c-=l)s.point((u=xn([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],u[1])}}function gr(t,e){var n=gn(e);n[0]-=t,wn(n);var r=te(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Es)%(2*Math.PI)}function mr(t,e,n){var r=ns.range(t,e-Es,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function vr(t,e,n){var r=ns.range(t,e-Es,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function yr(t){return t.source}function br(t){return t.target}function wr(t,e,n,r){var i=Math.cos(e),o=Math.sin(e),a=Math.cos(r),s=Math.sin(r),l=i*Math.cos(t),u=i*Math.sin(t),c=a*Math.cos(n),f=a*Math.sin(n),h=2*Math.asin(Math.sqrt(oe(r-e)+i*a*oe(n-t))),p=1/Math.sin(h),d=h?function(t){var e=Math.sin(t*=h)*p,n=Math.sin(h-t)*p,r=n*l+e*c,i=n*u+e*f,a=n*o+e*s;return[Math.atan2(i,r)*Ns,Math.atan2(a,Math.sqrt(r*r+i*i))*Ns]}:function(){return[t*Ns,e*Ns]};return d.distance=h,d}function xr(){function t(t,i){var o=Math.sin(i*=Is),a=Math.cos(i),s=ds((t*=Is)-e),l=Math.cos(s);Wl+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=r*o-n*a*l)*s),n*o+r*a*l),e=t,n=o,r=a}var e,n,r;Vl.point=function(i,o){e=i*Is,n=Math.sin(o*=Is),r=Math.cos(o),Vl.point=t},Vl.lineEnd=function(){Vl.point=Vl.lineEnd=x}}function $r(t,e){function n(e,n){var r=Math.cos(e),i=Math.cos(n),o=t(r*i);return[o*i*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(t*o,r*a),Math.asin(r&&n*o/r)]},n}function Cr(t,e){function n(t,e){a>0?-Ls+Es>e&&(e=-Ls+Es):e>Ls-Es&&(e=Ls-Es);var n=a/Math.pow(i(e),o);return[n*Math.sin(o*t),a-n*Math.cos(o*t)]}var r=Math.cos(t),i=function(t){return Math.tan(Fs/4+t/2)},o=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(i(e)/i(t)),a=r*Math.pow(i(t),o)/o;return o?(n.invert=function(t,e){var n=a-e,r=Z(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(a/r,1/o))-Ls]},n):kr}function Sr(t,e){function n(t,e){var n=o-e;return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}var r=Math.cos(t),i=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),o=r/i+t;return ds(i)<Es?lr:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/i,o-Z(i)*Math.sqrt(t*t+n*n)]},n)}function kr(t,e){return[t,Math.log(Math.tan(Fs/4+e/2))]}function Tr(t){var e,n=or(t),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=o.apply(n,arguments);if(a===n){if(e=null==t){var s=Fs*r(),l=i();o([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else e&&(a=null);return a},n.clipExtent(null)}function Mr(t,e){return[Math.log(Math.tan(Fs/4+e/2)),-t]}function _r(t){return t[0]}function Ar(t){return t[1]}function Er(t){for(var e=t.length,n=[0,1],r=2,i=2;e>i;i++){for(;r>1&&J(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Dr(t,e){return t[0]-e[0]||t[1]-e[1]}function Fr(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Or(t,e,n,r){var i=t[0],o=n[0],a=e[0]-i,s=r[0]-o,l=t[1],u=n[1],c=e[1]-l,f=r[1]-u,h=(s*(l-u)-f*(i-o))/(f*a-s*c);return[i+h*a,l+h*c]}function Pr(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Lr(){ni(this),this.edge=this.site=this.circle=null}function Ir(t){var e=ru.pop()||new Lr;return e.site=t,e}function Nr(t){Yr(t),tu.remove(t),ru.push(t),ni(t)}function jr(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,a=t.N,s=[t];Nr(t);for(var l=o;l.circle&&ds(n-l.circle.x)<Es&&ds(r-l.circle.cy)<Es;)o=l.P,s.unshift(l),Nr(l),l=o;s.unshift(l),Yr(l);for(var u=a;u.circle&&ds(n-u.circle.x)<Es&&ds(r-u.circle.cy)<Es;)a=u.N,s.push(u),Nr(u),u=a;s.push(u),Yr(u);var c,f=s.length;for(c=1;f>c;++c)u=s[c],l=s[c-1],Jr(u.edge,l.site,u.site,i);l=s[0],u=s[f-1],u.edge=Qr(l.site,u.site,null,i),Ur(l),Ur(u)}function Rr(t){for(var e,n,r,i,o=t.x,a=t.y,s=tu._;s;)if(r=zr(s,a)-o,r>Es)s=s.L;else{if(i=o-Hr(s,a),!(i>Es)){r>-Es?(e=s.P,n=s):i>-Es?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var l=Ir(t);if(tu.insert(e,l),e||n){if(e===n)return Yr(e),n=Ir(e.site),tu.insert(l,n),l.edge=n.edge=Qr(e.site,l.site),Ur(e),void Ur(n);if(!n)return void(l.edge=Qr(e.site,l.site));Yr(e),Yr(n);var u=e.site,c=u.x,f=u.y,h=t.x-c,p=t.y-f,d=n.site,g=d.x-c,m=d.y-f,v=2*(h*m-p*g),y=h*h+p*p,b=g*g+m*m,w={x:(m*y-p*b)/v+c,y:(h*b-g*y)/v+f};Jr(n.edge,u,d,w),l.edge=Qr(u,t,null,w),n.edge=Qr(t,d,null,w),Ur(e),Ur(n)}}function zr(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;n=a.site;var s=n.x,l=n.y,u=l-e;if(!u)return s;var c=s-r,f=1/o-1/u,h=c/u;return f?(-h+Math.sqrt(h*h-2*f*(c*c/(-2*u)-l+u/2+i-o/2)))/f+r:(r+s)/2}function Hr(t,e){var n=t.N;if(n)return zr(n,e);var r=t.site;return r.y===e?r.x:1/0}function Br(t){this.site=t,this.edges=[]}function qr(t){for(var e,n,r,i,o,a,s,l,u,c,f=t[0][0],h=t[1][0],p=t[0][1],d=t[1][1],g=Jl,m=g.length;m--;)if(o=g[m],o&&o.prepare())for(s=o.edges,l=s.length,a=0;l>a;)c=s[a].end(),r=c.x,i=c.y,u=s[++a%l].start(),e=u.x,n=u.y,(ds(r-e)>Es||ds(i-n)>Es)&&(s.splice(a,0,new ti(Zr(o.site,c,ds(r-f)<Es&&d-i>Es?{x:f,y:ds(e-f)<Es?n:d}:ds(i-d)<Es&&h-r>Es?{x:ds(n-d)<Es?e:h,y:d}:ds(r-h)<Es&&i-p>Es?{x:h,y:ds(e-h)<Es?n:p}:ds(i-p)<Es&&r-f>Es?{x:ds(n-p)<Es?e:f,y:p}:null),o.site,null)),++l)}function Wr(t,e){return e.angle-t.angle}function Vr(){ni(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ur(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i.x,s=i.y,l=r.x-a,u=r.y-s,c=o.x-a,f=o.y-s,h=2*(l*f-u*c);if(!(h>=-Ds)){var p=l*l+u*u,d=c*c+f*f,g=(f*p-u*d)/h,m=(l*d-c*p)/h,f=m+s,v=iu.pop()||new Vr;v.arc=t,v.site=i,v.x=g+a,v.y=f+Math.sqrt(g*g+m*m),v.cy=f,t.circle=v;for(var y=null,b=nu._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}nu.insert(y,v),y||(eu=v)}}}}function Yr(t){var e=t.circle;e&&(e.P||(eu=e.N),nu.remove(e),iu.push(e),ni(e),t.circle=null)}function Gr(t){for(var e,n=Zl,r=Bn(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)e=n[i],(!Xr(e,t)||!r(e)||ds(e.a.x-e.b.x)<Es&&ds(e.a.y-e.b.y)<Es)&&(e.a=e.b=null,n.splice(i,1))}function Xr(t,e){var n=t.b;if(n)return!0;var r,i,o=t.a,a=e[0][0],s=e[1][0],l=e[0][1],u=e[1][1],c=t.l,f=t.r,h=c.x,p=c.y,d=f.x,g=f.y,m=(h+d)/2,v=(p+g)/2;if(g===p){if(a>m||m>=s)return;if(h>d){if(o){if(o.y>=u)return}else o={x:m,y:l};n={x:m,y:u}}else{if(o){if(o.y<l)return}else o={x:m,y:u};n={x:m,y:l}}}else if(r=(h-d)/(g-p),i=v-r*m,-1>r||r>1)if(h>d){if(o){if(o.y>=u)return}else o={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else{if(o){if(o.y<l)return}else o={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else if(g>p){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}return t.a=o,t.b=n,!0}function Kr(t,e){this.l=t,this.r=e,this.a=this.b=null}function Qr(t,e,n,r){var i=new Kr(t,e);return Zl.push(i),n&&Jr(i,t,e,n),r&&Jr(i,e,t,r),Jl[t.i].edges.push(new ti(i,t,e)),Jl[e.i].edges.push(new ti(i,e,t)),i}function Zr(t,e,n){var r=new Kr(t,null);return r.a=e,r.b=n,Zl.push(r),r}function Jr(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function ti(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function ei(){this._=null}function ni(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ri(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ii(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function oi(t){for(;t.L;)t=t.L;return t}function ai(t,e){var n,r,i,o=t.sort(si).pop();for(Zl=[],Jl=new Array(t.length),tu=new ei,nu=new ei;;)if(i=eu,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))(o.x!==n||o.y!==r)&&(Jl[o.i]=new Br(o),Rr(o),n=o.x,r=o.y),o=t.pop();else{if(!i)break;jr(i.arc)}e&&(Gr(e),qr(e));var a={cells:Jl,edges:Zl};return tu=nu=Zl=Jl=null,a}function si(t,e){return e.y-t.y||e.x-t.x}function li(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function ui(t){return t.x}function ci(t){return t.y}function fi(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function hi(t,e,n,r,i,o){if(!t(e,n,r,i,o)){var a=.5*(n+i),s=.5*(r+o),l=e.nodes;l[0]&&hi(t,l[0],n,r,a,s),l[1]&&hi(t,l[1],a,r,i,s),l[2]&&hi(t,l[2],n,s,a,o),l[3]&&hi(t,l[3],a,s,i,o)}}function pi(t,e,n,r,i,o,a){var s,l=1/0;return function u(t,c,f,h,p){if(!(c>o||f>a||r>h||i>p)){if(d=t.point){var d,g=e-t.x,m=n-t.y,v=g*g+m*m;if(l>v){var y=Math.sqrt(l=v);r=e-y,i=n-y,o=e+y,a=n+y,s=d}}for(var b=t.nodes,w=.5*(c+h),x=.5*(f+p),$=e>=w,C=n>=x,S=C<<1|$,k=S+4;k>S;++S)if(t=b[3&S])switch(3&S){case 0:u(t,c,f,w,x);break;case 1:u(t,w,f,h,x);break;case 2:u(t,c,x,w,p);break;case 3:u(t,w,x,h,p)}}}(t,r,i,o,a),s}function di(t,e){t=ns.rgb(t),e=ns.rgb(e);var n=t.r,r=t.g,i=t.b,o=e.r-n,a=e.g-r,s=e.b-i;return function(t){return"#"+we(Math.round(n+o*t))+we(Math.round(r+a*t))+we(Math.round(i+s*t))}}function gi(t,e){var n,r={},i={};for(n in t)n in e?r[n]=yi(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function mi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function vi(t,e){var n,r,i,o=au.lastIndex=su.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=au.exec(t))&&(r=su.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:mi(n,r)})),o=su.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var n,r=0;e>r;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function yi(t,e){for(var n,r=ns.interpolators.length;--r>=0&&!(n=ns.interpolators[r](t,e)););return n}function bi(t,e){var n,r=[],i=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;s>n;++n)r.push(yi(t[n],e[n]));for(;o>n;++n)i[n]=t[n];for(;a>n;++n)i[n]=e[n];return function(t){for(n=0;s>n;++n)i[n]=r[n](t);return i}}function wi(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function xi(t){return function(e){return 1-t(1-e)}}function $i(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function Ci(t){return t*t}function Si(t){return t*t*t}function ki(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function Ti(t){return function(e){return Math.pow(e,t)}}function Mi(t){return 1-Math.cos(t*Ls)}function _i(t){return Math.pow(2,10*(t-1))}function Ai(t){return 1-Math.sqrt(1-t*t)}function Ei(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Os*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*Os/e)}}function Di(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Fi(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Oi(t,e){t=ns.hcl(t),e=ns.hcl(e);var n=t.h,r=t.c,i=t.l,o=e.h-n,a=e.c-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.c:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return ce(n+o*t,r+a*t,i+s*t)+""}}function Pi(t,e){t=ns.hsl(t),e=ns.hsl(e);var n=t.h,r=t.s,i=t.l,o=e.h-n,a=e.s-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.s:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return le(n+o*t,r+a*t,i+s*t)+""}}function Li(t,e){t=ns.lab(t),e=ns.lab(e);var n=t.l,r=t.a,i=t.b,o=e.l-n,a=e.a-r,s=e.b-i;return function(t){return he(n+o*t,r+a*t,i+s*t)+""}}function Ii(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Ni(t){var e=[t.a,t.b],n=[t.c,t.d],r=Ri(e),i=ji(e,n),o=Ri(zi(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Ns,this.translate=[t.e,t.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*Ns:0}function ji(t,e){return t[0]*e[0]+t[1]*e[1]}function Ri(t){var e=Math.sqrt(ji(t,t));return e&&(t[0]/=e,t[1]/=e),e}function zi(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Hi(t,e){var n,r=[],i=[],o=ns.transform(t),a=ns.transform(e),s=o.translate,l=a.translate,u=o.rotate,c=a.rotate,f=o.skew,h=a.skew,p=o.scale,d=a.scale;return s[0]!=l[0]||s[1]!=l[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:mi(s[0],l[0])},{i:3,x:mi(s[1],l[1])})):r.push(l[0]||l[1]?"translate("+l+")":""),u!=c?(u-c>180?c+=360:c-u>180&&(u+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:mi(u,c)})):c&&r.push(r.pop()+"rotate("+c+")"),f!=h?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:mi(f,h)}):h&&r.push(r.pop()+"skewX("+h+")"),p[0]!=d[0]||p[1]!=d[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:n-4,x:mi(p[0],d[0])},{i:n-2,x:mi(p[1],d[1])})):(1!=d[0]||1!=d[1])&&r.push(r.pop()+"scale("+d+")"),n=i.length,function(t){for(var e,o=-1;++o<n;)r[(e=i[o]).i]=e.x(t);return r.join("")}}function Bi(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function qi(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Wi(t){for(var e=t.source,n=t.target,r=Ui(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function Vi(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Ui(t,e){if(t===e)return t;for(var n=Vi(t),r=Vi(e),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}function Yi(t){t.fixed|=2}function Gi(t){t.fixed&=-7}function Xi(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Ki(t){t.fixed&=-5}function Qi(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var o,a=t.nodes,s=a.length,l=-1;++l<s;)o=a[l],null!=o&&(Qi(o,e,n),t.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var u=e*n[t.point.index];t.charge+=t.pointCharge=u,r+=u*t.point.x,i+=u*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}function Zi(t,e){return ns.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=io,t}function Ji(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function to(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(o=t.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(t=r.pop());)e(t)}function eo(t){return t.children}function no(t){return t.value}function ro(t,e){return e.value-t.value}function io(t){return ns.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function oo(t){return t.x}function ao(t){return t.y}function so(t,e,n){t.y0=e,t.y=n}function lo(t){return ns.range(t.length)}function uo(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function co(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;o>n;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function fo(t){return t.reduce(ho,0)}function ho(t,e){return t+e[1]}function po(t,e){return go(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function go(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function mo(t){return[ns.min(t),ns.max(t)]}function vo(t,e){return t.value-e.value}function yo(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function bo(t,e){t._pack_next=e,e._pack_prev=t}function wo(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function xo(t){function e(t){c=Math.min(t.x-t.r,c),f=Math.max(t.x+t.r,f),h=Math.min(t.y-t.r,h),p=Math.max(t.y+t.r,p)}if((n=t.children)&&(u=n.length)){var n,r,i,o,a,s,l,u,c=1/0,f=-1/0,h=1/0,p=-1/0;if(n.forEach($o),r=n[0],r.x=-r.r,r.y=0,e(r),u>1&&(i=n[1],i.x=i.r,i.y=0,e(i),u>2))for(o=n[2],ko(r,i,o),e(o),yo(r,o),r._pack_prev=o,yo(o,i),i=r._pack_next,a=3;u>a;a++){ko(r,i,o=n[a]);var d=0,g=1,m=1;for(s=i._pack_next;s!==i;s=s._pack_next,g++)if(wo(s,o)){d=1;break}if(1==d)for(l=r._pack_prev;l!==s._pack_prev&&!wo(l,o);l=l._pack_prev,m++);d?(m>g||g==m&&i.r<r.r?bo(r,i=s):bo(r=l,i),a--):(yo(r,o),i=o,e(o))}var v=(c+f)/2,y=(h+p)/2,b=0;for(a=0;u>a;a++)o=n[a],o.x-=v,o.y-=y,b=Math.max(b,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=b,n.forEach(Co)}}function $o(t){t._pack_next=t._pack_prev=t}function Co(t){delete t._pack_next,delete t._pack_prev}function So(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var o=-1,a=i.length;++o<a;)So(i[o],e,n,r)}function ko(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var a=e.r+n.r,s=i*i+o*o;a*=a,r*=r;var l=.5+(r-a)/(2*s),u=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=t.x+l*i+u*o,n.y=t.y+l*o-u*i}else n.x=t.x+r,n.y=t.y}function To(t,e){return t.parent==e.parent?1:2}function Mo(t){var e=t.children;return e.length?e[0]:t.t}function _o(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Ao(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Eo(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)e=i[o],e.z+=n,e.m+=n,n+=e.s+(r+=e.c)}function Do(t,e,n){return t.a.parent===e.parent?t.a:n}function Fo(t){return 1+ns.max(t,function(t){return t.y})}function Oo(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Po(t){var e=t.children;return e&&e.length?Po(e[0]):t}function Lo(t){var e,n=t.children;return n&&(e=n.length)?Lo(n[e-1]):t}function Io(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function No(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return 0>i&&(n+=i/2,i=0),0>o&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function jo(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function Ro(t){return t.rangeExtent?t.rangeExtent():jo(t.range())}function zo(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function Ho(t,e){var n,r=0,i=t.length-1,o=t[r],a=t[i];return o>a&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function Bo(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:yu}function qo(t,e,n,r){var i=[],o=[],a=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=s;)i.push(n(t[a-1],t[a])),o.push(r(e[a-1],e[a]));return function(e){var n=ns.bisect(t,e,1,s)-1;return o[n](i[n](e))}}function Wo(t,e,n,r){function i(){var i=Math.min(t.length,e.length)>2?qo:zo,l=r?qi:Bi;return a=i(t,e,l,n),s=i(e,t,l,yi),o}function o(t){return a(t)}var a,s;return o.invert=function(t){return s(t)},o.domain=function(e){return arguments.length?(t=e.map(Number),i()):t},o.range=function(t){return arguments.length?(e=t,i()):e},o.rangeRound=function(t){return o.range(t).interpolate(Ii)},o.clamp=function(t){return arguments.length?(r=t,i()):r},o.interpolate=function(t){return arguments.length?(n=t,i()):n},o.ticks=function(e){return Go(t,e)},o.tickFormat=function(e,n){return Xo(t,e,n)},o.nice=function(e){return Uo(t,e),i()},o.copy=function(){return Wo(t,e,n,r)},i()}function Vo(t,e){return ns.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Uo(t,e){return Ho(t,Bo(Yo(t,e)[2]))}function Yo(t,e){null==e&&(e=10);var n=jo(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;return.15>=o?i*=10:.35>=o?i*=5:.75>=o&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Go(t,e){return ns.range.apply(ns,Yo(t,e))}function Xo(t,e,n){var r=Yo(t,e);if(n){var i=al.exec(n);if(i.shift(),"s"===i[8]){var o=ns.formatPrefix(Math.max(ds(r[0]),ds(r[1])));return i[7]||(i[7]="."+Ko(o.scale(r[2]))),i[8]="f",n=ns.format(i.join("")),function(t){return n(o.scale(t))+o.symbol}}i[7]||(i[7]="."+Qo(i[8],r)),n=i.join("")}else n=",."+Ko(r[2])+"f";return ns.format(n)}function Ko(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Qo(t,e){var n=Ko(e[2]);return t in bu?Math.abs(n-Ko(Math.max(ds(e[0]),ds(e[1]))))+ +("e"!==t):n-2*("%"===t)}function Zo(t,e,n,r){function i(t){return(n?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function o(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function a(e){return t(i(e))}return a.invert=function(e){return o(t.invert(e))},a.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((r=e.map(Number)).map(i)),a):r},a.base=function(n){return arguments.length?(e=+n,t.domain(r.map(i)),a):e},a.nice=function(){var e=Ho(r.map(i),n?Math:xu);return t.domain(e),r=e.map(o),a},a.ticks=function(){var t=jo(r),a=[],s=t[0],l=t[1],u=Math.floor(i(s)),c=Math.ceil(i(l)),f=e%1?2:e;if(isFinite(c-u)){if(n){for(;c>u;u++)for(var h=1;f>h;h++)a.push(o(u)*h);a.push(o(u))}else for(a.push(o(u));u++<c;)for(var h=f-1;h>0;h--)a.push(o(u)*h);for(u=0;a[u]<s;u++);for(c=a.length;a[c-1]>l;c--);a=a.slice(u,c)}return a},a.tickFormat=function(t,e){if(!arguments.length)return wu;arguments.length<2?e=wu:"function"!=typeof e&&(e=ns.format(e));var r,s=Math.max(.1,t/a.ticks().length),l=n?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(t){return t/o(l(i(t)+r))<=s?e(t):""}},a.copy=function(){return Zo(t.copy(),e,n,r)},Vo(a,t)}function Jo(t,e,n){function r(e){return t(i(e))}var i=ta(e),o=ta(1/e);return r.invert=function(e){return o(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(i)),r):n},r.ticks=function(t){return Go(n,t)},r.tickFormat=function(t,e){return Xo(n,t,e)},r.nice=function(t){return r.domain(Uo(n,t))},r.exponent=function(a){return arguments.length?(i=ta(e=a),o=ta(1/e),t.domain(n.map(i)),r):e},r.copy=function(){return Jo(t.copy(),e,n)},Vo(r,t)}function ta(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function ea(t,e){function n(n){return o[((i.get(n)||("range"===e.t?i.set(n,t.push(n)):0/0))-1)%o.length]}function r(e,n){return ns.range(t.length).map(function(t){return e+n*t})}var i,o,a;return n.domain=function(r){if(!arguments.length)return t;t=[],i=new u;for(var o,a=-1,s=r.length;++a<s;)i.has(o=r[a])||i.set(o,t.push(o));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(o=t,a=0,e={t:"range",a:arguments},n):o},n.rangePoints=function(i,s){arguments.length<2&&(s=0);var l=i[0],u=i[1],c=t.length<2?(l=(l+u)/2,0):(u-l)/(t.length-1+s);return o=r(l+c*s/2,c),a=0,e={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(i,s){arguments.length<2&&(s=0);var l=i[0],u=i[1],c=t.length<2?(l=u=Math.round((l+u)/2),0):(u-l)/(t.length-1+s)|0;return o=r(l+Math.round(c*s/2+(u-l-(t.length-1+s)*c)/2),c),a=0,e={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(i,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=i[1]<i[0],c=i[u-0],f=i[1-u],h=(f-c)/(t.length-s+2*l);return o=r(c+h*l,h),u&&o.reverse(),a=h*(1-s),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=i[1]<i[0],c=i[u-0],f=i[1-u],h=Math.floor((f-c)/(t.length-s+2*l));return o=r(c+Math.round((f-c-(t.length-s)*h)/2),h),u&&o.reverse(),a=Math.round(h*(1-s)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return jo(e.a[0])},n.copy=function(){return ea(t,e)},n.domain(t)}function na(t,e){function o(){var n=0,r=e.length;for(s=[];++n<r;)s[n-1]=ns.quantile(t,n/r);return a}function a(t){return isNaN(t=+t)?void 0:e[ns.bisect(s,t)]}var s;return a.domain=function(e){return arguments.length?(t=e.map(r).filter(i).sort(n),o()):t},a.range=function(t){return arguments.length?(e=t,o()):e},a.quantiles=function(){return s},a.invertExtent=function(n){return n=e.indexOf(n),0>n?[0/0,0/0]:[n>0?s[n-1]:t[0],n<s.length?s[n]:t[t.length-1]]},a.copy=function(){return na(t,e)},o()}function ra(t,e,n){function r(e){return n[Math.max(0,Math.min(a,Math.floor(o*(e-t))))]}function i(){return o=n.length/(e-t),a=n.length-1,r}var o,a;return r.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],i()):[t,e]},r.range=function(t){return arguments.length?(n=t,i()):n},r.invertExtent=function(e){return e=n.indexOf(e),e=0>e?0/0:e/o+t,[e,e+1/o]},r.copy=function(){return ra(t,e,n)},i()}function ia(t,e){function n(n){return n>=n?e[ns.bisect(t,n)]:void 0}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return ia(t,e)},n}function oa(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return Go(t,e)},e.tickFormat=function(e,n){return Xo(t,e,n)},e.copy=function(){return oa(t)},e}function aa(){return 0}function sa(t){return t.innerRadius}function la(t){return t.outerRadius}function ua(t){return t.startAngle}function ca(t){return t.endAngle}function fa(t){return t&&t.padAngle}function ha(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function pa(t,e,n,r,i){var o=t[0]-e[0],a=t[1]-e[1],s=(i?r:-r)/Math.sqrt(o*o+a*a),l=s*a,u=-s*o,c=t[0]+l,f=t[1]+u,h=e[0]+l,p=e[1]+u,d=(c+h)/2,g=(f+p)/2,m=h-c,v=p-f,y=m*m+v*v,b=n-r,w=c*p-h*f,x=(0>v?-1:1)*Math.sqrt(b*b*y-w*w),$=(w*v-m*x)/y,C=(-w*m-v*x)/y,S=(w*v+m*x)/y,k=(-w*m+v*x)/y,T=$-d,M=C-g,_=S-d,A=k-g;return T*T+M*M>_*_+A*A&&($=S,C=k),[[$-l,C-u],[$*n/b,C*n/b]]}function da(t){function e(e){function a(){u.push("M",o(t(c),s))}for(var l,u=[],c=[],f=-1,h=e.length,p=Te(n),d=Te(r);++f<h;)i.call(this,l=e[f],f)?c.push([+p.call(this,l,f),+d.call(this,l,f)]):c.length&&(a(),c=[]);return c.length&&a(),u.length?u.join(""):null}var n=_r,r=Ar,i=An,o=ga,a=o.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e.defined=function(t){return arguments.length?(i=t,e):i},e.interpolate=function(t){return arguments.length?(a="function"==typeof t?o=t:(o=Mu.get(t)||ga).key,e):a},e.tension=function(t){return arguments.length?(s=t,e):s},e}function ga(t){return t.join("L")}function ma(t){return ga(t)+"Z"}function va(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function ya(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function ba(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function wa(t,e){return t.length<4?ga(t):t[1]+Ca(t.slice(1,-1),Sa(t,e))}function xa(t,e){return t.length<3?ga(t):t[0]+Ca((t.push(t[0]),t),Sa([t[t.length-2]].concat(t,[t[1]]),e))}function $a(t,e){return t.length<3?ga(t):t[0]+Ca(t,Sa(t,e))}function Ca(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return ga(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],a=e[0],s=a,l=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],l=2),e.length>1){s=e[1],o=t[l],l++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var u=2;u<e.length;u++,l++)o=t[l],s=e[u],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=t[l];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function Sa(t,e){for(var n,r=[],i=(1-e)/2,o=t[0],a=t[1],s=1,l=t.length;++s<l;)n=o,o=a,a=t[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);
return r}function ka(t){if(t.length<3)return ga(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],s=[o,o,o,r[1]],l=[i,",",o,"L",Aa(Eu,a),",",Aa(Eu,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),Ea(l,a,s);return t.pop(),l.push("L",r),l.join("")}function Ta(t){if(t.length<4)return ga(t);for(var e,n=[],r=-1,i=t.length,o=[0],a=[0];++r<3;)e=t[r],o.push(e[0]),a.push(e[1]);for(n.push(Aa(Eu,o)+","+Aa(Eu,a)),--r;++r<i;)e=t[r],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Ea(n,o,a);return n.join("")}function Ma(t){for(var e,n,r=-1,i=t.length,o=i+4,a=[],s=[];++r<4;)n=t[r%i],a.push(n[0]),s.push(n[1]);for(e=[Aa(Eu,a),",",Aa(Eu,s)],--r;++r<o;)n=t[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Ea(e,a,s);return e.join("")}function _a(t,e){var n=t.length-1;if(n)for(var r,i,o=t[0][0],a=t[0][1],s=t[n][0]-o,l=t[n][1]-a,u=-1;++u<=n;)r=t[u],i=u/n,r[0]=e*r[0]+(1-e)*(o+i*s),r[1]=e*r[1]+(1-e)*(a+i*l);return ka(t)}function Aa(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Ea(t,e,n){t.push("C",Aa(_u,e),",",Aa(_u,n),",",Aa(Au,e),",",Aa(Au,n),",",Aa(Eu,e),",",Aa(Eu,n))}function Da(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Fa(t){for(var e=0,n=t.length-1,r=[],i=t[0],o=t[1],a=r[0]=Da(i,o);++e<n;)r[e]=(a+(a=Da(i=o,o=t[e+1])))/2;return r[e]=a,r}function Oa(t){for(var e,n,r,i,o=[],a=Fa(t),s=-1,l=t.length-1;++s<l;)e=Da(t[s],t[s+1]),ds(e)<Es?a[s]=a[s+1]=0:(n=a[s]/e,r=a[s+1]/e,i=n*n+r*r,i>9&&(i=3*e/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r));for(s=-1;++s<=l;)i=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}function Pa(t){return t.length<3?ga(t):t[0]+Ca(t,Oa(t))}function La(t){for(var e,n,r,i=-1,o=t.length;++i<o;)e=t[i],n=e[0],r=e[1]-Ls,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function Ia(t){function e(e){function l(){g.push("M",s(t(v),f),c,u(t(m.reverse()),f),"Z")}for(var h,p,d,g=[],m=[],v=[],y=-1,b=e.length,w=Te(n),x=Te(i),$=n===r?function(){return p}:Te(r),C=i===o?function(){return d}:Te(o);++y<b;)a.call(this,h=e[y],y)?(m.push([p=+w.call(this,h,y),d=+x.call(this,h,y)]),v.push([+$.call(this,h,y),+C.call(this,h,y)])):m.length&&(l(),m=[],v=[]);return m.length&&l(),g.length?g.join(""):null}var n=_r,r=_r,i=0,o=Ar,a=An,s=ga,l=s.key,u=s,c="L",f=.7;return e.x=function(t){return arguments.length?(n=r=t,e):r},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(i=o=t,e):o},e.y0=function(t){return arguments.length?(i=t,e):i},e.y1=function(t){return arguments.length?(o=t,e):o},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(l="function"==typeof t?s=t:(s=Mu.get(t)||ga).key,u=s.reverse||s,c=s.closed?"M":"L",e):l},e.tension=function(t){return arguments.length?(f=t,e):f},e}function Na(t){return t.radius}function ja(t){return[t.x,t.y]}function Ra(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-Ls;return[n*Math.cos(r),n*Math.sin(r)]}}function za(){return 64}function Ha(){return"circle"}function Ba(t){var e=Math.sqrt(t/Fs);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function qa(t){return function(){var e,n;(e=this[t])&&(n=e[e.active])&&(--e.count?delete e[e.active]:delete this[t],e.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function Wa(t,e,n){return bs(t,Nu),t.namespace=e,t.id=n,t}function Va(t,e,n,r){var i=t.id,o=t.namespace;return q(t,"function"==typeof n?function(t,a,s){t[o][i].tween.set(e,r(n.call(t,t.__data__,a,s)))}:(n=r(n),function(t){t[o][i].tween.set(e,n)}))}function Ua(t){return null==t&&(t=""),function(){this.textContent=t}}function Ya(t){return null==t?"__transition__":"__transition_"+t+"__"}function Ga(t,e,n,r,i){var o=t[n]||(t[n]={active:0,count:0}),a=o[r];if(!a){var s=i.time;a=o[r]={tween:new u,time:s,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++o.count,ns.timer(function(i){function l(n){if(o.active>r)return c();var i=o[o.active];i&&(--o.count,delete o[o.active],i.event&&i.event.interrupt.call(t,t.__data__,i.index)),o.active=r,a.event&&a.event.start.call(t,t.__data__,e),a.tween.forEach(function(n,r){(r=r.call(t,t.__data__,e))&&g.push(r)}),h=a.ease,f=a.duration,ns.timer(function(){return d.c=u(n||1)?An:u,1},0,s)}function u(n){if(o.active!==r)return 1;for(var i=n/f,s=h(i),l=g.length;l>0;)g[--l].call(t,s);return i>=1?(a.event&&a.event.end.call(t,t.__data__,e),c()):void 0}function c(){return--o.count?delete o[r]:delete t[n],1}var f,h,p=a.delay,d=rl,g=[];return d.t=p+s,i>=p?l(i-p):void(d.c=l)},0,s)}}function Xa(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"})}function Ka(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"})}function Qa(t){return t.toISOString()}function Za(t,e,n){function r(e){return t(e)}function i(t,n){var r=t[1]-t[0],i=r/n,o=ns.bisect(Uu,i);return o==Uu.length?[e.year,Yo(t.map(function(t){return t/31536e6}),n)[2]]:o?e[i/Uu[o-1]<Uu[o]/i?o-1:o]:[Xu,Yo(t,n)[2]]}return r.invert=function(e){return Ja(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(Ja)},r.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,Ja(+n+1),e).length}var o=r.domain(),a=jo(o),s=null==t?i(a,10):"number"==typeof t&&i(a,t);return s&&(t=s[0],e=s[1]),r.domain(Ho(o,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=Ja(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=Ja(+e+1);return e}}:t))},r.ticks=function(t,e){var n=jo(r.domain()),o=null==t?i(n,10):"number"==typeof t?i(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],Ja(+n[1]+1),1>e?1:e)},r.tickFormat=function(){return n},r.copy=function(){return Za(t.copy(),e,n)},Vo(r,t)}function Ja(t){return new Date(t)}function ts(t){return JSON.parse(t.responseText)}function es(t){var e=os.createRange();return e.selectNode(os.body),e.createContextualFragment(t.responseText)}var ns={version:"3.5.6"},rs=[].slice,is=function(t){return rs.call(t)},os=this.document;if(os)try{is(os.documentElement.childNodes)[0].nodeType}catch(as){is=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),os)try{os.createElement("DIV").style.setProperty("opacity",0,"")}catch(ss){var ls=this.Element.prototype,us=ls.setAttribute,cs=ls.setAttributeNS,fs=this.CSSStyleDeclaration.prototype,hs=fs.setProperty;ls.setAttribute=function(t,e){us.call(this,t,e+"")},ls.setAttributeNS=function(t,e,n){cs.call(this,t,e,n+"")},fs.setProperty=function(t,e,n){hs.call(this,t,e+"",n)}}ns.ascending=n,ns.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:0/0},ns.min=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},ns.max=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},ns.extent=function(t,e){var n,r,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=t[o])&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=t[o])&&(n>r&&(n=r),r>i&&(i=r))}else{for(;++o<a;)if(null!=(r=e.call(t,t[o],o))&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=e.call(t,t[o],o))&&(n>r&&(n=r),r>i&&(i=r))}return[n,i]},ns.sum=function(t,e){var n,r=0,o=t.length,a=-1;if(1===arguments.length)for(;++a<o;)i(n=+t[a])&&(r+=n);else for(;++a<o;)i(n=+e.call(t,t[a],a))&&(r+=n);return r},ns.mean=function(t,e){var n,o=0,a=t.length,s=-1,l=a;if(1===arguments.length)for(;++s<a;)i(n=r(t[s]))?o+=n:--l;else for(;++s<a;)i(n=r(e.call(t,t[s],s)))?o+=n:--l;return l?o/l:void 0},ns.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},ns.median=function(t,e){var o,a=[],s=t.length,l=-1;if(1===arguments.length)for(;++l<s;)i(o=r(t[l]))&&a.push(o);else for(;++l<s;)i(o=r(e.call(t,t[l],l)))&&a.push(o);return a.length?ns.quantile(a.sort(n),.5):void 0},ns.variance=function(t,e){var n,o,a=t.length,s=0,l=0,u=-1,c=0;if(1===arguments.length)for(;++u<a;)i(n=r(t[u]))&&(o=n-s,s+=o/++c,l+=o*(n-s));else for(;++u<a;)i(n=r(e.call(t,t[u],u)))&&(o=n-s,s+=o/++c,l+=o*(n-s));return c>1?l/(c-1):void 0},ns.deviation=function(){var t=ns.variance.apply(this,arguments);return t?Math.sqrt(t):t};var ps=o(n);ns.bisectLeft=ps.left,ns.bisect=ns.bisectRight=ps.right,ns.bisector=function(t){return o(1===t.length?function(e,r){return n(t(e),r)}:t)},ns.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,2>o&&(e=0));for(var r,i,o=n-e;o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},ns.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},ns.pairs=function(t){for(var e,n=0,r=t.length-1,i=t[0],o=new Array(0>r?0:r);r>n;)o[n]=[e=i,i=t[++n]];return o},ns.zip=function(){if(!(r=arguments.length))return[];for(var t=-1,e=ns.min(arguments,a),n=new Array(e);++t<e;)for(var r,i=-1,o=n[t]=new Array(r);++i<r;)o[i]=arguments[i][t];return n},ns.transpose=function(t){return ns.zip.apply(ns,t)},ns.keys=function(t){var e=[];for(var n in t)e.push(n);return e},ns.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},ns.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},ns.merge=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(r=t[i],e=r.length;--e>=0;)n[--a]=r[e];return n};var ds=Math.abs;ns.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var r,i=[],o=s(ds(n)),a=-1;if(t*=o,e*=o,n*=o,0>n)for(;(r=t+n*++a)>e;)i.push(r/o);else for(;(r=t+n*++a)<e;)i.push(r/o);return i},ns.map=function(t,e){var n=new u;if(t instanceof u)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(1===arguments.length)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e.call(t,r=t[i],i),r)}else for(var a in t)n.set(a,t[a]);return n};var gs="__proto__",ms="\x00";l(u,{has:h,get:function(t){return this._[c(t)]},set:function(t,e){return this._[c(t)]=e},remove:p,keys:d,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:f(e),value:this._[e]});return t},size:g,empty:m,forEach:function(t){for(var e in this._)t.call(this,f(e),this._[e])}}),ns.nest=function(){function t(e,a,s){if(s>=o.length)return r?r.call(i,a):n?a.sort(n):a;for(var l,c,f,h,p=-1,d=a.length,g=o[s++],m=new u;++p<d;)(h=m.get(l=g(c=a[p])))?h.push(c):m.set(l,[c]);return e?(c=e(),f=function(n,r){c.set(n,t(e,r,s))}):(c={},f=function(n,r){c[n]=t(e,r,s)}),m.forEach(f),c}function e(t,n){if(n>=o.length)return t;var r=[],i=a[n++];return t.forEach(function(t,i){r.push({key:t,values:e(i,n)})}),i?r.sort(function(t,e){return i(t.key,e.key)}):r}var n,r,i={},o=[],a=[];return i.map=function(e,n){return t(n,e,0)},i.entries=function(n){return e(t(ns.map,n,0),0)},i.key=function(t){return o.push(t),i},i.sortKeys=function(t){return a[o.length-1]=t,i},i.sortValues=function(t){return n=t,i},i.rollup=function(t){return r=t,i},i},ns.set=function(t){var e=new v;if(t)for(var n=0,r=t.length;r>n;++n)e.add(t[n]);return e},l(v,{has:h,add:function(t){return this._[c(t+="")]=!0,t},remove:p,values:d,size:g,empty:m,forEach:function(t){for(var e in this._)t.call(this,f(e))}}),ns.behavior={},ns.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=b(t,e,e[n]);return t};var vs=["webkit","ms","moz","Moz","o","O"];ns.dispatch=function(){for(var t=new $,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=C(t);return t},$.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},ns.event=null,ns.requote=function(t){return t.replace(ys,"\\$&")};var ys=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,bs={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},ws=function(t,e){return e.querySelector(t)},xs=function(t,e){return e.querySelectorAll(t)},$s=function(t,e){var n=t.matches||t[w(t,"matchesSelector")];return($s=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(ws=function(t,e){return Sizzle(t,e)[0]||null},xs=Sizzle,$s=Sizzle.matchesSelector),ns.selection=function(){return ns.select(os.documentElement)};var Cs=ns.selection.prototype=[];Cs.select=function(t){var e,n,r,i,o=[];t=_(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var l=-1,u=r.length;++l<u;)(i=r[l])?(e.push(n=t.call(i,i.__data__,l,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return M(o)},Cs.selectAll=function(t){var e,n,r=[];t=A(t);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],s=-1,l=a.length;++s<l;)(n=a[s])&&(r.push(e=is(t.call(n,n.__data__,s,i))),e.parentNode=n);return M(r)};var Ss={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ns.ns={prefix:Ss,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.slice(0,e),t=t.slice(e+1)),Ss.hasOwnProperty(n)?{space:Ss[n],local:t}:t}},Cs.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=ns.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(E(e,t[e]));return this}return this.each(E(t,e))},Cs.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=O(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!F(t[i]).test(e))return!1;return!0}for(e in t)this.each(P(e,t[e]));return this}return this.each(P(t,e))},Cs.style=function(t,n,r){var i=arguments.length;if(3>i){if("string"!=typeof t){2>i&&(n="");for(r in t)this.each(I(r,t[r],n));return this}if(2>i){var o=this.node();return e(o).getComputedStyle(o,null).getPropertyValue(t)}r=""}return this.each(I(t,n,r))},Cs.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(N(e,t[e]));return this}return this.each(N(t,e))},Cs.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Cs.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Cs.append=function(t){return t=j(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Cs.insert=function(t,e){return t=j(t),e=_(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Cs.remove=function(){return this.each(R)},Cs.data=function(t,e){function n(t,n){var r,i,o,a=t.length,f=n.length,h=Math.min(a,f),p=new Array(f),d=new Array(f),g=new Array(a);if(e){var m,v=new u,y=new Array(a);for(r=-1;++r<a;)v.has(m=e.call(i=t[r],i.__data__,r))?g[r]=i:v.set(m,i),y[r]=m;for(r=-1;++r<f;)(i=v.get(m=e.call(n,o=n[r],r)))?i!==!0&&(p[r]=i,i.__data__=o):d[r]=z(o),v.set(m,!0);for(r=-1;++r<a;)v.get(y[r])!==!0&&(g[r]=t[r])}else{for(r=-1;++r<h;)i=t[r],o=n[r],i?(i.__data__=o,p[r]=i):d[r]=z(o);for(;f>r;++r)d[r]=z(n[r]);for(;a>r;++r)g[r]=t[r]}d.update=p,d.parentNode=p.parentNode=g.parentNode=t.parentNode,s.push(d),l.push(p),c.push(g)}var r,i,o=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(r=this[0]).length);++o<a;)(i=r[o])&&(t[o]=i.__data__);return t}var s=W([]),l=M([]),c=M([]);if("function"==typeof t)for(;++o<a;)n(r=this[o],t.call(r,r.parentNode.__data__,o));else for(;++o<a;)n(r=this[o],t);return l.enter=function(){return s},l.exit=function(){return c},l},Cs.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Cs.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=H(t));for(var o=0,a=this.length;a>o;o++){i.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,l=n.length;l>s;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return M(i)},Cs.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},Cs.sort=function(t){t=B.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Cs.each=function(t){return q(this,function(e,n,r){t.call(e,e.__data__,n,r)})},Cs.call=function(t){var e=is(arguments);return t.apply(e[0]=this,e),this},Cs.empty=function(){return!this.node()},Cs.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],r=0,i=n.length;i>r;r++){var o=n[r];if(o)return o}return null},Cs.size=function(){var t=0;return q(this,function(){++t}),t};var ks=[];ns.selection.enter=W,ns.selection.enter.prototype=ks,ks.append=Cs.append,ks.empty=Cs.empty,ks.node=Cs.node,ks.call=Cs.call,ks.size=Cs.size,ks.select=function(t){for(var e,n,r,i,o,a=[],s=-1,l=this.length;++s<l;){r=(i=this[s]).update,a.push(e=[]),e.parentNode=i.parentNode;for(var u=-1,c=i.length;++u<c;)(o=i[u])?(e.push(r[u]=n=t.call(i.parentNode,o.__data__,u,s)),n.__data__=o.__data__):e.push(null)}return M(a)},ks.insert=function(t,e){return arguments.length<2&&(e=V(this)),Cs.insert.call(this,t,e)},ns.select=function(e){var n;return"string"==typeof e?(n=[ws(e,os)],n.parentNode=os.documentElement):(n=[e],n.parentNode=t(e)),M([n])},ns.selectAll=function(t){var e;return"string"==typeof t?(e=is(xs(t,os)),e.parentNode=os.documentElement):(e=t,e.parentNode=null),M([e])},Cs.on=function(t,e,n){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(e=!1);for(n in t)this.each(U(n,t[n],e));return this}if(2>r)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(U(t,e,n))};var Ts=ns.map({mouseenter:"mouseover",mouseleave:"mouseout"});os&&Ts.forEach(function(t){"on"+t in os&&Ts.remove(t)});var Ms,_s=0;ns.mouse=function(t){return K(t,k())};var As=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ns.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=k().changedTouches),e)for(var r,i=0,o=e.length;o>i;++i)if((r=e[i]).identifier===n)return K(t,r)},ns.behavior.drag=function(){function t(){this.on("mousedown.drag",o).on("touchstart.drag",a)}function n(t,e,n,o,a){return function(){function s(){var t,n,r=e(h,g);r&&(t=r[0]-b[0],n=r[1]-b[1],d|=t|n,b=r,p({type:"drag",x:r[0]+u[0],y:r[1]+u[1],dx:t,dy:n}))}function l(){e(h,g)&&(v.on(o+m,null).on(a+m,null),y(d&&ns.event.target===f),p({type:"dragend"}))}var u,c=this,f=ns.event.target,h=c.parentNode,p=r.of(c,arguments),d=0,g=t(),m=".drag"+(null==g?"":"-"+g),v=ns.select(n(f)).on(o+m,s).on(a+m,l),y=X(f),b=e(h,g);i?(u=i.apply(c,arguments),u=[u.x-b[0],u.y-b[1]]):u=[0,0],p({type:"dragstart"})}}var r=T(t,"drag","dragstart","dragend"),i=null,o=n(x,ns.mouse,e,"mousemove","mouseup"),a=n(Q,ns.touch,y,"touchmove","touchend");return t.origin=function(e){return arguments.length?(i=e,t):i},ns.rebind(t,r,"on")},ns.touches=function(t,e){return arguments.length<2&&(e=k().touches),e?is(e).map(function(e){var n=K(t,e);return n.identifier=e.identifier,n}):[]};var Es=1e-6,Ds=Es*Es,Fs=Math.PI,Os=2*Fs,Ps=Os-Es,Ls=Fs/2,Is=Fs/180,Ns=180/Fs,js=Math.SQRT2,Rs=2,zs=4;ns.interpolateZoom=function(t,e){function n(t){var e=t*y;if(v){var n=re(g),a=o/(Rs*h)*(n*ie(js*e+g)-ne(g));return[r+a*u,i+a*c,o*n/re(js*e+g)]}return[r+t*u,i+t*c,o*Math.exp(js*e)]}var r=t[0],i=t[1],o=t[2],a=e[0],s=e[1],l=e[2],u=a-r,c=s-i,f=u*u+c*c,h=Math.sqrt(f),p=(l*l-o*o+zs*f)/(2*o*Rs*h),d=(l*l-o*o-zs*f)/(2*l*Rs*h),g=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(d*d+1)-d),v=m-g,y=(v||Math.log(l/o))/js;return n.duration=1e3*y,n},ns.behavior.zoom=function(){function t(t){t.on(D,f).on(Bs+".zoom",p).on("dblclick.zoom",d).on(P,h)}function n(t){return[(t[0]-k.x)/k.k,(t[1]-k.y)/k.k]}function r(t){return[t[0]*k.k+k.x,t[1]*k.k+k.y]}function i(t){k.k=Math.max(_[0],Math.min(_[1],t))}function o(t,e){e=r(e),k.x+=t[0]-e[0],k.y+=t[1]-e[1]}function a(e,n,r,a){e.__chart__={x:k.x,y:k.y,k:k.k},i(Math.pow(2,a)),o(m=n,r),e=ns.select(e),A>0&&(e=e.transition().duration(A)),e.call(t.event)}function s(){x&&x.domain(w.range().map(function(t){return(t-k.x)/k.k}).map(w.invert)),C&&C.domain($.range().map(function(t){return(t-k.y)/k.k}).map($.invert))}function l(t){E++||t({type:"zoomstart"})}function u(t){s(),t({type:"zoom",scale:k.k,translate:[k.x,k.y]})}function c(t){--E||(t({type:"zoomend"}),m=null)}function f(){function t(){f=1,o(ns.mouse(i),p),u(s)}function r(){h.on(F,null).on(O,null),d(f&&ns.event.target===a),c(s)}var i=this,a=ns.event.target,s=L.of(i,arguments),f=0,h=ns.select(e(i)).on(F,t).on(O,r),p=n(ns.mouse(i)),d=X(i);Iu.call(i),l(s)}function h(){function t(){var t=ns.touches(d);return p=k.k,t.forEach(function(t){t.identifier in m&&(m[t.identifier]=n(t))}),t}function e(){var e=ns.event.target;ns.select(e).on(w,r).on(x,s),$.push(e);for(var n=ns.event.changedTouches,i=0,o=n.length;o>i;++i)m[n[i].identifier]=null;var l=t(),u=Date.now();if(1===l.length){if(500>u-b){var c=l[0];a(d,c,m[c.identifier],Math.floor(Math.log(k.k)/Math.LN2)+1),S()}b=u}else if(l.length>1){var c=l[0],f=l[1],h=c[0]-f[0],p=c[1]-f[1];v=h*h+p*p}}function r(){var t,e,n,r,a=ns.touches(d);Iu.call(d);for(var s=0,l=a.length;l>s;++s,r=null)if(n=a[s],r=m[n.identifier]){if(e)break;t=n,e=r}if(r){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,f=v&&Math.sqrt(c/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+r[0])/2,(e[1]+r[1])/2],i(f*p)}b=null,o(t,e),u(g)}function s(){if(ns.event.touches.length){for(var e=ns.event.changedTouches,n=0,r=e.length;r>n;++n)delete m[e[n].identifier];for(var i in m)return void t()}ns.selectAll($).on(y,null),C.on(D,f).on(P,h),T(),c(g)}var p,d=this,g=L.of(d,arguments),m={},v=0,y=".zoom-"+ns.event.changedTouches[0].identifier,w="touchmove"+y,x="touchend"+y,$=[],C=ns.select(d),T=X(d);e(),l(g),C.on(D,null).on(P,e)}function p(){var t=L.of(this,arguments);y?clearTimeout(y):(Iu.call(this),g=n(m=v||ns.mouse(this)),l(t)),y=setTimeout(function(){y=null,c(t)},50),S(),i(Math.pow(2,.002*Hs())*k.k),o(m,g),u(t)}function d(){var t=ns.mouse(this),e=Math.log(k.k)/Math.LN2;a(this,t,n(t),ns.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var g,m,v,y,b,w,x,$,C,k={x:0,y:0,k:1},M=[960,500],_=qs,A=250,E=0,D="mousedown.zoom",F="mousemove.zoom",O="mouseup.zoom",P="touchstart.zoom",L=T(t,"zoomstart","zoom","zoomend");return Bs||(Bs="onwheel"in os?(Hs=function(){return-ns.event.deltaY*(ns.event.deltaMode?120:1)},"wheel"):"onmousewheel"in os?(Hs=function(){return ns.event.wheelDelta},"mousewheel"):(Hs=function(){return-ns.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=L.of(this,arguments),e=k;Pu?ns.select(this).transition().each("start.zoom",function(){k=this.__chart__||{x:0,y:0,k:1},l(t)}).tween("zoom:zoom",function(){var n=M[0],r=M[1],i=m?m[0]:n/2,o=m?m[1]:r/2,a=ns.interpolateZoom([(i-k.x)/k.k,(o-k.y)/k.k,n/k.k],[(i-e.x)/e.k,(o-e.y)/e.k,n/e.k]);return function(e){var r=a(e),s=n/r[2];this.__chart__=k={x:i-r[0]*s,y:o-r[1]*s,k:s},u(t)}}).each("interrupt.zoom",function(){c(t)}).each("end.zoom",function(){c(t)}):(this.__chart__=k,l(t),u(t),c(t))})},t.translate=function(e){return arguments.length?(k={x:+e[0],y:+e[1],k:k.k},s(),t):[k.x,k.y]},t.scale=function(e){return arguments.length?(k={x:k.x,y:k.y,k:+e},s(),t):k.k},t.scaleExtent=function(e){return arguments.length?(_=null==e?qs:[+e[0],+e[1]],t):_},t.center=function(e){return arguments.length?(v=e&&[+e[0],+e[1]],t):v},t.size=function(e){return arguments.length?(M=e&&[+e[0],+e[1]],t):M},t.duration=function(e){return arguments.length?(A=+e,t):A},t.x=function(e){return arguments.length?(x=e,w=e.copy(),k={x:0,y:0,k:1},t):x},t.y=function(e){return arguments.length?(C=e,$=e.copy(),k={x:0,y:0,k:1},t):C},ns.rebind(t,L,"on")};var Hs,Bs,qs=[0,1/0];ns.color=ae,ae.prototype.toString=function(){return this.rgb()+""},ns.hsl=se;var Ws=se.prototype=new ae;Ws.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new se(this.h,this.s,this.l/t)},Ws.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new se(this.h,this.s,t*this.l)},Ws.rgb=function(){return le(this.h,this.s,this.l)},ns.hcl=ue;var Vs=ue.prototype=new ae;Vs.brighter=function(t){return new ue(this.h,this.c,Math.min(100,this.l+Us*(arguments.length?t:1)))},Vs.darker=function(t){return new ue(this.h,this.c,Math.max(0,this.l-Us*(arguments.length?t:1)))},Vs.rgb=function(){return ce(this.h,this.c,this.l).rgb()},ns.lab=fe;var Us=18,Ys=.95047,Gs=1,Xs=1.08883,Ks=fe.prototype=new ae;Ks.brighter=function(t){return new fe(Math.min(100,this.l+Us*(arguments.length?t:1)),this.a,this.b)},Ks.darker=function(t){return new fe(Math.max(0,this.l-Us*(arguments.length?t:1)),this.a,this.b)},Ks.rgb=function(){return he(this.l,this.a,this.b)},ns.rgb=ve;var Qs=ve.prototype=new ae;Qs.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&i>e&&(e=i),n&&i>n&&(n=i),r&&i>r&&(r=i),new ve(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new ve(i,i,i)},Qs.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new ve(t*this.r,t*this.g,t*this.b)},Qs.hsl=function(){return $e(this.r,this.g,this.b)},Qs.toString=function(){return"#"+we(this.r)+we(this.g)+we(this.b)};var Zs=ns.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Zs.forEach(function(t,e){Zs.set(t,ye(e))}),ns.functor=Te,ns.xhr=Me(y),ns.dsv=function(t,e){function n(t,n,o){arguments.length<3&&(o=n,n=null);var a=_e(t,e,null==n?r:i(n),o);return a.row=function(t){return arguments.length?a.response(null==(n=t)?r:i(t)):n},a}function r(t){return n.parse(t.responseText)}function i(t){return function(e){return n.parse(e.responseText,t)}}function o(e){return e.map(a).join(t)}function a(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),l=t.charCodeAt(0);return n.parse=function(t,e){var r;return n.parseRows(t,function(t,n){if(r)return r(t,n-1);var i=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=e?function(t,n){return e(i(t),n)}:i})},n.parseRows=function(t,e){function n(){if(c>=u)return a;if(i)return i=!1,o;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<u;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}c=n+2;var r=t.charCodeAt(n+1);return 13===r?(i=!0,10===t.charCodeAt(n+2)&&++c):10===r&&(i=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;u>c;){var r=t.charCodeAt(c++),s=1;if(10===r)i=!0;else if(13===r)i=!0,10===t.charCodeAt(c)&&(++c,++s);else if(r!==l)continue;return t.slice(e,c-s)}return t.slice(e)}for(var r,i,o={},a={},s=[],u=t.length,c=0,f=0;(r=n())!==a;){for(var h=[];r!==o&&r!==a;)h.push(r),r=n();e&&null==(h=e(h,f++))||s.push(h)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var r=new v,i=[];return e.forEach(function(t){for(var e in t)r.has(e)||i.push(r.add(e))}),[i.map(a).join(t)].concat(e.map(function(e){return i.map(function(t){return a(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(o).join("\n")},n},ns.csv=ns.dsv(",","text/csv"),ns.tsv=ns.dsv("	","text/tab-separated-values");var Js,tl,el,nl,rl,il=this[w(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};ns.timer=function(t,e,n){var r=arguments.length;2>r&&(e=0),3>r&&(n=Date.now());var i=n+e,o={c:t,t:i,f:!1,n:null};tl?tl.n=o:Js=o,tl=o,el||(nl=clearTimeout(nl),el=1,il(De))},ns.timer.flush=function(){Fe(),Oe()},ns.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var ol=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(Le);ns.formatPrefix=function(t,e){var n=0;return t&&(0>t&&(t*=-1),e&&(t=ns.round(t,Pe(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),ol[8+n/3]};var al=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,sl=ns.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=ns.round(t,Pe(t,e))).toFixed(Math.max(0,Math.min(20,Pe(t*(1+1e-15),e))))}}),ll=ns.time={},ul=Date;je.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){cl.setUTCDate.apply(this._,arguments)
},setDay:function(){cl.setUTCDay.apply(this._,arguments)},setFullYear:function(){cl.setUTCFullYear.apply(this._,arguments)},setHours:function(){cl.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){cl.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){cl.setUTCMinutes.apply(this._,arguments)},setMonth:function(){cl.setUTCMonth.apply(this._,arguments)},setSeconds:function(){cl.setUTCSeconds.apply(this._,arguments)},setTime:function(){cl.setTime.apply(this._,arguments)}};var cl=Date.prototype;ll.year=Re(function(t){return t=ll.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),ll.years=ll.year.range,ll.years.utc=ll.year.utc.range,ll.day=Re(function(t){var e=new ul(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),ll.days=ll.day.range,ll.days.utc=ll.day.utc.range,ll.dayOfYear=function(t){var e=ll.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=ll[t]=Re(function(t){return(t=ll.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=ll.year(t).getDay();return Math.floor((ll.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});ll[t+"s"]=n.range,ll[t+"s"].utc=n.utc.range,ll[t+"OfYear"]=function(t){var n=ll.year(t).getDay();return Math.floor((ll.dayOfYear(t)+(n+e)%7)/7)}}),ll.week=ll.sunday,ll.weeks=ll.sunday.range,ll.weeks.utc=ll.sunday.utc.range,ll.weekOfYear=ll.sundayOfYear;var fl={"-":"",_:" ",0:"0"},hl=/^\s*\d+/,pl=/^%/;ns.locale=function(t){return{numberFormat:Ie(t),timeFormat:He(t)}};var dl=ns.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ns.format=dl.numberFormat,ns.geo={},un.prototype={s:0,t:0,add:function(t){cn(t,this.t,gl),cn(gl.s,this.s,this),this.s?this.t+=gl.t:this.s=gl.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var gl=new un;ns.geo.stream=function(t,e){t&&ml.hasOwnProperty(t.type)?ml[t.type](t,e):fn(t,e)};var ml={Feature:function(t,e){fn(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)fn(n[r].geometry,e)}},vl={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){hn(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)hn(n[r],e,0)},Polygon:function(t,e){pn(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)pn(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)fn(n[r],e)}};ns.geo.area=function(t){return yl=0,ns.geo.stream(t,wl),yl};var yl,bl=new un,wl={sphere:function(){yl+=4*Fs},point:x,lineStart:x,lineEnd:x,polygonStart:function(){bl.reset(),wl.lineStart=dn},polygonEnd:function(){var t=2*bl;yl+=0>t?4*Fs+t:t,wl.lineStart=wl.lineEnd=wl.point=x}};ns.geo.bounds=function(){function t(t,e){b.push(w=[c=t,h=t]),f>e&&(f=e),e>p&&(p=e)}function e(e,n){var r=gn([e*Is,n*Is]);if(v){var i=vn(v,r),o=[i[1],-i[0],0],a=vn(o,i);wn(a),a=xn(a);var l=e-d,u=l>0?1:-1,g=a[0]*Ns*u,m=ds(l)>180;if(m^(g>u*d&&u*e>g)){var y=a[1]*Ns;y>p&&(p=y)}else if(g=(g+360)%360-180,m^(g>u*d&&u*e>g)){var y=-a[1]*Ns;f>y&&(f=y)}else f>n&&(f=n),n>p&&(p=n);m?d>e?s(c,e)>s(c,h)&&(h=e):s(e,h)>s(c,h)&&(c=e):h>=c?(c>e&&(c=e),e>h&&(h=e)):e>d?s(c,e)>s(c,h)&&(h=e):s(e,h)>s(c,h)&&(c=e)}else t(e,n);v=r,d=e}function n(){x.point=e}function r(){w[0]=c,w[1]=h,x.point=t,v=null}function i(t,n){if(v){var r=t-d;y+=ds(r)>180?r+(r>0?360:-360):r}else g=t,m=n;wl.point(t,n),e(t,n)}function o(){wl.lineStart()}function a(){i(g,m),wl.lineEnd(),ds(y)>Es&&(c=-(h=180)),w[0]=c,w[1]=h,v=null}function s(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function u(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,f,h,p,d,g,m,v,y,b,w,x={point:t,lineStart:n,lineEnd:r,polygonStart:function(){x.point=i,x.lineStart=o,x.lineEnd=a,y=0,wl.polygonStart()},polygonEnd:function(){wl.polygonEnd(),x.point=t,x.lineStart=n,x.lineEnd=r,0>bl?(c=-(h=180),f=-(p=90)):y>Es?p=90:-Es>y&&(f=-90),w[0]=c,w[1]=h}};return function(t){p=h=-(c=f=1/0),b=[],ns.geo.stream(t,x);var e=b.length;if(e){b.sort(l);for(var n,r=1,i=b[0],o=[i];e>r;++r)n=b[r],u(n[0],i)||u(n[1],i)?(s(i[0],n[1])>s(i[0],i[1])&&(i[1]=n[1]),s(n[0],i[1])>s(i[0],i[1])&&(i[0]=n[0])):o.push(i=n);for(var a,n,d=-1/0,e=o.length-1,r=0,i=o[e];e>=r;i=n,++r)n=o[r],(a=s(i[1],n[0]))>d&&(d=a,c=n[0],h=i[1])}return b=w=null,1/0===c||1/0===f?[[0/0,0/0],[0/0,0/0]]:[[c,f],[h,p]]}}(),ns.geo.centroid=function(t){xl=$l=Cl=Sl=kl=Tl=Ml=_l=Al=El=Dl=0,ns.geo.stream(t,Fl);var e=Al,n=El,r=Dl,i=e*e+n*n+r*r;return Ds>i&&(e=Tl,n=Ml,r=_l,Es>$l&&(e=Cl,n=Sl,r=kl),i=e*e+n*n+r*r,Ds>i)?[0/0,0/0]:[Math.atan2(n,e)*Ns,ee(r/Math.sqrt(i))*Ns]};var xl,$l,Cl,Sl,kl,Tl,Ml,_l,Al,El,Dl,Fl={sphere:x,point:Cn,lineStart:kn,lineEnd:Tn,polygonStart:function(){Fl.lineStart=Mn},polygonEnd:function(){Fl.lineStart=kn}},Ol=On(An,Nn,Rn,[-Fs,-Fs/2]),Pl=1e9;ns.geo.clipExtent=function(){var t,e,n,r,i,o,a={stream:function(t){return i&&(i.valid=!1),i=o(t),i.valid=!0,i},extent:function(s){return arguments.length?(o=qn(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),a):[[t,e],[n,r]]}};return a.extent([[0,0],[960,500]])},(ns.geo.conicEqualArea=function(){return Wn(Vn)}).raw=Vn,ns.geo.albers=function(){return ns.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ns.geo.albersUsa=function(){function t(t){var o=t[0],a=t[1];return e=null,n(o,a),e||(r(o,a),e)||i(o,a),e}var e,n,r,i,o=ns.geo.albers(),a=ns.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=ns.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&.234>i&&r>=-.425&&-.214>r?a:i>=.166&&.234>i&&r>=-.214&&-.115>r?s:o).invert(t)},t.stream=function(t){var e=o.stream(t),n=a.stream(t),r=s.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),r.point(t,i)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},t.precision=function(e){return arguments.length?(o.precision(e),a.precision(e),s.precision(e),t):o.precision()},t.scale=function(e){return arguments.length?(o.scale(e),a.scale(.35*e),s.scale(e),t.translate(o.translate())):o.scale()},t.translate=function(e){if(!arguments.length)return o.translate();var u=o.scale(),c=+e[0],f=+e[1];return n=o.translate(e).clipExtent([[c-.455*u,f-.238*u],[c+.455*u,f+.238*u]]).stream(l).point,r=a.translate([c-.307*u,f+.201*u]).clipExtent([[c-.425*u+Es,f+.12*u+Es],[c-.214*u-Es,f+.234*u-Es]]).stream(l).point,i=s.translate([c-.205*u,f+.212*u]).clipExtent([[c-.214*u+Es,f+.166*u+Es],[c-.115*u-Es,f+.234*u-Es]]).stream(l).point,t},t.scale(1070)};var Ll,Il,Nl,jl,Rl,zl,Hl={point:x,lineStart:x,lineEnd:x,polygonStart:function(){Il=0,Hl.lineStart=Un},polygonEnd:function(){Hl.lineStart=Hl.lineEnd=Hl.point=x,Ll+=ds(Il/2)}},Bl={point:Yn,lineStart:x,lineEnd:x,polygonStart:x,polygonEnd:x},ql={point:Kn,lineStart:Qn,lineEnd:Zn,polygonStart:function(){ql.lineStart=Jn},polygonEnd:function(){ql.point=Kn,ql.lineStart=Qn,ql.lineEnd=Zn}};ns.geo.path=function(){function t(t){return t&&("function"==typeof s&&o.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=i(o)),ns.geo.stream(t,a)),o.result()}function e(){return a=null,t}var n,r,i,o,a,s=4.5;return t.area=function(t){return Ll=0,ns.geo.stream(t,i(Hl)),Ll},t.centroid=function(t){return Cl=Sl=kl=Tl=Ml=_l=Al=El=Dl=0,ns.geo.stream(t,i(ql)),Dl?[Al/Dl,El/Dl]:_l?[Tl/_l,Ml/_l]:kl?[Cl/kl,Sl/kl]:[0/0,0/0]},t.bounds=function(t){return Rl=zl=-(Nl=jl=1/0),ns.geo.stream(t,i(Bl)),[[Nl,jl],[Rl,zl]]},t.projection=function(t){return arguments.length?(i=(n=t)?t.stream||nr(t):y,e()):n},t.context=function(t){return arguments.length?(o=null==(r=t)?new Gn:new tr(t),"function"!=typeof s&&o.pointRadius(s),e()):r},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(o.pointRadius(+e),+e),t):s},t.projection(ns.geo.albersUsa()).context(null)},ns.geo.transform=function(t){return{stream:function(e){var n=new rr(e);for(var r in t)n[r]=t[r];return n}}},rr.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ns.geo.projection=or,ns.geo.projectionMutator=ar,(ns.geo.equirectangular=function(){return or(lr)}).raw=lr.invert=lr,ns.geo.rotation=function(t){function e(e){return e=t(e[0]*Is,e[1]*Is),e[0]*=Ns,e[1]*=Ns,e}return t=cr(t[0]%360*Is,t[1]*Is,t.length>2?t[2]*Is:0),e.invert=function(e){return e=t.invert(e[0]*Is,e[1]*Is),e[0]*=Ns,e[1]*=Ns,e},e},ur.invert=lr,ns.geo.circle=function(){function t(){var t="function"==typeof r?r.apply(this,arguments):r,e=cr(-t[0]*Is,-t[1]*Is,0).invert,i=[];return n(null,null,1,{point:function(t,n){i.push(t=e(t,n)),t[0]*=Ns,t[1]*=Ns}}),{type:"Polygon",coordinates:[i]}}var e,n,r=[0,0],i=6;return t.origin=function(e){return arguments.length?(r=e,t):r},t.angle=function(r){return arguments.length?(n=dr((e=+r)*Is,i*Is),t):e},t.precision=function(r){return arguments.length?(n=dr(e*Is,(i=+r)*Is),t):i},t.angle(90)},ns.geo.distance=function(t,e){var n,r=(e[0]-t[0])*Is,i=t[1]*Is,o=e[1]*Is,a=Math.sin(r),s=Math.cos(r),l=Math.sin(i),u=Math.cos(i),c=Math.sin(o),f=Math.cos(o);return Math.atan2(Math.sqrt((n=f*a)*n+(n=u*c-l*f*s)*n),l*c+u*f*s)},ns.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return ns.range(Math.ceil(o/m)*m,i,m).map(h).concat(ns.range(Math.ceil(u/v)*v,l,v).map(p)).concat(ns.range(Math.ceil(r/d)*d,n,d).filter(function(t){return ds(t%m)>Es}).map(c)).concat(ns.range(Math.ceil(s/g)*g,a,g).filter(function(t){return ds(t%v)>Es}).map(f))}var n,r,i,o,a,s,l,u,c,f,h,p,d=10,g=d,m=90,v=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[h(o).concat(p(l).slice(1),h(i).reverse().slice(1),p(u).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(o=+e[0][0],i=+e[1][0],u=+e[0][1],l=+e[1][1],o>i&&(e=o,o=i,i=e),u>l&&(e=u,u=l,l=e),t.precision(y)):[[o,u],[i,l]]},t.minorExtent=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(y)):[[r,s],[n,a]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(m=+e[0],v=+e[1],t):[m,v]},t.minorStep=function(e){return arguments.length?(d=+e[0],g=+e[1],t):[d,g]},t.precision=function(e){return arguments.length?(y=+e,c=mr(s,a,90),f=vr(r,n,y),h=mr(u,l,90),p=vr(o,i,y),t):y},t.majorExtent([[-180,-90+Es],[180,90-Es]]).minorExtent([[-180,-80-Es],[180,80+Es]])},ns.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||i.apply(this,arguments)]}}var e,n,r=yr,i=br;return t.distance=function(){return ns.geo.distance(e||r.apply(this,arguments),n||i.apply(this,arguments))},t.source=function(n){return arguments.length?(r=n,e="function"==typeof n?null:n,t):r},t.target=function(e){return arguments.length?(i=e,n="function"==typeof e?null:e,t):i},t.precision=function(){return arguments.length?t:0},t},ns.geo.interpolate=function(t,e){return wr(t[0]*Is,t[1]*Is,e[0]*Is,e[1]*Is)},ns.geo.length=function(t){return Wl=0,ns.geo.stream(t,Vl),Wl};var Wl,Vl={sphere:x,point:x,lineStart:xr,lineEnd:x,polygonStart:x,polygonEnd:x},Ul=$r(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(ns.geo.azimuthalEqualArea=function(){return or(Ul)}).raw=Ul;var Yl=$r(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},y);(ns.geo.azimuthalEquidistant=function(){return or(Yl)}).raw=Yl,(ns.geo.conicConformal=function(){return Wn(Cr)}).raw=Cr,(ns.geo.conicEquidistant=function(){return Wn(Sr)}).raw=Sr;var Gl=$r(function(t){return 1/t},Math.atan);(ns.geo.gnomonic=function(){return or(Gl)}).raw=Gl,kr.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Ls]},(ns.geo.mercator=function(){return Tr(kr)}).raw=kr;var Xl=$r(function(){return 1},Math.asin);(ns.geo.orthographic=function(){return or(Xl)}).raw=Xl;var Kl=$r(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(ns.geo.stereographic=function(){return or(Kl)}).raw=Kl,Mr.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Ls]},(ns.geo.transverseMercator=function(){var t=Tr(Mr),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=Mr,ns.geom={},ns.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,i=Te(n),o=Te(r),a=t.length,s=[],l=[];for(e=0;a>e;e++)s.push([+i.call(this,t[e],e),+o.call(this,t[e],e),e]);for(s.sort(Dr),e=0;a>e;e++)l.push([s[e][0],-s[e][1]]);var u=Er(s),c=Er(l),f=c[0]===u[0],h=c[c.length-1]===u[u.length-1],p=[];for(e=u.length-1;e>=0;--e)p.push(t[s[u[e]][2]]);for(e=+f;e<c.length-h;++e)p.push(t[s[c[e]][2]]);return p}var n=_r,r=Ar;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e)},ns.geom.polygon=function(t){return bs(t,Ql),t};var Ql=ns.geom.polygon.prototype=[];Ql.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},Ql.centroid=function(t){var e,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},Ql.clip=function(t){for(var e,n,r,i,o,a,s=Pr(t),l=-1,u=this.length-Pr(this),c=this[u-1];++l<u;){for(e=t.slice(),t.length=0,i=this[l],o=e[(r=e.length-s)-1],n=-1;++n<r;)a=e[n],Fr(a,c,i)?(Fr(o,c,i)||t.push(Or(o,a,c,i)),t.push(a)):Fr(o,c,i)&&t.push(Or(o,a,c,i)),o=a;s&&t.push(t[0]),c=i}return t};var Zl,Jl,tu,eu,nu,ru=[],iu=[];Br.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(Wr),e.length},ti.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ei.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=oi(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(ri(this,n),t=n,n=t.U),n.C=!1,r.C=!0,ii(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(ii(this,n),t=n,n=t.U),n.C=!1,r.C=!0,ri(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?oi(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if(e=i.R,e.C&&(e.C=!1,i.C=!0,ri(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ii(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,ri(this,i),t=this._;break}}else if(e=i.L,e.C&&(e.C=!1,i.C=!0,ii(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ri(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,ii(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},ns.geom.voronoi=function(t){function e(t){var e=new Array(t.length),r=s[0][0],i=s[0][1],o=s[1][0],a=s[1][1];return ai(n(t),s).cells.forEach(function(n,s){var l=n.edges,u=n.site,c=e[s]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):u.x>=r&&u.x<=o&&u.y>=i&&u.y<=a?[[r,a],[o,a],[o,i],[r,i]]:[];c.point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(o(t,e)/Es)*Es,y:Math.round(a(t,e)/Es)*Es,i:e}})}var r=_r,i=Ar,o=r,a=i,s=ou;return t?e(t):(e.links=function(t){return ai(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return ai(n(t)).cells.forEach(function(n,r){for(var i,o,a=n.site,s=n.edges.sort(Wr),l=-1,u=s.length,c=s[u-1].edge,f=c.l===a?c.r:c.l;++l<u;)i=c,o=f,c=s[l].edge,f=c.l===a?c.r:c.l,r<o.i&&r<f.i&&li(a,o,f)<0&&e.push([t[r],t[o.i],t[f.i]])}),e},e.x=function(t){return arguments.length?(o=Te(r=t),e):r},e.y=function(t){return arguments.length?(a=Te(i=t),e):i},e.clipExtent=function(t){return arguments.length?(s=null==t?ou:t,e):s===ou?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===ou?null:s&&s[1]},e)};var ou=[[-1e6,-1e6],[1e6,1e6]];ns.geom.delaunay=function(t){return ns.geom.voronoi().triangles(t)},ns.geom.quadtree=function(t,e,n,r,i){function o(t){function o(t,e,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(ds(l-n)+ds(c-r)<.01)u(t,e,n,r,i,o,a,s);else{var f=t.point;t.x=t.y=t.point=null,u(t,f,l,c,i,o,a,s),u(t,e,n,r,i,o,a,s)}else t.x=n,t.y=r,t.point=e}else u(t,e,n,r,i,o,a,s)}function u(t,e,n,r,i,a,s,l){var u=.5*(i+s),c=.5*(a+l),f=n>=u,h=r>=c,p=h<<1|f;t.leaf=!1,t=t.nodes[p]||(t.nodes[p]=fi()),f?i=u:s=u,h?a=c:l=c,o(t,e,n,r,i,a,s,l)}var c,f,h,p,d,g,m,v,y,b=Te(s),w=Te(l);if(null!=e)g=e,m=n,v=r,y=i;else if(v=y=-(g=m=1/0),f=[],h=[],d=t.length,a)for(p=0;d>p;++p)c=t[p],c.x<g&&(g=c.x),c.y<m&&(m=c.y),c.x>v&&(v=c.x),c.y>y&&(y=c.y),f.push(c.x),h.push(c.y);else for(p=0;d>p;++p){var x=+b(c=t[p],p),$=+w(c,p);g>x&&(g=x),m>$&&(m=$),x>v&&(v=x),$>y&&(y=$),f.push(x),h.push($)}var C=v-g,S=y-m;C>S?y=m+C:v=g+S;var k=fi();if(k.add=function(t){o(k,t,+b(t,++p),+w(t,p),g,m,v,y)},k.visit=function(t){hi(t,k,g,m,v,y)},k.find=function(t){return pi(k,t[0],t[1],g,m,v,y)},p=-1,null==e){for(;++p<d;)o(k,t[p],f[p],h[p],g,m,v,y);--p}else t.forEach(k.add);return f=h=t=c=null,k}var a,s=_r,l=Ar;return(a=arguments.length)?(s=ui,l=ci,3===a&&(i=n,r=e,n=e=0),o(t)):(o.x=function(t){return arguments.length?(s=t,o):s},o.y=function(t){return arguments.length?(l=t,o):l},o.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),o):null==e?null:[[e,n],[r,i]]},o.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),o):null==e?null:[r-e,i-n]},o)},ns.interpolateRgb=di,ns.interpolateObject=gi,ns.interpolateNumber=mi,ns.interpolateString=vi;var au=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,su=new RegExp(au.source,"g");ns.interpolate=yi,ns.interpolators=[function(t,e){var n=typeof e;return("string"===n?Zs.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?di:vi:e instanceof ae?di:Array.isArray(e)?bi:"object"===n&&isNaN(e)?gi:mi)(t,e)}],ns.interpolateArray=bi;var lu=function(){return y},uu=ns.map({linear:lu,poly:Ti,quad:function(){return Ci},cubic:function(){return Si},sin:function(){return Mi},exp:function(){return _i},circle:function(){return Ai},elastic:Ei,back:Di,bounce:function(){return Fi}}),cu=ns.map({"in":y,out:xi,"in-out":$i,"out-in":function(t){return $i(xi(t))}});ns.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=uu.get(n)||lu,r=cu.get(r)||y,wi(r(n.apply(null,rs.call(arguments,1))))},ns.interpolateHcl=Oi,ns.interpolateHsl=Pi,ns.interpolateLab=Li,ns.interpolateRound=Ii,ns.transform=function(t){var e=os.createElementNS(ns.ns.prefix.svg,"g");return(ns.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Ni(n?n.matrix:fu)})(t)},Ni.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var fu={a:1,b:0,c:0,d:1,e:0,f:0};ns.interpolateTransform=Hi,ns.layout={},ns.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(Wi(t[n]));return e}},ns.layout.chord=function(){function t(){var t,u,f,h,p,d={},g=[],m=ns.range(o),v=[];for(n=[],r=[],t=0,h=-1;++h<o;){for(u=0,p=-1;++p<o;)u+=i[h][p];g.push(u),v.push(ns.range(o)),t+=u}for(a&&m.sort(function(t,e){return a(g[t],g[e])}),s&&v.forEach(function(t,e){t.sort(function(t,n){return s(i[e][t],i[e][n])})}),t=(Os-c*o)/t,u=0,h=-1;++h<o;){for(f=u,p=-1;++p<o;){var y=m[h],b=v[y][p],w=i[y][b],x=u,$=u+=w*t;d[y+"-"+b]={index:y,subindex:b,startAngle:x,endAngle:$,value:w}}r[y]={index:y,startAngle:f,endAngle:u,value:(u-f)/t},u+=c}for(h=-1;++h<o;)for(p=h-1;++p<o;){var C=d[h+"-"+p],S=d[p+"-"+h];(C.value||S.value)&&n.push(C.value<S.value?{source:S,target:C}:{source:C,target:S})}l&&e()}function e(){n.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,r,i,o,a,s,l,u={},c=0;return u.matrix=function(t){return arguments.length?(o=(i=t)&&i.length,n=r=null,u):i},u.padding=function(t){return arguments.length?(c=t,n=r=null,u):c},u.sortGroups=function(t){return arguments.length?(a=t,n=r=null,u):a},u.sortSubgroups=function(t){return arguments.length?(s=t,n=null,u):s},u.sortChords=function(t){return arguments.length?(l=t,n&&e(),u):l},u.chords=function(){return n||t(),n},u.groups=function(){return r||t(),r},u},ns.layout.force=function(){function t(t){return function(e,n,r,i){if(e.point!==t){var o=e.cx-t.x,a=e.cy-t.y,s=i-n,l=o*o+a*a;if(l>s*s/m){if(d>l){var u=e.charge/l;t.px-=o*u,t.py-=a*u}return!0}if(e.point&&l&&d>l){var u=e.pointCharge/l;t.px-=o*u,t.py-=a*u}}return!e.charge}}function e(t){t.px=ns.event.x,t.py=ns.event.y,s.resume()}var n,r,i,o,a,s={},l=ns.dispatch("start","tick","end"),u=[1,1],c=.9,f=hu,h=pu,p=-30,d=du,g=.1,m=.64,v=[],b=[];return s.tick=function(){if((r*=.99)<.005)return l.end({type:"end",alpha:r=0}),!0;var e,n,s,f,h,d,m,y,w,x=v.length,$=b.length;for(n=0;$>n;++n)s=b[n],f=s.source,h=s.target,y=h.x-f.x,w=h.y-f.y,(d=y*y+w*w)&&(d=r*o[n]*((d=Math.sqrt(d))-i[n])/d,y*=d,w*=d,h.x-=y*(m=f.weight/(h.weight+f.weight)),h.y-=w*m,f.x+=y*(m=1-m),f.y+=w*m);if((m=r*g)&&(y=u[0]/2,w=u[1]/2,n=-1,m))for(;++n<x;)s=v[n],s.x+=(y-s.x)*m,s.y+=(w-s.y)*m;if(p)for(Qi(e=ns.geom.quadtree(v),r,a),n=-1;++n<x;)(s=v[n]).fixed||e.visit(t(s));for(n=-1;++n<x;)s=v[n],s.fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*c,s.y-=(s.py-(s.py=s.y))*c);l.tick({type:"tick",alpha:r})},s.nodes=function(t){return arguments.length?(v=t,s):v},s.links=function(t){return arguments.length?(b=t,s):b},s.size=function(t){return arguments.length?(u=t,s):u},s.linkDistance=function(t){return arguments.length?(f="function"==typeof t?t:+t,s):f},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(h="function"==typeof t?t:+t,s):h},s.friction=function(t){return arguments.length?(c=+t,s):c},s.charge=function(t){return arguments.length?(p="function"==typeof t?t:+t,s):p},s.chargeDistance=function(t){return arguments.length?(d=t*t,s):Math.sqrt(d)},s.gravity=function(t){return arguments.length?(g=+t,s):g},s.theta=function(t){return arguments.length?(m=t*t,s):Math.sqrt(m)},s.alpha=function(t){return arguments.length?(t=+t,r?r=t>0?t:0:t>0&&(l.start({type:"start",alpha:r=t}),ns.timer(s.tick)),s):r},s.start=function(){function t(t,r){if(!n){for(n=new Array(l),s=0;l>s;++s)n[s]=[];for(s=0;c>s;++s){var i=b[s];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var o,a=n[e],s=-1,u=a.length;++s<u;)if(!isNaN(o=a[s][t]))return o;return Math.random()*r}var e,n,r,l=v.length,c=b.length,d=u[0],g=u[1];for(e=0;l>e;++e)(r=v[e]).index=e,r.weight=0;for(e=0;c>e;++e)r=b[e],"number"==typeof r.source&&(r.source=v[r.source]),"number"==typeof r.target&&(r.target=v[r.target]),++r.source.weight,++r.target.weight;for(e=0;l>e;++e)r=v[e],isNaN(r.x)&&(r.x=t("x",d)),isNaN(r.y)&&(r.y=t("y",g)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof f)for(e=0;c>e;++e)i[e]=+f.call(this,b[e],e);else for(e=0;c>e;++e)i[e]=f;if(o=[],"function"==typeof h)for(e=0;c>e;++e)o[e]=+h.call(this,b[e],e);else for(e=0;c>e;++e)o[e]=h;if(a=[],"function"==typeof p)for(e=0;l>e;++e)a[e]=+p.call(this,v[e],e);else for(e=0;l>e;++e)a[e]=p;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return n||(n=ns.behavior.drag().origin(y).on("dragstart.force",Yi).on("drag.force",e).on("dragend.force",Gi)),arguments.length?void this.on("mouseover.force",Xi).on("mouseout.force",Ki).call(n):n},ns.rebind(s,l,"on")};var hu=20,pu=1,du=1/0;ns.layout.hierarchy=function(){function t(i){var o,a=[i],s=[];for(i.depth=0;null!=(o=a.pop());)if(s.push(o),(u=n.call(t,o,o.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)a.push(c=u[l]),c.parent=o,c.depth=o.depth+1;r&&(o.value=0),o.children=u}else r&&(o.value=+r.call(t,o,o.depth)||0),delete o.children;return to(i,function(t){var n,i;e&&(n=t.children)&&n.sort(e),r&&(i=t.parent)&&(i.value+=t.value)}),s}var e=ro,n=eo,r=no;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(r=e,t):r},t.revalue=function(e){return r&&(Ji(e,function(t){t.children&&(t.value=0)}),to(e,function(e){var n;e.children||(e.value=+r.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},ns.layout.partition=function(){function t(e,n,r,i){var o=e.children;if(e.x=n,e.y=e.depth*i,e.dx=r,e.dy=i,o&&(a=o.length)){var a,s,l,u=-1;for(r=e.value?r/e.value:0;++u<a;)t(s=o[u],n,l=s.value*r,i),n+=l}}function e(t){var n=t.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,e(n[o]));return 1+r}function n(n,o){var a=r.call(this,n,o);return t(a[0],0,i[0],i[1]/e(a[0])),a}var r=ns.layout.hierarchy(),i=[1,1];return n.size=function(t){return arguments.length?(i=t,n):i},Zi(n,r)},ns.layout.pie=function(){function t(a){var s,l=a.length,u=a.map(function(n,r){return+e.call(t,n,r)}),c=+("function"==typeof r?r.apply(this,arguments):r),f=("function"==typeof i?i.apply(this,arguments):i)-c,h=Math.min(Math.abs(f)/l,+("function"==typeof o?o.apply(this,arguments):o)),p=h*(0>f?-1:1),d=(f-l*p)/ns.sum(u),g=ns.range(l),m=[];return null!=n&&g.sort(n===gu?function(t,e){return u[e]-u[t]}:function(t,e){return n(a[t],a[e])}),g.forEach(function(t){m[t]={data:a[t],value:s=u[t],startAngle:c,endAngle:c+=s*d+p,padAngle:h}}),m}var e=Number,n=gu,r=0,i=Os,o=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(r=e,t):r},t.endAngle=function(e){return arguments.length?(i=e,t):i},t.padAngle=function(e){return arguments.length?(o=e,t):o},t};var gu={};ns.layout.stack=function(){function t(s,l){if(!(h=s.length))return s;var u=s.map(function(n,r){return e.call(t,n,r)}),c=u.map(function(e){return e.map(function(e,n){return[o.call(t,e,n),a.call(t,e,n)]})}),f=n.call(t,c,l);u=ns.permute(u,f),c=ns.permute(c,f);var h,p,d,g,m=r.call(t,c,l),v=u[0].length;for(d=0;v>d;++d)for(i.call(t,u[0][d],g=m[d],c[0][d][1]),p=1;h>p;++p)i.call(t,u[p][d],g+=c[p-1][d][1],c[p][d][1]);return s}var e=y,n=lo,r=uo,i=so,o=oo,a=ao;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:mu.get(e)||lo,t):n},t.offset=function(e){return arguments.length?(r="function"==typeof e?e:vu.get(e)||uo,t):r},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(a=e,t):a},t.out=function(e){return arguments.length?(i=e,t):i},t};var mu=ns.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(co),o=t.map(fo),a=ns.range(r).sort(function(t,e){return i[t]-i[e]}),s=0,l=0,u=[],c=[];for(e=0;r>e;++e)n=a[e],l>s?(s+=o[n],u.push(n)):(l+=o[n],c.push(n));return c.reverse().concat(u)},reverse:function(t){return ns.range(t.length).reverse()},"default":lo}),vu=ns.map({silhouette:function(t){var e,n,r,i=t.length,o=t[0].length,a=[],s=0,l=[];for(n=0;o>n;++n){for(e=0,r=0;i>e;e++)r+=t[e][n][1];r>s&&(s=r),a.push(r)}for(n=0;o>n;++n)l[n]=(s-a[n])/2;return l},wiggle:function(t){var e,n,r,i,o,a,s,l,u,c=t.length,f=t[0],h=f.length,p=[];for(p[0]=l=u=0,n=1;h>n;++n){for(e=0,i=0;c>e;++e)i+=t[e][n][1];for(e=0,o=0,s=f[n][0]-f[n-1][0];c>e;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);e>r;++r)a+=(t[r][n][1]-t[r][n-1][1])/s;o+=a*t[e][n][1]}p[n]=l-=i?o/i*s:0,u>l&&(u=l)}for(n=0;h>n;++n)p[n]-=u;return p},expand:function(t){var e,n,r,i=t.length,o=t[0].length,a=1/i,s=[];for(n=0;o>n;++n){for(e=0,r=0;i>e;e++)r+=t[e][n][1];if(r)for(e=0;i>e;e++)t[e][n][1]/=r;else for(e=0;i>e;e++)t[e][n][1]=a}for(n=0;o>n;++n)s[n]=0;return s},zero:uo});ns.layout.histogram=function(){function t(t,o){for(var a,s,l=[],u=t.map(n,this),c=r.call(this,u,o),f=i.call(this,c,u,o),o=-1,h=u.length,p=f.length-1,d=e?1:1/h;++o<p;)a=l[o]=[],a.dx=f[o+1]-(a.x=f[o]),a.y=0;if(p>0)for(o=-1;++o<h;)s=u[o],s>=c[0]&&s<=c[1]&&(a=l[ns.bisect(f,s,1,p)-1],a.y+=d,a.push(t[o]));return l}var e=!0,n=Number,r=mo,i=po;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(r=Te(e),t):r},t.bins=function(e){return arguments.length?(i="number"==typeof e?function(t){return go(t,e)}:Te(e),t):i},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},ns.layout.pack=function(){function t(t,o){var a=n.call(this,t,o),s=a[0],l=i[0],u=i[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,to(s,function(t){t.r=+c(t.value)}),to(s,xo),r){var f=r*(e?1:Math.max(2*s.r/l,2*s.r/u))/2;to(s,function(t){t.r+=f}),to(s,xo),to(s,function(t){t.r-=f})}return So(s,l/2,u/2,e?1:1/Math.max(2*s.r/l,2*s.r/u)),a}var e,n=ns.layout.hierarchy().sort(vo),r=0,i=[1,1];return t.size=function(e){return arguments.length?(i=e,t):i},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(r=+e,t):r},Zi(t,n)},ns.layout.tree=function(){function t(t,i){var c=a.call(this,t,i),f=c[0],h=e(f);if(to(h,n),h.parent.m=-h.z,Ji(h,r),u)Ji(f,o);else{var p=f,d=f,g=f;Ji(f,function(t){t.x<p.x&&(p=t),t.x>d.x&&(d=t),t.depth>g.depth&&(g=t)});var m=s(p,d)/2-p.x,v=l[0]/(d.x+s(d,p)/2+m),y=l[1]/(g.depth||1);Ji(f,function(t){t.x=(t.x+m)*v,t.y=t.depth*y})}return c}function e(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var i,o=e.children,a=0,s=o.length;s>a;++a)r.push((o[a]=i={_:o[a],parent:e,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e.length){Eo(t);var o=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+s(t._,r._),t.m=t.z-o):t.z=o}else r&&(t.z=r.z+s(t._,r._));t.parent.A=i(t,r,t.parent.A||n[0])}function r(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function i(t,e,n){if(e){for(var r,i=t,o=t,a=e,l=i.parent.children[0],u=i.m,c=o.m,f=a.m,h=l.m;a=_o(a),i=Mo(i),a&&i;)l=Mo(l),o=_o(o),o.a=t,r=a.z+f-i.z-u+s(a._,i._),r>0&&(Ao(Do(a,t,n),t,r),u+=r,c+=r),f+=a.m,u+=i.m,h+=l.m,c+=o.m;a&&!_o(o)&&(o.t=a,o.m+=f-c),i&&!Mo(l)&&(l.t=i,l.m+=u-h,n=t)}return n}function o(t){t.x*=l[0],t.y=t.depth*l[1]}var a=ns.layout.hierarchy().sort(null).value(null),s=To,l=[1,1],u=null;
return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(u=null==(l=e)?o:null,t):u?null:l},t.nodeSize=function(e){return arguments.length?(u=null==(l=e)?null:o,t):u?l:null},Zi(t,a)},ns.layout.cluster=function(){function t(t,o){var a,s=e.call(this,t,o),l=s[0],u=0;to(l,function(t){var e=t.children;e&&e.length?(t.x=Oo(e),t.y=Fo(e)):(t.x=a?u+=n(t,a):0,t.y=0,a=t)});var c=Po(l),f=Lo(l),h=c.x-n(c,f)/2,p=f.x+n(f,c)/2;return to(l,i?function(t){t.x=(t.x-l.x)*r[0],t.y=(l.y-t.y)*r[1]}:function(t){t.x=(t.x-h)/(p-h)*r[0],t.y=(1-(l.y?t.y/l.y:1))*r[1]}),s}var e=ns.layout.hierarchy().sort(null).value(null),n=To,r=[1,1],i=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(i=null==(r=e),t):i?null:r},t.nodeSize=function(e){return arguments.length?(i=null!=(r=e),t):i?r:null},Zi(t,e)},ns.layout.treemap=function(){function t(t,e){for(var n,r,i=-1,o=t.length;++i<o;)r=(n=t[i]).value*(0>e?0:e),n.area=isNaN(r)||0>=r?0:r}function e(n){var o=n.children;if(o&&o.length){var a,s,l,u=f(n),c=[],h=o.slice(),d=1/0,g="slice"===p?u.dx:"dice"===p?u.dy:"slice-dice"===p?1&n.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(t(h,u.dx*u.dy/n.value),c.area=0;(l=h.length)>0;)c.push(a=h[l-1]),c.area+=a.area,"squarify"!==p||(s=r(c,g))<=d?(h.pop(),d=s):(c.area-=c.pop().area,i(c,g,u,!1),g=Math.min(u.dx,u.dy),c.length=c.area=0,d=1/0);c.length&&(i(c,g,u,!0),c.length=c.area=0),o.forEach(e)}}function n(e){var r=e.children;if(r&&r.length){var o,a=f(e),s=r.slice(),l=[];for(t(s,a.dx*a.dy/e.value),l.area=0;o=s.pop();)l.push(o),l.area+=o.area,null!=o.z&&(i(l,o.z?a.dx:a.dy,a,!s.length),l.length=l.area=0);r.forEach(n)}}function r(t,e){for(var n,r=t.area,i=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(o>n&&(o=n),n>i&&(i=n));return r*=r,e*=e,r?Math.max(e*i*d/r,r/(e*o*d)):1/0}function i(t,e,n,r){var i,o=-1,a=t.length,s=n.x,u=n.y,c=e?l(t.area/e):0;if(e==n.dx){for((r||c>n.dy)&&(c=n.dy);++o<a;)i=t[o],i.x=s,i.y=u,i.dy=c,s+=i.dx=Math.min(n.x+n.dx-s,c?l(i.area/c):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++o<a;)i=t[o],i.x=s,i.y=u,i.dx=c,u+=i.dy=Math.min(n.y+n.dy-u,c?l(i.area/c):0);i.z=!1,i.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function o(r){var i=a||s(r),o=i[0];return o.x=0,o.y=0,o.dx=u[0],o.dy=u[1],a&&s.revalue(o),t([o],o.dx*o.dy/o.value),(a?n:e)(o),h&&(a=i),i}var a,s=ns.layout.hierarchy(),l=Math.round,u=[1,1],c=null,f=Io,h=!1,p="squarify",d=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(u=t,o):u},o.padding=function(t){function e(e){var n=t.call(o,e,e.depth);return null==n?Io(e):No(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return No(e,t)}if(!arguments.length)return c;var r;return f=null==(c=t)?Io:"function"==(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n,o},o.round=function(t){return arguments.length?(l=t?Math.round:Number,o):l!=Number},o.sticky=function(t){return arguments.length?(h=t,a=null,o):h},o.ratio=function(t){return arguments.length?(d=t,o):d},o.mode=function(t){return arguments.length?(p=t+"",o):p},Zi(o,s)},ns.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,r,i;do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=ns.random.normal.apply(ns,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=ns.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e}}},ns.scale={};var yu={floor:y,ceil:y};ns.scale.linear=function(){return Wo([0,1],[0,1],yi,!1)};var bu={s:1,g:1,p:1,r:1,e:1};ns.scale.log=function(){return Zo(ns.scale.linear().domain([0,1]),10,!0,[1,10])};var wu=ns.format(".0e"),xu={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};ns.scale.pow=function(){return Jo(ns.scale.linear(),1,[0,1])},ns.scale.sqrt=function(){return ns.scale.pow().exponent(.5)},ns.scale.ordinal=function(){return ea([],{t:"range",a:[[]]})},ns.scale.category10=function(){return ns.scale.ordinal().range($u)},ns.scale.category20=function(){return ns.scale.ordinal().range(Cu)},ns.scale.category20b=function(){return ns.scale.ordinal().range(Su)},ns.scale.category20c=function(){return ns.scale.ordinal().range(ku)};var $u=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(be),Cu=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(be),Su=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(be),ku=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(be);ns.scale.quantile=function(){return na([],[])},ns.scale.quantize=function(){return ra(0,1,[0,1])},ns.scale.threshold=function(){return ia([.5],[0,1])},ns.scale.identity=function(){return oa([0,1])},ns.svg={},ns.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),u=Math.max(0,+r.apply(this,arguments)),c=a.apply(this,arguments)-Ls,f=s.apply(this,arguments)-Ls,h=Math.abs(f-c),p=c>f?0:1;if(t>u&&(d=u,u=t,t=d),h>=Ps)return e(u,p)+(t?e(t,1-p):"")+"Z";var d,g,m,v,y,b,w,x,$,C,S,k,T=0,M=0,_=[];if((v=(+l.apply(this,arguments)||0)/2)&&(m=o===Tu?Math.sqrt(t*t+u*u):+o.apply(this,arguments),p||(M*=-1),u&&(M=ee(m/u*Math.sin(v))),t&&(T=ee(m/t*Math.sin(v)))),u){y=u*Math.cos(c+M),b=u*Math.sin(c+M),w=u*Math.cos(f-M),x=u*Math.sin(f-M);var A=Math.abs(f-c-2*M)<=Fs?0:1;if(M&&ha(y,b,w,x)===p^A){var E=(c+f)/2;y=u*Math.cos(E),b=u*Math.sin(E),w=x=null}}else y=b=0;if(t){$=t*Math.cos(f-T),C=t*Math.sin(f-T),S=t*Math.cos(c+T),k=t*Math.sin(c+T);var D=Math.abs(c-f+2*T)<=Fs?0:1;if(T&&ha($,C,S,k)===1-p^D){var F=(c+f)/2;$=t*Math.cos(F),C=t*Math.sin(F),S=k=null}}else $=C=0;if((d=Math.min(Math.abs(u-t)/2,+i.apply(this,arguments)))>.001){g=u>t^p?0:1;var O=null==S?[$,C]:null==w?[y,b]:Or([y,b],[S,k],[w,x],[$,C]),P=y-O[0],L=b-O[1],I=w-O[0],N=x-O[1],j=1/Math.sin(Math.acos((P*I+L*N)/(Math.sqrt(P*P+L*L)*Math.sqrt(I*I+N*N)))/2),R=Math.sqrt(O[0]*O[0]+O[1]*O[1]);if(null!=w){var z=Math.min(d,(u-R)/(j+1)),H=pa(null==S?[$,C]:[S,k],[y,b],u,z,p),B=pa([w,x],[$,C],u,z,p);d===z?_.push("M",H[0],"A",z,",",z," 0 0,",g," ",H[1],"A",u,",",u," 0 ",1-p^ha(H[1][0],H[1][1],B[1][0],B[1][1]),",",p," ",B[1],"A",z,",",z," 0 0,",g," ",B[0]):_.push("M",H[0],"A",z,",",z," 0 1,",g," ",B[0])}else _.push("M",y,",",b);if(null!=S){var q=Math.min(d,(t-R)/(j-1)),W=pa([y,b],[S,k],t,-q,p),V=pa([$,C],null==w?[y,b]:[w,x],t,-q,p);d===q?_.push("L",V[0],"A",q,",",q," 0 0,",g," ",V[1],"A",t,",",t," 0 ",p^ha(V[1][0],V[1][1],W[1][0],W[1][1]),",",1-p," ",W[1],"A",q,",",q," 0 0,",g," ",W[0]):_.push("L",V[0],"A",q,",",q," 0 0,",g," ",W[0])}else _.push("L",$,",",C)}else _.push("M",y,",",b),null!=w&&_.push("A",u,",",u," 0 ",A,",",p," ",w,",",x),_.push("L",$,",",C),null!=S&&_.push("A",t,",",t," 0 ",D,",",1-p," ",S,",",k);return _.push("Z"),_.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=sa,r=la,i=aa,o=Tu,a=ua,s=ca,l=fa;return t.innerRadius=function(e){return arguments.length?(n=Te(e),t):n},t.outerRadius=function(e){return arguments.length?(r=Te(e),t):r},t.cornerRadius=function(e){return arguments.length?(i=Te(e),t):i},t.padRadius=function(e){return arguments.length?(o=e==Tu?Tu:Te(e),t):o},t.startAngle=function(e){return arguments.length?(a=Te(e),t):a},t.endAngle=function(e){return arguments.length?(s=Te(e),t):s},t.padAngle=function(e){return arguments.length?(l=Te(e),t):l},t.centroid=function(){var t=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,e=(+a.apply(this,arguments)+ +s.apply(this,arguments))/2-Ls;return[Math.cos(e)*t,Math.sin(e)*t]},t};var Tu="auto";ns.svg.line=function(){return da(y)};var Mu=ns.map({linear:ga,"linear-closed":ma,step:va,"step-before":ya,"step-after":ba,basis:ka,"basis-open":Ta,"basis-closed":Ma,bundle:_a,cardinal:$a,"cardinal-open":wa,"cardinal-closed":xa,monotone:Pa});Mu.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var _u=[0,2/3,1/3,0],Au=[0,1/3,2/3,0],Eu=[0,1/6,2/3,1/6];ns.svg.line.radial=function(){var t=da(La);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},ya.reverse=ba,ba.reverse=ya,ns.svg.area=function(){return Ia(y)},ns.svg.area.radial=function(){var t=Ia(La);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},ns.svg.chord=function(){function t(t,s){var l=e(this,o,t,s),u=e(this,a,t,s);return"M"+l.p0+r(l.r,l.p1,l.a1-l.a0)+(n(l,u)?i(l.r,l.p1,l.r,l.p0):i(l.r,l.p1,u.r,u.p0)+r(u.r,u.p1,u.a1-u.a0)+i(u.r,u.p1,l.r,l.p0))+"Z"}function e(t,e,n,r){var i=e.call(t,n,r),o=s.call(t,i,r),a=l.call(t,i,r)-Ls,c=u.call(t,i,r)-Ls;return{r:o,a0:a,a1:c,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(c),o*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function r(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Fs)+",1 "+e}function i(t,e,n,r){return"Q 0,0 "+r}var o=yr,a=br,s=Na,l=ua,u=ca;return t.radius=function(e){return arguments.length?(s=Te(e),t):s},t.source=function(e){return arguments.length?(o=Te(e),t):o},t.target=function(e){return arguments.length?(a=Te(e),t):a},t.startAngle=function(e){return arguments.length?(l=Te(e),t):l},t.endAngle=function(e){return arguments.length?(u=Te(e),t):u},t},ns.svg.diagonal=function(){function t(t,i){var o=e.call(this,t,i),a=n.call(this,t,i),s=(o.y+a.y)/2,l=[o,{x:o.x,y:s},{x:a.x,y:s},a];return l=l.map(r),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=yr,n=br,r=ja;return t.source=function(n){return arguments.length?(e=Te(n),t):e},t.target=function(e){return arguments.length?(n=Te(e),t):n},t.projection=function(e){return arguments.length?(r=e,t):r},t},ns.svg.diagonal.radial=function(){var t=ns.svg.diagonal(),e=ja,n=t.projection;return t.projection=function(t){return arguments.length?n(Ra(e=t)):e},t},ns.svg.symbol=function(){function t(t,r){return(Du.get(e.call(this,t,r))||Ba)(n.call(this,t,r))}var e=Ha,n=za;return t.type=function(n){return arguments.length?(e=Te(n),t):e},t.size=function(e){return arguments.length?(n=Te(e),t):n},t};var Du=ns.map({circle:Ba,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Ou)),n=e*Ou;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Fu),n=e*Fu/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Fu),n=e*Fu/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});ns.svg.symbolTypes=Du.keys();var Fu=Math.sqrt(3),Ou=Math.tan(30*Is);Cs.transition=function(t){for(var e,n,r=Pu||++ju,i=Ya(t),o=[],a=Lu||{time:Date.now(),ease:ki,delay:0,duration:250},s=-1,l=this.length;++s<l;){o.push(e=[]);for(var u=this[s],c=-1,f=u.length;++c<f;)(n=u[c])&&Ga(n,c,i,r,a),e.push(n)}return Wa(o,i,r)},Cs.interrupt=function(t){return this.each(null==t?Iu:qa(Ya(t)))};var Pu,Lu,Iu=qa(Ya()),Nu=[],ju=0;Nu.call=Cs.call,Nu.empty=Cs.empty,Nu.node=Cs.node,Nu.size=Cs.size,ns.transition=function(t,e){return t&&t.transition?Pu?t.transition(e):t:ns.selection().transition(t)},ns.transition.prototype=Nu,Nu.select=function(t){var e,n,r,i=this.id,o=this.namespace,a=[];t=_(t);for(var s=-1,l=this.length;++s<l;){a.push(e=[]);for(var u=this[s],c=-1,f=u.length;++c<f;)(r=u[c])&&(n=t.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),Ga(n,c,o,i,r[o][i]),e.push(n)):e.push(null)}return Wa(a,o,i)},Nu.selectAll=function(t){var e,n,r,i,o,a=this.id,s=this.namespace,l=[];t=A(t);for(var u=-1,c=this.length;++u<c;)for(var f=this[u],h=-1,p=f.length;++h<p;)if(r=f[h]){o=r[s][a],n=t.call(r,r.__data__,h,u),l.push(e=[]);for(var d=-1,g=n.length;++d<g;)(i=n[d])&&Ga(i,d,s,a,o),e.push(i)}return Wa(l,s,a)},Nu.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=H(t));for(var o=0,a=this.length;a>o;o++){i.push(e=[]);for(var n=this[o],s=0,l=n.length;l>s;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return Wa(i,this.namespace,this.id)},Nu.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):q(this,null==e?function(e){e[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})},Nu.attr=function(t,e){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function i(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=a(n,t),function(t){this.setAttribute(s,e(t))})})}function o(t){return null==t?r:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=a(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?Hi:yi,s=ns.ns.qualify(t);return Va(this,"attr."+t,e,s.local?o:i)},Nu.attrTween=function(t,e){function n(t,n){var r=e.call(this,t,n,this.getAttribute(i));return r&&function(t){this.setAttribute(i,r(t))}}function r(t,n){var r=e.call(this,t,n,this.getAttributeNS(i.space,i.local));return r&&function(t){this.setAttributeNS(i.space,i.local,r(t))}}var i=ns.ns.qualify(t);return this.tween("attr."+t,i.local?r:n)},Nu.style=function(t,n,r){function i(){this.style.removeProperty(t)}function o(n){return null==n?i:(n+="",function(){var i,o=e(this).getComputedStyle(this,null).getPropertyValue(t);return o!==n&&(i=yi(o,n),function(e){this.style.setProperty(t,i(e),r)})})}var a=arguments.length;if(3>a){if("string"!=typeof t){2>a&&(n="");for(r in t)this.style(r,t[r],n);return this}r=""}return Va(this,"style."+t,n,o)},Nu.styleTween=function(t,n,r){function i(i,o){var a=n.call(this,i,o,e(this).getComputedStyle(this,null).getPropertyValue(t));return a&&function(e){this.style.setProperty(t,a(e),r)}}return arguments.length<3&&(r=""),this.tween("style."+t,i)},Nu.text=function(t){return Va(this,"text",t,Ua)},Nu.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Nu.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=ns.ease.apply(ns,arguments)),q(this,function(r){r[n][e].ease=t}))},Nu.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:q(this,"function"==typeof t?function(r,i,o){r[n][e].delay=+t.call(r,r.__data__,i,o)}:(t=+t,function(r){r[n][e].delay=t}))},Nu.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:q(this,"function"==typeof t?function(r,i,o){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,o))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},Nu.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var i=Lu,o=Pu;try{Pu=n,q(this,function(e,i,o){Lu=e[r][n],t.call(e,e.__data__,i,o)})}finally{Lu=i,Pu=o}}else q(this,function(i){var o=i[r][n];(o.event||(o.event=ns.dispatch("start","end","interrupt"))).on(t,e)});return this},Nu.transition=function(){for(var t,e,n,r,i=this.id,o=++ju,a=this.namespace,s=[],l=0,u=this.length;u>l;l++){s.push(t=[]);for(var e=this[l],c=0,f=e.length;f>c;c++)(n=e[c])&&(r=n[a][i],Ga(n,c,a,o,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),t.push(n)}return Wa(s,a,o)},ns.svg.axis=function(){function t(t){t.each(function(){var t,u=ns.select(this),c=this.__chart__||n,f=this.__chart__=n.copy(),h=null==l?f.ticks?f.ticks.apply(f,s):f.domain():l,p=null==e?f.tickFormat?f.tickFormat.apply(f,s):y:e,d=u.selectAll(".tick").data(h,f),g=d.enter().insert("g",".domain").attr("class","tick").style("opacity",Es),m=ns.transition(d.exit()).style("opacity",Es).remove(),v=ns.transition(d.order()).style("opacity",1),b=Math.max(i,0)+a,w=Ro(f),x=u.selectAll(".domain").data([0]),$=(x.enter().append("path").attr("class","domain"),ns.transition(x));g.append("line"),g.append("text");var C,S,k,T,M=g.select("line"),_=v.select("line"),A=d.select("text").text(p),E=g.select("text"),D=v.select("text"),F="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(t=Xa,C="x",k="y",S="x2",T="y2",A.attr("dy",0>F?"0em":".71em").style("text-anchor","middle"),$.attr("d","M"+w[0]+","+F*o+"V0H"+w[1]+"V"+F*o)):(t=Ka,C="y",k="x",S="y2",T="x2",A.attr("dy",".32em").style("text-anchor",0>F?"end":"start"),$.attr("d","M"+F*o+","+w[0]+"H0V"+w[1]+"H"+F*o)),M.attr(T,F*i),E.attr(k,F*b),_.attr(S,0).attr(T,F*i),D.attr(C,0).attr(k,F*b),f.rangeBand){var O=f,P=O.rangeBand()/2;c=f=function(t){return O(t)+P}}else c.rangeBand?c=f:m.call(t,f,c);g.call(t,c,f),v.call(t,f,f)})}var e,n=ns.scale.linear(),r=Ru,i=6,o=6,a=3,s=[10],l=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(r=e in zu?e+"":Ru,t):r},t.ticks=function(){return arguments.length?(s=arguments,t):s},t.tickValues=function(e){return arguments.length?(l=e,t):l},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(i=+e,o=+arguments[n-1],t):i},t.innerTickSize=function(e){return arguments.length?(i=+e,t):i},t.outerTickSize=function(e){return arguments.length?(o=+e,t):o},t.tickPadding=function(e){return arguments.length?(a=+e,t):a},t.tickSubdivide=function(){return arguments.length&&t},t};var Ru="bottom",zu={top:1,right:1,bottom:1,left:1};ns.svg.brush=function(){function t(e){e.each(function(){var e=ns.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",o).on("touchstart.brush",o),a=e.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=e.selectAll(".resize").data(g,y);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Hu[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var l,f=ns.transition(e),h=ns.transition(a);u&&(l=Ro(u),h.attr("x",l[0]).attr("width",l[1]-l[0]),r(f)),c&&(l=Ro(c),h.attr("y",l[0]).attr("height",l[1]-l[0]),i(f)),n(f)})}function n(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+f[+/e$/.test(t)]+","+h[+/^s/.test(t)]+")"})}function r(t){t.select(".extent").attr("x",f[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",f[1]-f[0])}function i(t){t.select(".extent").attr("y",h[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",h[1]-h[0])}function o(){function o(){32==ns.event.keyCode&&(A||(b=null,D[0]-=f[1],D[1]-=h[1],A=2),S())}function g(){32==ns.event.keyCode&&2==A&&(D[0]+=f[1],D[1]+=h[1],A=0,S())}function m(){var t=ns.mouse(x),e=!1;w&&(t[0]+=w[0],t[1]+=w[1]),A||(ns.event.altKey?(b||(b=[(f[0]+f[1])/2,(h[0]+h[1])/2]),D[0]=f[+(t[0]<b[0])],D[1]=h[+(t[1]<b[1])]):b=null),M&&v(t,u,0)&&(r(k),e=!0),_&&v(t,c,1)&&(i(k),e=!0),e&&(n(k),C({type:"brush",mode:A?"move":"resize"}))}function v(t,e,n){var r,i,o=Ro(e),l=o[0],u=o[1],c=D[n],g=n?h:f,m=g[1]-g[0];return A&&(l-=c,u-=m+c),r=(n?d:p)?Math.max(l,Math.min(u,t[n])):t[n],A?i=(r+=c)+m:(b&&(c=Math.max(l,Math.min(u,2*b[n]-r))),r>c?(i=r,r=c):i=c),g[0]!=r||g[1]!=i?(n?s=null:a=null,g[0]=r,g[1]=i,!0):void 0}function y(){m(),k.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),ns.select("body").style("cursor",null),F.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),E(),C({type:"brushend"})}var b,w,x=this,$=ns.select(ns.event.target),C=l.of(x,arguments),k=ns.select(x),T=$.datum(),M=!/^(n|s)$/.test(T)&&u,_=!/^(e|w)$/.test(T)&&c,A=$.classed("extent"),E=X(x),D=ns.mouse(x),F=ns.select(e(x)).on("keydown.brush",o).on("keyup.brush",g);if(ns.event.changedTouches?F.on("touchmove.brush",m).on("touchend.brush",y):F.on("mousemove.brush",m).on("mouseup.brush",y),k.interrupt().selectAll("*").interrupt(),A)D[0]=f[0]-D[0],D[1]=h[0]-D[1];else if(T){var O=+/w$/.test(T),P=+/^n/.test(T);w=[f[1-O]-D[0],h[1-P]-D[1]],D[0]=f[O],D[1]=h[P]}else ns.event.altKey&&(b=D.slice());k.style("pointer-events","none").selectAll(".resize").style("display",null),ns.select("body").style("cursor",$.style("cursor")),C({type:"brushstart"}),m()}var a,s,l=T(t,"brushstart","brush","brushend"),u=null,c=null,f=[0,0],h=[0,0],p=!0,d=!0,g=Bu[0];return t.event=function(t){t.each(function(){var t=l.of(this,arguments),e={x:f,y:h,i:a,j:s},n=this.__chart__||e;this.__chart__=e,Pu?ns.select(this).transition().each("start.brush",function(){a=n.i,s=n.j,f=n.x,h=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=bi(f,e.x),r=bi(h,e.y);return a=s=null,function(i){f=e.x=n(i),h=e.y=r(i),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=e.i,s=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(u=e,g=Bu[!u<<1|!c],t):u},t.y=function(e){return arguments.length?(c=e,g=Bu[!u<<1|!c],t):c},t.clamp=function(e){return arguments.length?(u&&c?(p=!!e[0],d=!!e[1]):u?p=!!e:c&&(d=!!e),t):u&&c?[p,d]:u?p:c?d:null},t.extent=function(e){var n,r,i,o,l;return arguments.length?(u&&(n=e[0],r=e[1],c&&(n=n[0],r=r[0]),a=[n,r],u.invert&&(n=u(n),r=u(r)),n>r&&(l=n,n=r,r=l),(n!=f[0]||r!=f[1])&&(f=[n,r])),c&&(i=e[0],o=e[1],u&&(i=i[1],o=o[1]),s=[i,o],c.invert&&(i=c(i),o=c(o)),i>o&&(l=i,i=o,o=l),(i!=h[0]||o!=h[1])&&(h=[i,o])),t):(u&&(a?(n=a[0],r=a[1]):(n=f[0],r=f[1],u.invert&&(n=u.invert(n),r=u.invert(r)),n>r&&(l=n,n=r,r=l))),c&&(s?(i=s[0],o=s[1]):(i=h[0],o=h[1],c.invert&&(i=c.invert(i),o=c.invert(o)),i>o&&(l=i,i=o,o=l))),u&&c?[[n,i],[r,o]]:u?[n,r]:c&&[i,o])},t.clear=function(){return t.empty()||(f=[0,0],h=[0,0],a=s=null),t},t.empty=function(){return!!u&&f[0]==f[1]||!!c&&h[0]==h[1]},ns.rebind(t,l,"on")};var Hu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Bu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],qu=ll.format=dl.timeFormat,Wu=qu.utc,Vu=Wu("%Y-%m-%dT%H:%M:%S.%LZ");qu.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Qa:Vu,Qa.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Qa.toString=Vu.toString,ll.second=Re(function(t){return new ul(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),ll.seconds=ll.second.range,ll.seconds.utc=ll.second.utc.range,ll.minute=Re(function(t){return new ul(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),ll.minutes=ll.minute.range,ll.minutes.utc=ll.minute.utc.range,ll.hour=Re(function(t){var e=t.getTimezoneOffset()/60;return new ul(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),ll.hours=ll.hour.range,ll.hours.utc=ll.hour.utc.range,ll.month=Re(function(t){return t=ll.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),ll.months=ll.month.range,ll.months.utc=ll.month.utc.range;var Uu=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Yu=[[ll.second,1],[ll.second,5],[ll.second,15],[ll.second,30],[ll.minute,1],[ll.minute,5],[ll.minute,15],[ll.minute,30],[ll.hour,1],[ll.hour,3],[ll.hour,6],[ll.hour,12],[ll.day,1],[ll.day,2],[ll.week,1],[ll.month,1],[ll.month,3],[ll.year,1]],Gu=qu.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",An]]),Xu={range:function(t,e,n){return ns.range(Math.ceil(t/n)*n,+e,n).map(Ja)},floor:y,ceil:y};Yu.year=ll.year,ll.scale=function(){return Za(ns.scale.linear(),Yu,Gu)};var Ku=Yu.map(function(t){return[t[0].utc,t[1]]}),Qu=Wu.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",An]]);Ku.year=ll.year.utc,ll.scale.utc=function(){return Za(ns.scale.linear(),Ku,Qu)},ns.text=Me(function(t){return t.responseText}),ns.json=function(t,e){return _e(t,"application/json",ts,e)},ns.html=function(t,e){return _e(t,"text/html",es,e)},ns.xml=Me(function(t){return t.responseXML}),"function"==typeof define&&define.amd?define(ns):"object"==typeof module&&module.exports&&(module.exports=ns),this.d3=ns}(),function(t){function e(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function n(t,e){for(var n=[];e>0;n[--e]=t);return n.join("")}var r=function(){return r.cache.hasOwnProperty(arguments[0])||(r.cache[arguments[0]]=r.parse(arguments[0])),r.format.call(null,r.cache[arguments[0]],arguments)};r.format=function(t,i){var o,a,s,l,u,c,f,h=1,p=t.length,d="",g=[];for(a=0;p>a;a++)if(d=e(t[a]),"string"===d)g.push(t[a]);else if("array"===d){if(l=t[a],l[2])for(o=i[h],s=0;s<l[2].length;s++){if(!o.hasOwnProperty(l[2][s]))throw r('[sprintf] property "%s" does not exist',l[2][s]);o=o[l[2][s]]}else o=l[1]?i[l[1]]:i[h++];if(/[^s]/.test(l[8])&&"number"!=e(o))throw r("[sprintf] expecting number but found %s",e(o));switch(l[8]){case"b":o=o.toString(2);break;case"c":o=String.fromCharCode(o);break;case"d":o=parseInt(o,10);break;case"e":o=l[7]?o.toExponential(l[7]):o.toExponential();break;case"f":o=l[7]?parseFloat(o).toFixed(l[7]):parseFloat(o);break;case"o":o=o.toString(8);break;case"s":o=(o=String(o))&&l[7]?o.substring(0,l[7]):o;break;case"u":o>>>=0;break;case"x":o=o.toString(16);break;case"X":o=o.toString(16).toUpperCase()}o=/[def]/.test(l[8])&&l[3]&&o>=0?"+"+o:o,c=l[4]?"0"==l[4]?"0":l[4].charAt(1):" ",f=l[6]-String(o).length,u=l[6]?n(c,f):"",g.push(l[5]?o+u:u+o)}return g.join("")},r.cache={},r.parse=function(t){for(var e=t,n=[],r=[],i=0;e;){if(null!==(n=/^[^\x25]+/.exec(e)))r.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(e)))r.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(e)))throw"[sprintf] huh?";if(n[2]){i|=1;var o=[],a=n[2],s=[];if(null===(s=/^([a-z_][a-z_\d]*)/i.exec(a)))throw"[sprintf] huh?";for(o.push(s[1]);""!==(a=a.substring(s[0].length));)if(null!==(s=/^\.([a-z_][a-z_\d]*)/i.exec(a)))o.push(s[1]);else{if(null===(s=/^\[(\d+)\]/.exec(a)))throw"[sprintf] huh?";o.push(s[1])}n[2]=o}else i|=2;if(3===i)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";r.push(n)}e=e.substring(n[0].length)}return r};var i=function(t,e,n){return n=e.slice(0),n.splice(0,0,t),r.apply(null,n)};t.sprintf=r,t.vsprintf=i}("undefined"!=typeof exports?exports:window),function(t,e){"use strict";function n(t,e){var n;if("string"==typeof t&&"string"==typeof e)return localStorage[t]=e,!0;if("object"==typeof t&&"undefined"==typeof e){for(n in t)t.hasOwnProperty(n)&&(localStorage[n]=t[n]);return!0}return!1}function r(t,e){var n,r,i;if(n=new Date,n.setTime(n.getTime()+31536e6),r="; expires="+n.toGMTString(),"string"==typeof t&&"string"==typeof e)return document.cookie=t+"="+e+r+"; path=/",!0;if("object"==typeof t&&"undefined"==typeof e){for(i in t)t.hasOwnProperty(i)&&(document.cookie=i+"="+t[i]+r+"; path=/");return!0}return!1}function i(t){return localStorage[t]}function o(t){var e,n,r,i;for(e=t+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(e))return i.substring(e.length,i.length)}return null}function a(t){return delete localStorage[t]}function s(t){return r(t,"",-1)}function l(t,e){var n=[],r=t.length;if(e>r)return[t];for(var i=0;r>i;i+=e)n.push(t.substring(i,i+e));return n}function u(e){var n=e?[e]:[],r=0;t.extend(this,{get:function(){return n},rotate:function(){return 1===n.length?n[0]:(r===n.length-1?r=0:++r,n[r])},length:function(){return n.length},set:function(t){for(var e=n.length;e--;)if(n[e]===t)return void(r=e);this.append(t)},front:function(){return n[r]},append:function(t){n.push(t)}})}function c(e){var n=e?[e]:[];t.extend(this,{map:function(e){return t.map(n,e)},size:function(){return n.length},pop:function(){if(0===n.length)return null;var t=n[n.length-1];return n=n.slice(0,n.length-1),t},push:function(t){return n=n.concat([t]),t},top:function(){return n.length>0?n[n.length-1]:null}})}function f(e,n){var r=!0,i="";"string"==typeof e&&""!==e&&(i=e+"_"),i+="commands";var o=t.Storage.get(i);o=o?t.parseJSON(o):[];var a=o.length-1;t.extend(this,{append:function(e){r&&o[o.length-1]!==e&&(o.push(e),n&&o.length>n&&(o=o.slice(-n)),a=o.length-1,t.Storage.set(i,t.json_stringify(o)))},data:function(){return o},reset:function(){a=o.length-1},last:function(){return o[length-1]},end:function(){return a===o.length-1},position:function(){return a},current:function(){return o[a]},next:function(){return a<o.length-1&&++a,-1!==a?o[a]:void 0},previous:function(){var t=a;return a>0&&--a,-1!==t?o[a]:void 0},clear:function(){o=[],this.purge()},enabled:function(){return r},enable:function(){r=!0},purge:function(){t.Storage.remove(i)},disable:function(){r=!1}})}function h(e){return t("<div>"+t.terminal.strip(e)+"</div>").text().length}function p(){var t=!1,n="animation",r="",i="Webkit Moz O ms Khtml".split(" "),o="",a=document.createElement("div");if(a.style.animationName&&(t=!0),t===!1)for(var s=0;s<i.length;s++)if(a.style[i[s]+"AnimationName"]!==e){o=i[s],n=o+"Animation",r="-"+o.toLowerCase()+"-",t=!0;break}return t}function d(t,e){var n=t.replace(/^\s+|\s+$/g,"").split(/(\s+)/),r=t.replace(/^[^\s]+\s*/,"");return{name:n[0],args:e(r),rest:r}}function g(e){var n=t(window).scrollTop(),r=n+t(window).height(),i=t(e).offset().top,o=i+t(e).height();return o>=n&&r>=i}function m(){var e=t('<div class="terminal"><div class="cmd"><span>&nbsp;</span></div></div>').appendTo("body"),n=e.find("span"),r={width:n.width(),height:n.outerHeight()};return e.remove(),r}function v(t){var e=m().width,n=Math.floor(t.width()/e);if(w(t)){var r=20,i=t.innerWidth()-t.width();n-=Math.ceil((r-i/2)/(e-1))}return n}function y(t){return Math.floor(t.height()/m().height)}function b(){if(window.getSelection||document.getSelection){var t=(window.getSelection||document.getSelection)();return t.text?t.text:t.toString()}return document.selection?document.selection.createRange().text:void 0}function w(t){return t.get(0).scrollHeight>t.innerHeight()}t.omap=function(e,n){var r={};return t.each(e,function(t,i){r[t]=n.call(e,t,i)}),r};var x="undefined"!=typeof window.localStorage;t.extend({Storage:{set:x?n:r,get:x?i:o,remove:x?a:s}}),jQuery.fn.extend({everyTime:function(t,e,n,r,i){return this.each(function(){jQuery.timer.add(this,t,e,n,r,i)})},oneTime:function(t,e,n){return this.each(function(){jQuery.timer.add(this,t,e,n,1)})},stopTime:function(t,e){return this.each(function(){jQuery.timer.remove(this,t,e)})}}),jQuery.extend({timer:{guid:1,global:{},regex:/^([0-9]+)\s*(.*s)?$/,powers:{ms:1,cs:10,ds:100,s:1e3,das:1e4,hs:1e5,ks:1e6},timeParse:function(t){if(t===e||null===t)return null;var n=this.regex.exec(jQuery.trim(t.toString()));if(n[2]){var r=parseInt(n[1],10),i=this.powers[n[2]]||1;
return r*i}return t},add:function(t,e,n,r,i,o){var a=0;if(jQuery.isFunction(n)&&(i||(i=r),r=n,n=e),e=jQuery.timer.timeParse(e),!("number"!=typeof e||isNaN(e)||0>=e)){i&&i.constructor!==Number&&(o=!!i,i=0),i=i||0,o=o||!1,t.$timers||(t.$timers={}),t.$timers[n]||(t.$timers[n]={}),r.$timerID=r.$timerID||this.guid++;var s=function(){o&&s.inProgress||(s.inProgress=!0,(++a>i&&0!==i||r.call(t,a)===!1)&&jQuery.timer.remove(t,n,r),s.inProgress=!1)};s.$timerID=r.$timerID,t.$timers[n][r.$timerID]||(t.$timers[n][r.$timerID]=window.setInterval(s,e)),this.global[n]||(this.global[n]=[]),this.global[n].push(t)}},remove:function(t,e,n){var r,i=t.$timers;if(i){if(e){if(i[e]){if(n)n.$timerID&&(window.clearInterval(i[e][n.$timerID]),delete i[e][n.$timerID]);else for(var o in i[e])i[e].hasOwnProperty(o)&&(window.clearInterval(i[e][o]),delete i[e][o]);for(r in i[e])if(i[e].hasOwnProperty(r))break;r||(r=null,delete i[e])}}else for(var a in i)i.hasOwnProperty(a)&&this.remove(t,a,n);for(r in i)if(i.hasOwnProperty(r))break;r||(t.$timers=null)}}}}),/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())&&jQuery(window).one("unload",function(){var t=jQuery.timer.global;for(var e in t)if(t.hasOwnProperty(e))for(var n=t[e],r=n.length;--r;)jQuery.timer.remove(n[r],e)}),function(t){if(String.prototype.split.toString().match(/\[native/)){var e,n=String.prototype.split,r=/()??/.exec("")[1]===t;return e=function(e,i,o){if("[object RegExp]"!==Object.prototype.toString.call(i))return n.call(e,i,o);var a,s,l,u,c=[],f=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.extended?"x":"")+(i.sticky?"y":""),h=0;for(i=new RegExp(i.source,f+"g"),e+="",r||(a=new RegExp("^"+i.source+"$(?!\\s)",f)),o=o===t?-1>>>0:o>>>0;(s=i.exec(e))&&(l=s.index+s[0].length,!(l>h&&(c.push(e.slice(h,s.index)),!r&&s.length>1&&s[0].replace(a,function(){for(var e=1;e<arguments.length-2;e++)arguments[e]===t&&(s[e]=t)}),s.length>1&&s.index<e.length&&Array.prototype.push.apply(c,s.slice(1)),u=s[0].length,h=l,c.length>=o)));)i.lastIndex===s.index&&i.lastIndex++;return h===e.length?(u||!i.test(""))&&c.push(""):c.push(e.slice(h)),c.length>o?c.slice(0,o):c},String.prototype.split=function(t,n){return e(this,t,n)},e}}(),t.json_stringify=function(n,r){var i,o="";r=r===e?1:r;var a=typeof n;switch(a){case"function":o+=n;break;case"boolean":o+=n?"true":"false";break;case"object":if(null===n)o+="null";else if(n instanceof Array){o+="[";var s=n.length;for(i=0;s-1>i;++i)o+=t.json_stringify(n[i],r+1);o+=t.json_stringify(n[s-1],r+1)+"]"}else{o+="{";for(var l in n)n.hasOwnProperty(l)&&(o+='"'+l+'":'+t.json_stringify(n[l],r+1));o+="}"}break;case"string":var u=n,c={"\\\\":"\\\\",'"':'\\"',"/":"\\/","\\n":"\\n","\\r":"\\r","\\t":"\\t"};for(i in c)c.hasOwnProperty(i)&&(u=u.replace(new RegExp(i,"g"),c[i]));o+='"'+u+'"';break;case"number":o+=String(n)}return o+=r>1?",":"",1===r&&(o=o.replace(/,([\]}])/g,"$1")),o.replace(/([\[{]),/g,"$1")},t.fn.cmd=function(n){function r(){I.toggleClass("inverted")}function i(){$="(reverse-i-search)`"+M+"': ",R()}function o(){$=x,T=!1,_=null,M=""}function a(t){var e,n,r=S.data(),o=r.length;if(t&&_>0&&(o-=_),M.length>0)for(var a=M.length;a>0;a--){n=M.substring(0,a).replace(/([.*+{}\[\]?])/g,"\\$1"),e=new RegExp(n);for(var s=o;s--;)if(e.test(r[s]))return _=r.length-s,O=0,g.set(r[s],!0),j(),void(M.length!==a&&(M=M.substring(0,a),i()))}M=""}function s(){var t=g.width(),e=I.innerWidth();y=Math.floor(t/e)}function u(t){var e=t.substring(0,y-w),n=t.substring(y-w);return[e].concat(l(n,y))}function c(){v.focus(),g.oneTime(1,function(){g.insert(v.val()),v.blur().val("")})}function d(t){var r,s,l;if("function"==typeof n.keydown&&(r=n.keydown(t),r!==e))return r;if(P){if(38===t.which||80===t.which&&t.ctrlKey||(z=!0),!T||35!==t.which&&36!==t.which&&37!==t.which&&38!==t.which&&39!==t.which&&40!==t.which&&13!==t.which&&27!==t.which){if(t.altKey)return 68===t.which?(g.set(E.slice(0,O)+E.slice(O).replace(/[^ ]+ |[^ ]+$/,""),!0),!1):!0;if(13===t.keyCode)if(t.shiftKey)g.insert("\n");else{S&&E&&!A&&("function"==typeof n.historyFilter&&n.historyFilter(E)||!n.historyFilter)&&S.append(E);var u=E;S.reset(),g.set(""),n.commands&&n.commands(u),"function"==typeof $&&R()}else if(8===t.which)T?(M=M.slice(0,-1),i()):""!==E&&O>0&&(E=E.slice(0,O-1)+E.slice(O,E.length),--O,j());else if(67===t.which&&t.ctrlKey&&t.shiftKey)D=b();else if(86===t.which&&t.ctrlKey&&t.shiftKey)""!==D&&g.insert(D);else if(9!==t.which||t.ctrlKey||t.altKey){if(46===t.which)return""!==E&&O<E.length&&(E=E.slice(0,O)+E.slice(O+1,E.length),j()),!0;if(S&&38===t.which||80===t.which&&t.ctrlKey)z?(N=E,g.set(S.current())):g.set(S.previous()),z=!1;else if(S&&40===t.which||78===t.which&&t.ctrlKey)g.set(S.end()?N:S.next());else if(37===t.which||66===t.which&&t.ctrlKey)if(t.ctrlKey&&66!==t.which){l=O-1,s=0," "===E[l]&&--l;for(var f=l;f>0;--f){if(" "===E[f]&&" "!==E[f+1]){s=f+1;break}if("\n"===E[f]&&"\n"!==E[f+1]){s=f;break}}g.position(s)}else O>0&&(--O,j());else if(82===t.which&&t.ctrlKey)T?a(!0):(x=$,i(),N=E,E="",j(),T=!0);else if(71==t.which&&t.ctrlKey)T&&($=x,R(),E=N,j(),T=!1,M="");else if(39===t.which||70===t.which&&t.ctrlKey)if(t.ctrlKey&&70!==t.which){" "===E[O]&&++O;var h=/\S[\n\s]{2,}|[\n\s]+\S?/,p=E.slice(O).match(h);!p||p[0].match(/^\s+$/)?O=E.length:" "!==p[0][0]?O+=p.index+1:(O+=p.index+p[0].length-1," "!==p[0][p[0].length-1]&&--O),j()}else O<E.length&&(++O,j());else{if(123===t.which)return!0;if(36===t.which)g.position(0);else if(35===t.which)g.position(E.length);else{if(t.shiftKey&&45==t.which)return c(),!0;if(!t.ctrlKey&&!t.metaKey)return!0;if(192===t.which)return!0;if(t.metaKey){if(82===t.which)return!0;if(76===t.which)return!0}if(t.shiftKey){if(84===t.which)return!0}else{if(81===t.which){if(""!==E&&0!==O){var m=E.slice(0,O),v=E.slice(O+1),y=m.match(/([^ ]+ *$)/);O=m.length-y[0].length,F=m.slice(O),E=m.slice(0,O)+v,j()}return!1}if(72===t.which)return""!==E&&O>0&&(E=E.slice(0,--O),O<E.length-1&&(E+=E.slice(O)),j()),!1;if(65===t.which)g.position(0);else if(69===t.which)g.position(E.length);else{if(88===t.which||67===t.which||84===t.which)return!0;if(89===t.which)""!==F&&g.insert(F);else{if(86===t.which)return c(),!0;if(75===t.which)0===O?(F=E,g.set("")):O!==E.length&&(F=E.slice(O),g.set(E.slice(0,O)));else if(85===t.which)""!==E&&0!==O&&(F=E.slice(0,O),g.set(E.slice(O,E.length)),g.position(0));else if(17===t.which)return!1}}}}}}else g.insert("	")}else o(),R(),27===t.which&&(E=""),j(),d.call(this,t);return!1}}var g=this,m=g.data("cmd");if(m)return m;g.addClass("cmd"),g.append('<span class="prompt"></span><span></span><span class="cursor">&nbsp;</span><span></span>');var v=t("<textarea/>").addClass("clipboard").appendTo(g);n.width&&g.width(n.width);var y,w,x,$,C,S,k,T=!1,M="",_=null,A=n.mask||!1,E="",D="",F="",O=0,P=n.enabled,L=n.historySize||60,I=g.find(".cursor");k=p()?function(t){t?I.addClass("blink"):I.removeClass("blink")}:function(t){t&&!P?(I.addClass("inverted"),g.everyTime(500,"blink",r)):P&&(g.stopTime("blink",r),I.removeClass("inverted"))};var N,j=function(e){function n(e,n){var r=e.length;if(n===r)a.html(t.terminal.encode(e,!0)),I.html("&nbsp;"),s.html("");else if(0===n)a.html(""),I.html(t.terminal.encode(e.slice(0,1),!0)),s.html(t.terminal.encode(e.slice(1),!0));else{var i=t.terminal.encode(e.slice(0,n),!0);a.html(i);var o=e.slice(n,n+1);I.html(" "===o?"&nbsp;":t.terminal.encode(o,!0)),s.html(n===e.length-1?"":t.terminal.encode(e.slice(n+1),!0))}}function r(e){return"<div>"+t.terminal.encode(e,!0)+"</div>"}function i(e){var n=s;t.each(e,function(e,i){n=t(r(i)).insertAfter(n).addClass("clear")})}function o(e){t.each(e,function(t,e){a.before(r(e))})}var a=I.prev(),s=I.next();return function(){var c,f,h=A?E.replace(/./g,"*"):E;if(e.find("div").remove(),a.html(""),h.length>y-w-1||h.match(/\n/)){var p,d=h.match(/\t/g),g=d?3*d.length:0;if(d&&(h=h.replace(/\t/g,"\x00\x00\x00\x00")),h.match(/\n/)){var m=h.split("\n");for(f=y-w-1,c=0;c<m.length-1;++c)m[c]+=" ";for(m[0].length>f?(p=[m[0].substring(0,f)],p=p.concat(l(m[0].substring(f),y))):p=[m[0]],c=1;c<m.length;++c)m[c].length>y?p=p.concat(l(m[c],y)):p.push(m[c])}else p=u(h);if(d&&(p=t.map(p,function(t){return t.replace(/\x00\x00\x00\x00/g,"	")})),f=p[0].length,0===f&&1===p.length);else if(f>O)n(p[0],O),i(p.slice(1));else if(O===f)a.before(r(p[0])),n(p[1],0),i(p.slice(2));else{var v=p.length;if(f>O)n(p[0],O),i(p.slice(1));else if(O===f)a.before(r(p[0])),n(p[1],0),i(p.slice(2));else{var b=p.slice(-1)[0],x=h.length-O,$=b.length,C=0;if($>=x)o(p.slice(0,-1)),C=$===x?0:$-x,n(b,C+g);else if(3===v)a.before("<div>"+t.terminal.encode(p[0],!0)+"</div>"),n(p[1],O-f-1),s.after('<div class="clear">'+t.terminal.encode(p[2],!0)+"</div>");else{var S,k;for(C=O,c=0;c<p.length;++c){var T=p[c].length;if(!(C>T))break;C-=T}k=p[c],S=c,C===k.length&&(C=0,k=p[++S]),n(k,C),o(p.slice(0,S)),i(p.slice(S+1))}}}}else""===h?(a.html(""),I.html("&nbsp;"),s.html("")):n(h,O)}}(g),R=function(){function e(e){w=h(e),n.html(t.terminal.format(t.terminal.encode(e)))}var n=g.find(".prompt");return function(){switch(typeof $){case"string":e($);break;case"function":$(e)}}}(),z=!0;t.extend(g,{name:function(t){if(t!==e){C=t;var n=S&&S.enabled()||!S;return S=new f(t,L),n||S.disable(),g}return C},purge:function(){return S.clear(),g},history:function(){return S},set:function(t,r){return t!==e&&(E=t,r||(O=E.length),j(),"function"==typeof n.onCommandChange&&n.onCommandChange(E)),g},insert:function(t,e){return O===E.length?E+=t:E=0===O?t+E:E.slice(0,O)+t+E.slice(O),e||(O+=t.length),j(),"function"==typeof n.onCommandChange&&n.onCommandChange(E),g},get:function(){return E},commands:function(t){return t?(n.commands=t,g):t},destroy:function(){return t(document.documentElement||window).unbind(".cmd"),g.stopTime("blink",r),g.find(".cursor").next().remove().end().prev().remove().end().remove(),g.find(".prompt, .clipboard").remove(),g.removeClass("cmd").removeData("cmd"),g},prompt:function(t){if(t===e)return $;if("string"!=typeof t&&"function"!=typeof t)throw"prompt must be a function or string";return $=t,R(),j(),g},kill_text:function(){return F},position:function(t){return"number"==typeof t?(O=0>t?0:t>E.length?E.length:t,j(),g):O},visible:function(){var t=g.visible;return function(){t.apply(g,[]),j(),R()}}(),show:function(){var t=g.show;return function(){t.apply(g,[]),j(),R()}}(),resize:function(t){return t?y=t:s(),j(),g},enable:function(){return P=!0,k(!0),g},isenabled:function(){return P},disable:function(){return P=!1,k(!1),g},mask:function(t){return"boolean"==typeof t?(A=t,j(),g):A}}),g.name(n.name||n.prompt||""),$=n.prompt||"> ",R(),(n.enabled===e||n.enabled===!0)&&g.enable();return t(document.documentElement||window).bind("keypress.cmd",function(r){var o;if(r.ctrlKey&&99===r.which)return!0;if(T||"function"!=typeof n.keypress||(o=n.keypress(r)),o!==e&&!o)return o;if(P){if(t.inArray(r.which,[38,13,0,8])>-1&&123!==r.keyCode&&(38!==r.which||!r.shiftKey))return!1;if(!r.ctrlKey&&(!r.altKey||100!==r.which)||r.altKey)return T?(M+=String.fromCharCode(r.which),a(),i()):g.insert(String.fromCharCode(r.which)),!1}}).bind("keydown.cmd",d),g.data("cmd",g),g};var $=["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],C=/(\[\[[gbiuso]*;[^;]*;[^\]]*\](?:[^\]]*\\\][^\]]*|[^\]]*|[^\[]*\[[^\]]*)\]?)/i,S=/\[\[([gbiuso]*);([^;]*);([^;\]]*);?([^;\]]*);?([^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^\[]*\[[^\]]*)\]?/gi,k=/\[\[([gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^\[]*\[[^\]]*)\]?/gi,T=/^\[\[([gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^\[]*\[[^\]]*)\]$/gi,M=/^#([0-9a-f]{3}|[0-9a-f]{6})$/i,_=/\bhttps?:\/\/(?:(?!&[^;]+;)[^\s"'<>)])+\b/g,A=/((([^<>('")[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,})))/g,E=/('[^']*'|"(\\"|[^"])*"|\/(\\\/|[^\/])+\/[gimy]*|(\\ |[^ ])+|[\w-]+)/g,D=/(\[\[[gbiuso]*;[^;]*;[^\]]*\])/i,F=/\[\[[gbiuso]*;[^;]*;[^\]]*\]?$/i;t.terminal={valid_color:function(e){return e.match(M)||-1!==t.inArray(e.toLowerCase(),$)},escape_regex:function(t){var e=/([\^\$\[\]\(\)\+\*\.\|])/g;return t.replace(e,"\\$1")},have_formatting:function(t){return t.match(k)},is_formatting:function(t){return t.match(T)},format_split:function(t){return t.split(C)},split_equal:function(t,e){for(var n=!1,r=!1,i="",o=[],a=t.replace(k,function(t,e,n){var r=e.match(/;/g).length;return r=2==r?";;":3==r?";":"","[["+e+r+n.replace(/\\\]/g,"&#93;").replace(/\n/g,"\\n")+"]"+n+"]"}).split(/\n/g),s=0,l=a.length;l>s;++s)if(""!==a[s])for(var u=a[s],c=0,f=0,h=0,p=u.length;p>h;++h){if("["===u[h]&&"["===u[h+1])n=!0;else if(n&&"]"===u[h])r?(n=!1,r=!1):r=!0;else if(n&&r||!n){if("&"===u[h]){var d=u.substring(h).match(/^(&[^;]+;)/);if(!d)throw"Unclosed html entity in line "+(s+1)+" at char "+(h+1);h+=d[1].length-2,h===p-1&&o.push(g+d[1]);continue}"]"===u[h]&&"\\"===u[h-1]?--f:++f}if(f===e||h===p-1){var g=u.substring(c,h+1);i&&(g=i+g,g.match("]")&&(i="")),c=h+1,f=0;var m=g.match(k);if(m){var v=m[m.length-1];if("]"!==v[v.length-1])i=v.match(D)[1],g+="]";else if(g.match(F)){{var y=g.length;y-v[v.length-1].length}g=g.replace(F,""),i=v.match(D)[1]}}o.push(g)}}else o.push("");return o},encode:function(t,e){return t=e?t.replace(/&(?![^=]+=)/g,"&amp;"):t.replace(/&(?!#[0-9]+;|[a-zA-Z]+;|[^= "]+=[^=])/g,"&amp;"),t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;")},format:function(e,n){var r=t.extend({},{linksNoReferrer:!1},n||{});if("string"==typeof e){var i=t.terminal.format_split(e);return i&&i.length>1&&(e=t.map(i,function(e){return""===e?e:"["===e.substring(0,1)?e.replace(S,function(e,n,r,i,o,a,s){if(""===s)return"";s=s.replace(/\\]/g,"]");var l="";-1!==n.indexOf("b")&&(l+="font-weight:bold;");var u=[];-1!==n.indexOf("u")&&u.push("underline"),-1!==n.indexOf("s")&&u.push("line-through"),-1!==n.indexOf("o")&&u.push("overline"),u.length&&(l+="text-decoration:"+u.join(" ")+";"),-1!==n.indexOf("i")&&(l+="font-style:italic;"),t.terminal.valid_color(r)&&(l+="color:"+r+";",-1!==n.indexOf("g")&&(l+="text-shadow:0 0 5px "+r+";")),t.terminal.valid_color(i)&&(l+="background-color:"+i);var c;c=""===a?s:a.replace(/&#93;/g,"]");var f='<span style="'+l+'"'+(""!==o?' class="'+o+'"':"")+' data-text="'+c.replace('"',"&quote;")+'">'+s+"</span>";return f}):"<span>"+e+"</span>"}).join("")),t.map(e.split(/(<\/?span[^>]*>)/g),function(t){return t.match(/span/)?t:t.replace(_,function(t){var e=t.match(/\.$/);return t=t.replace(/\.$/,""),'<a target="_blank" '+(r.linksNoReferer?' rel="noreferrer" ':"")+'href="'+t+'">'+t+"</a>"+(e?".":"")}).replace(A,'<a href="mailto:$1">$1</a>')}).join("").replace(/<span><br\/?><\/span>/g,"<br/>")}return""},escape_brackets:function(t){return t.replace(/\[/g,"&#91;").replace(/\]/g,"&#93;")},strip:function(t){return t.replace(S,"$6")},active:function(){return H.front()},overtyping:function(t){return t.replace(/((?:_\x08.|.\x08_)+)/g,function(t){return"[[u;;]"+t.replace(/_x08|\x08_|_\u0008|\u0008_/g,"")+"]"}).replace(/((?:.\x08.)+)/g,function(t){return"[[b;#fff;]"+t.replace(/(.)(?:\x08|\u0008)(.)/g,function(t,e,n){return n})+"]"})},ansi_colors:{normal:{black:"#000",red:"#A00",green:"#008400",yellow:"#A50",blue:"#00A",magenta:"#A0A",cyan:"#0AA",white:"#AAA"},faited:{black:"#000",red:"#640000",green:"#006100",yellow:"#737300",blue:"#000087",magenta:"#650065",cyan:"#008787",white:"#818181"},bold:{black:"#000",red:"#F55",green:"#44D544",yellow:"#FF5",blue:"#55F",magenta:"#F5F",cyan:"#5FF",white:"#FFF"},palette:["#000000","#AA0000","#00AA00","#AA5500","#0000AA","#AA00AA","#00AAAA","#AAAAAA","#555555","#FF5555","#55FF55","#FFFF55","#5555FF","#FF55FF","#55FFFF","#FFFFFF","#000000","#00005F","#000087","#0000AF","#0000D7","#0000FF","#005F00","#005F5F","#005F87","#005FAF","#005FD7","#005FFF","#008700","#00875F","#008787","#0087AF","#0087D7","#00AF00","#00AF5F","#00AF87","#00AFAF","#00AFD7","#00AFFF","#00D700","#00D75F","#00D787","#00D7AF","#00D7D7","#00D7FF","#00FF00","#00FF5F","#00FF87","#00FFAF","#00FFD7","#00FFFF","#5F0000","#5F005F","#5F0087","#5F00AF","#5F00D7","#5F00FF","#5F5F00","#5F5F5F","#5F5F87","#5F5FAF","#5F5FD7","#5F5FFF","#5F8700","#5F875F","#5F8787","#5F87AF","#5F87D7","#5F87FF","#5FAF00","#5FAF5F","#5FAF87","#5FAFAF","#5FAFD7","#5FAFFF","#5FD700","#5FD75F","#5FD787","#5FD7AF","#5FD7D7","#5FD7FF","#5FFF00","#5FFF5F","#5FFF87","#5FFFAF","#5FFFD7","#5FFFFF","#870000","#87005F","#870087","#8700AF","#8700D7","#8700FF","#875F00","#875F5F","#875F87","#875FAF","#875FD7","#875FFF","#878700","#87875F","#878787","#8787AF","#8787D7","#8787FF","#87AF00","#87AF5F","#87AF87","#87AFAF","#87AFD7","#87AFFF","#87D700","#87D75F","#87D787","#87D7AF","#87D7D7","#87D7FF","#87FF00","#87FF5F","#87FF87","#87FFAF","#87FFD7","#87FFFF","#AF0000","#AF005F","#AF0087","#AF00AF","#AF00D7","#AF00FF","#AF5F00","#AF5F5F","#AF5F87","#AF5FAF","#AF5FD7","#AF5FFF","#AF8700","#AF875F","#AF8787","#AF87AF","#AF87D7","#AF87FF","#AFAF00","#AFAF5F","#AFAF87","#AFAFAF","#AFAFD7","#AFAFFF","#AFD700","#AFD75F","#AFD787","#AFD7AF","#AFD7D7","#AFD7FF","#AFFF00","#AFFF5F","#AFFF87","#AFFFAF","#AFFFD7","#AFFFFF","#D70000","#D7005F","#D70087","#D700AF","#D700D7","#D700FF","#D75F00","#D75F5F","#D75F87","#D75FAF","#D75FD7","#D75FFF","#D78700","#D7875F","#D78787","#D787AF","#D787D7","#D787FF","#D7AF00","#D7AF5F","#D7AF87","#D7AFAF","#D7AFD7","#D7AFFF","#D7D700","#D7D75F","#D7D787","#D7D7AF","#D7D7D7","#D7D7FF","#D7FF00","#D7FF5F","#D7FF87","#D7FFAF","#D7FFD7","#D7FFFF","#FF0000","#FF005F","#FF0087","#FF00AF","#FF00D7","#FF00FF","#FF5F00","#FF5F5F","#FF5F87","#FF5FAF","#FF5FD7","#FF5FFF","#FF8700","#FF875F","#FF8787","#FF87AF","#FF87D7","#FF87FF","#FFAF00","#FFAF5F","#FFAF87","#FFAFAF","#FFAFD7","#FFAFFF","#FFD700","#FFD75F","#FFD787","#FFD7AF","#FFD7D7","#FFD7FF","#FFFF00","#FFFF5F","#FFFF87","#FFFFAF","#FFFFD7","#FFFFFF","#080808","#121212","#1C1C1C","#262626","#303030","#3A3A3A","#444444","#4E4E4E","#585858","#626262","#6C6C6C","#767676","#808080","#8A8A8A","#949494","#9E9E9E","#A8A8A8","#B2B2B2","#BCBCBC","#C6C6C6","#D0D0D0","#DADADA","#E4E4E4","#EEEEEE"]},from_ansi:function(){function e(e){var i,o=e.split(";"),a=!1,s=!1,l=!1,u=[],c="",f="",h=!1,p=!1,d=!1,g=t.terminal.ansi_colors.palette;for(var m in o){switch(i=parseInt(o[m],10)){case 1:u.push("b"),l=!0,a=!1;break;case 4:u.push("u");break;case 3:u.push("i");break;case 5:d=!0;break;case 38:h=!0;break;case 48:p=!0;break;case 2:a=!0,l=!1;break;case 7:s=!0;break;default:h&&d&&g[i-1]?c=g[i-1]:n[i]&&(c=n[i]),p&&d&&g[i-1]?f=g[i-1]:r[i]&&(f=r[i])}5!==i&&(d=!1)}if(s)if(c&&f){var v=f;f=c,c=v}else c="black",f="white";var y,b;return y=b=l?t.terminal.ansi_colors.bold:a?t.terminal.ansi_colors.faited:t.terminal.ansi_colors.normal,[u.join(""),h?c:y[c],p?f:b[f]]}var n={30:"black",31:"red",32:"green",33:"yellow",34:"blue",35:"magenta",36:"cyan",37:"white",39:"white"},r={40:"black",41:"red",42:"green",43:"yellow",44:"blue",45:"magenta",46:"cyan",47:"white",49:"black"};return function(t){var n=t.split(/(\x1B\[[0-9;]*[A-Za-z])/g);if(1==n.length)return t;var r=[];n.length>3&&"[0m"==n.slice(0,3).join("")&&(n=n.slice(3));for(var i,o,a,s,l=!1,u=0;u<n.length;++u)if(s=n[u].match(/^\x1B\[([0-9;]*)([A-Za-z])$/))switch(s[2]){case"m":if(""===s[1])continue;"0"!==s[1]&&(a=e(s[1])),l?(r.push("]"),"0"==s[1]?(l=!1,i=o=""):(a[1]=a[1]||i,a[2]=a[2]||o,r.push("[["+a.join(";")+"]"),a[1]&&(i=a[1]),a[2]&&(o=a[2]))):"0"!=s[1]&&(l=!0,r.push("[["+a.join(";")+"]"),a[1]&&(i=a[1]),a[2]&&(o=a[2]))}else r.push(n[u]);return l&&r.push("]"),r.join("")}}(),parseArguments:function(e){return t.map(e.match(E)||[],function(t){if("'"===t[0]&&"'"===t[t.length-1])return t.replace(/^'|'$/g,"");if('"'===t[0]&&'"'===t[t.length-1])return t=t.replace(/^"|"$/g,"").replace(/\\([" ])/g,"$1"),t.replace(/\\\\|\\t|\\n/g,function(t){return"t"===t[1]?"	":"n"===t[1]?"\n":"\\"}).replace(/\\x([0-9a-f]+)/gi,function(t,e){return String.fromCharCode(parseInt(e,16))}).replace(/\\0([0-7]+)/g,function(t,e){return String.fromCharCode(parseInt(e,8))});if(t.match(/^\/(\\\/|[^\/])+\/[gimy]*$/)){var e=t.match(/^\/([^\/]+)\/([^\/]*)$/);return new RegExp(e[1],e[2])}return t.match(/^-?[0-9]+$/)?parseInt(t,10):t.match(/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/)?parseFloat(t):t.replace(/\\ /g," ")})},splitArguments:function(e){return t.map(e.match(E)||[],function(t){return"'"===t[0]&&"'"===t[t.length-1]?t.replace(/^'|'$/g,""):'"'===t[0]&&'"'===t[t.length-1]?t.replace(/^"|"$/g,"").replace(/\\([" ])/g,"$1"):"/"===t[0]&&"/"==t[t.length-1]?t:t.replace(/\\ /g," ")})},parseCommand:function(e){return d(e,t.terminal.parseArguments)},splitCommand:function(e){return d(e,t.terminal.splitArguments)},test:function(){function e(t,e){n.echo(e+" &#91;"+(t?"[[b;#44D544;]PASS]":"[[b;#FF5555;]FAIL]")+"&#93;")}var n=t.terminal.active();if(!n){n=t("body").terminal(t.noop).css("margin",0);var r=(n.outerHeight()-n.height(),t(window));r.resize(function(){n.css("height",t(window).height()-20)}).resize()}n.echo("Testing...");var i='name "foo bar" baz /^asd [x]/ str\\ str 10 1e10',o=t.terminal.splitCommand(i);e("name"===o.name&&"foo bar"===o.args[0]&&"baz"===o.args[1]&&"/^asd [x]/"===o.args[2]&&"str str"===o.args[3]&&"10"===o.args[4]&&"1e10"===o.args[5],"$.terminal.splitCommand"),o=t.terminal.parseCommand(i),e("name"===o.name&&"foo bar"===o.args[0]&&"baz"===o.args[1]&&"regexp"===t.type(o.args[2])&&"^asd [x]"===o.args[2].source&&"str str"===o.args[3]&&10===o.args[4]&&1e10===o.args[5],"$.terminal.parseCommand"),i="[2;31;46mFoo[1;3;4;32;45mBar[0m[7mBaz",e("[[;#640000;#008787]Foo][[biu;#44D544;#F5F]Bar][[;#000;#AAA]Baz]"===t.terminal.from_ansi(i),"$.terminal.from_ansi"),i="[[biugs;#fff;#000]Foo][[i;;;foo]Bar][[ous;;]Baz]",n.echo("$.terminal.format"),e('<span style="font-weight:bold;text-decoration:underline line-through;font-style:italic;color:#fff;text-shadow:0 0 5px #fff;background-color:#000" data-text="Foo">Foo</span><span style="font-style:italic;" class="foo" data-text="Bar">Bar</span><span style="text-decoration:underline line-through overline;" data-text="Baz">Baz</span>'===t.terminal.format(i),"	formatting"),i="http://terminal.jcubic.pl/examples.php https://www.google.com/?q=jquery%20terminal",e('<a target="_blank" href="http://terminal.jcubic.pl/examples.php">http://terminal.jcubic.pl/examples.php</a> <a target="_blank" href="https://www.google.com/?q=jquery%20terminal">https://www.google.com/?q=jquery%20terminal</a>'===t.terminal.format(i),"	urls"),i="foo@bar.com baz.quux@example.com",e('<a href="mailto:foo@bar.com">foo@bar.com</a> <a href="mailto:baz.quux@example.com">baz.quux@example.com</a>'===t.terminal.format(i),"	emails"),i="-_-[[biugs;#fff;#000]Foo]-_-[[i;;;foo]Bar]-_-[[ous;;]Baz]-_-",e("-_-Foo-_-Bar-_-Baz-_-"===t.terminal.strip(i),"$.terminal.strip"),i="[[bui;#fff;]Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla sed dolor nisl, in suscipit justo. Donec a enim et est porttitor semper at vitae augue. Proin at nulla at dui mattis mattis. Nam a volutpat ante. Aliquam consequat dui eu sem convallis ullamcorper. Nulla suscipit, massa vitae suscipit ornare, tellus] est [[b;;#f00]consequat nunc, quis blandit elit odio eu arcu. Nam a urna nec nisl varius sodales. Mauris iaculis tincidunt orci id commodo. Aliquam] non magna quis [[i;;]tortor malesuada aliquam] eget ut lacus. Nam ut vestibulum est. Praesent volutpat tellus in eros dapibus elementum. Nam laoreet risus non nulla mollis ac luctus [[ub;#fff;]felis dapibus. Pellentesque mattis elementum augue non sollicitudin. Nullam lobortis fermentum elit ac mollis. Nam ac varius risus. Cras faucibus euismod nulla, ac auctor diam rutrum sit amet. Nulla vel odio erat], ac mattis enim.",n.echo("$.terminal.split_equal");for(var a=[10,40,60,400],s=a.length;s--;){for(var l=t.terminal.split_equal(i,a[s]),u=!0,c=0;c<l.length;++c)if(t.terminal.strip(l[c]).length>a[s]){u=!1;break}e(u,"	split "+a[s])}}},t.fn.visible=function(){return this.css("visibility","visible")},t.fn.hidden=function(){return this.css("visibility","hidden")};var O={};t.jrpc=function(e,n,r,i,o){O[e]=O[e]||0;var a=t.json_stringify({jsonrpc:"2.0",method:n,params:r,id:++O[e]});return t.ajax({url:e,data:a,success:function(e,n,r){var a=r.getResponseHeader("Content-Type");if(!a.match(/application\/json/)){if(!console||!console.warn)throw new Error("WARN: Response Content-Type is not application/json");console.warn("Response Content-Type is not application/json")}var s;try{s=t.parseJSON(e)}catch(l){if(!o)throw new Error("Invalid JSON");return void o(r,"Invalid JSON",l)}i(s,n,r)},error:o,contentType:"application/json",dataType:"text",async:!0,cache:!1,type:"POST"})};var P="0.8.8",L=!P.match(/^\{\{/),I="Copyright (c) 2011-2013 Jakub Jankiewicz <http://jcubic.pl>",N=L?" version "+P:" ",j=new RegExp(" {"+N.length+"}$"),R=[["jQuery Terminal","(c) 2011-2013 jcubic"],["jQuery Terminal Emulator"+(L?" v. "+P:""),I.replace(/ *<.*>/,"")],["jQuery Terminal Emulator"+(L?N:""),I.replace(/^Copyright /,"")],["      _______                 ________                        __","     / / _  /_ ____________ _/__  ___/______________  _____  / /"," __ / / // / // / _  / _/ // / / / _  / _/     / /  \\/ / _ \\/ /","/  / / // / // / ___/ // // / / / ___/ // / / / / /\\  / // / /__","\\___/____ \\\\__/____/_/ \\__ / /_/____/_//_/ /_/ /_/  \\/\\__\\_\\___/","         \\/          /____/                                   ".replace(j," ")+N,I],["      __ _____                     ________                              __","     / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /"," __ / // // // // // _  // _// // / / // _  // _//     // //  \\/ // _ \\/ /","/  / // // // // // ___// / / // / / // ___// / / / / // // /\\  // // / /__","\\___//____ \\\\___//____//_/ _\\_  / /_//____//_/ /_/ /_//_//_/ /_/ \\__\\_\\___/","          \\/              /____/                                          ".replace(j,"")+N,I]];t.terminal.defaults={prompt:"> ",history:!0,exit:!0,clear:!0,enabled:!0,historySize:60,checkArity:!0,exceptionHandler:null,cancelableAjax:!0,processArguments:!0,linksNoReferrer:!1,login:null,outputLimit:-1,onAjaxError:null,onRPCError:null,completion:!1,historyFilter:null,onInit:t.noop,onClear:t.noop,onBlur:t.noop,onFocus:t.noop,onTerminalChange:t.noop,onExit:t.noop,keypress:t.noop,keydown:t.noop,strings:{wrongPasswordTryAgain:"Wrong password try again!",wrongPassword:"Wrong password!",ajaxAbortError:"Error while aborting ajax call!",wrongArity:"Wrong number of arguments. Function '%s' expect %s got %s!",commandNotFound:"Command '%s' Not Found!",oneRPCWithIgnore:"You can use only one rpc with ignoreSystemDescribe",oneInterpreterFunction:"You can't use more then one function (rpc with ignoreSystemDescribe is count as one)",loginFunctionMissing:"You don't have login function",noTokenError:"Access denied (no token)",serverResponse:"Server reponse is",wrongGreetings:"Wrong value of greetings parameter",notWhileLogin:"You can't call that function while in login",loginIsNotAFunction:"Authenticate must be a function",canExitError:"You can't exit from main interpeter",invalidCompletion:"Invalid completion",login:"login",password:"password"}};var z=[],H=new u;t.fn.terminal=function(n,r){function i(e){return"function"==typeof re.processArguments?d(e,re.processArguments):re.processArguments?t.terminal.parseCommand(e):t.terminal.splitCommand(e)}function o(e){q.echo("string"==typeof e?e:e instanceof Array?t.map(e,function(e){return t.json_stringify(e)}).join(" "):"object"==typeof e?t.json_stringify(e):e)}function a(t){"function"==typeof re.onRPCError?re.onRPCError.call(q,t):q.error("&#91;RPC&#93; "+t.message)}function s(e){var n=function(n,r){q.pause(),t.jrpc(e,n,r,function(t){t.error?a(t.error):"function"==typeof re.processRPCResponse?re.processRPCResponse.call(q,t.result):o(t.result),q.resume()},u)};return function(t,e){if(""!==t)if(t=i(t),re.login&&"help"!==t.name){var r=e.token();r?n(t.name,[r].concat(t.args)):e.error("&#91;AUTH&#93; "+ie.noTokenError)}else n(t.name,t.args)}}function l(n,r,o){return function(a,s){if(""!==a){var u=i(a),c=n[u.name],f=t.type(c);if("function"===f){if(!r||c.length===u.args.length)return c.apply(q,u.args);q.error("&#91;Arity&#93; "+sprintf(ie.wrongArity,u.name,c.length,u.args.length))}else if("object"===f||"string"===f){var h=[];"object"===f&&(h=Object.keys(c),c=l(c,r)),s.push(c,{prompt:u.name+"> ",name:u.name,completion:"object"===f?function(t,e,n){n(h)}:e})}else"function"===t.type(o)?o(a,q):"function"===t.type(re.onCommandNotFound)?re.onCommandNotFound(a,q):s.error(sprintf(ie.commandNotFound,u.name))}}}function u(t,e,n){q.resume(),"function"==typeof re.onAjaxError?re.onAjaxError.call(q,t,e,n):"abort"!==e&&q.error("&#91;AJAX&#93; "+e+" - "+ie.serverResponse+": \n"+t.responseText)}function f(e,n,r){t.jrpc(e,"system.describe",[],function(i){if(i.procs){var s={};t.each(i.procs,function(r,i){s[i.name]=function(){var r=n&&"help"!=i.name,s=Array.prototype.slice.call(arguments),l=s.length+(r?1:0);re.checkArity&&i.params&&i.params.length!==l?q.error("&#91;Arity&#93; "+sprintf(ie.wrongArity,i.name,i.params.length,l)):(q.pause(),r&&(s=[q.token(!0)].concat(s)),t.jrpc(e,i.name,s,function(t){t.error?a(t.error):o(t.result),q.resume()},u))}}),r(s)}else r(null)},function(){r(null)})}function h(e,n,r){r=r||t.noop;var i,o,a=t.type(e),u={},c=0;if("array"===a){var h={};!function p(e,r){if(e.length){var i=e[0],a=e.slice(1),l=t.type(i);"string"===l?(c++,q.pause(),re.ignoreSystemDescribe?(1===c?o=s(i):q.error(ie.oneRPCWithIgnore),p(a,r)):f(i,n,function(e){e&&t.extend(h,e),q.resume(),p(a,r)})):"function"===l?o?q.error(ie.oneInterpreterFunction):o=i:"object"===l&&(t.extend(h,i),p(a,r))}else r()}(e,function(){i=Object.keys(h),u.interpreter=l(h,!1,o),u.completion=function(t,e,n){n(i)},r(u)})}else if("string"===a)re.ignoreSystemDescribe?r({interpreter:s(e),completion:re.completion}):(q.pause(),f(e,n,function(t){if(t){var n=Object.keys(t);u.interpreter=l(t,!1),u.completion=function(t,e,r){r(n)}}else u.interpreter=s(e),u.completion=re.completion;q.resume(),r(u)}));else if("object"===a)i=Object.keys(e),u.interpreter=l(e,re.checkArity),u.completion=function(t,e,n){n(i)},r(u);else{if("undefined"===a)e=t.noop;else if("function"!==a)throw a+" is invalid interpreter value";r({interpreter:e,completion:re.completion})}}function p(e,n){var r="boolean"===t.type(n)?"login":n;return function(n,i,o){q.pause(),t.jrpc(e,r,[n,i],function(t){q.resume(),o(!t.error&&t.result?t.result:null)
},u)}}function m(t){return"string"==typeof t?t:"string"==typeof t.fileName?t.fileName+": "+t.message:t.message}function x(t,e){"function"==typeof re.exceptionHandler?re.exceptionHandler.call(q,t):q.exception(t,e)}function $(){var t=W.prop?W.prop("scrollHeight"):W.attr("scrollHeight");W.scrollTop(t)}function C(t,e){try{if("function"==typeof e)e(function(){});else if("string"!=typeof e){var n=t+" must be string or function";throw n}}catch(r){return x(r,t.toUpperCase()),!1}return!0}function S(e,n){try{var r=t.extend({raw:!1,finalize:t.noop},n||{});e="function"===t.type(e)?e():e,e="string"===t.type(e)?e:String(e);var i,o;if(r.raw||(e=t.terminal.encode(e)),e=t.terminal.overtyping(e),e=t.terminal.from_ansi(e),j.push(B),!r.raw&&(e.length>Y||e.match(/\n/))){var a=t.terminal.split_equal(e,Y);for(i=0,o=a.length;o>i;++i)j.push(""===a[i]||"\r"===a[i]?"&nbsp;":r.raw?a[i]:t.terminal.format(a[i],{linksNoReferer:re.linksNoReferer}))}else r.raw||(e=t.terminal.format(e,{linksNoReferer:re.linksNoReferer})),j.push(e);j.push(r.finalize)}catch(s){j=[],alert("[Internal Exception(draw_line)]:"+m(s)+"\n"+s.stack)}}function k(){fe.resize(Y);var e,n=U.empty().detach();if(re.outputLimit>=0){var r=0===re.outputLimit?q.rows():re.outputLimit;e=Z.slice(Z.length-r-1)}else e=Z;t.each(e,function(t,e){S.apply(null,e)}),fe.before(n),q.flush()}function T(){if(re.greetings===e)q.echo(q.signature);else if(re.greetings){var t=typeof re.greetings;"string"===t?q.echo(re.greetings):"function"===t?re.greetings.call(q,q.echo):q.error(ie.wrongGreetings)}}function M(e){e=t.terminal.escape_brackets(t.terminal.encode(e,!0));var n=fe.prompt();fe.mask()&&(e=e.replace(/./g,"*")),"function"==typeof n?n(function(t){q.echo(t+e)}):q.echo(n+e)}function _(n,r,i){try{I()||(V=t.terminal.splitCommand(n).name,(i&&"function"==typeof re.historyFilter&&re.historyFilter(n)||!re.historyFilter)&&fe.history().append(n));var o=ce.top();if("exit"===n&&re.exit){var a=ce.size();q.token(),(1==a&&q.token()||a>1)&&(r||M(n),q.pop())}else{r||M(n);var s=Z.length-1;if("clear"===n&&re.clear)q.clear();else{var l=o.interpreter(n,q);l!==e&&(s===Z.length-1?(Z.pop(),l!==!1&&q.echo(l)):Z=l===!1?Z.slice(0,s).concat(Z.slice(s+1)):Z.slice(0,s).concat([l]).concat(Z.slice(s+1)),q.resize())}}}catch(u){throw x(u,"USER"),q.resume(),u}}function A(){if("function"==typeof re.onBeforeLogout)try{if(re.onBeforeLogout(q)===!1)return}catch(t){throw x(t,"onBeforeLogout"),t}if(E(),"function"==typeof re.onAfterLogout)try{re.onAfterLogout(q)}catch(t){throw x(t,"onAfterlogout"),t}q.login(re.login,!0,O)}function E(){var e=q.prefix_name(!0)+"_";t.Storage.remove(e+"token"),t.Storage.remove(e+"login")}function D(e){var n=q.prefix_name()+"_interpreters",r=t.Storage.get(n);r=r?t.parseJSON(r):[],-1==t.inArray(e,r)&&(r.push(e),t.Storage.set(n,t.json_stringify(r)))}function F(t){var e=ce.top(),n=q.prefix_name(!0);I()||D(n),fe.name(n),fe.prompt("function"==typeof e.prompt?function(t){e.prompt(t,q)}:e.prompt),fe.set(""),t||"function"!=typeof e.onStart||e.onStart(q)}function O(){F(),T();var e=!1;if("function"==typeof re.onInit){ee=function(){e=!0};try{re.onInit(q)}catch(n){throw x(n,"OnInit"),n}finally{ee=t.noop,e||q.resume()}}}function L(e,n,r){var i=fe.get().substring(0,fe.position());if(i===e){for(var o=new RegExp("^"+t.terminal.escape_regex(n)),a=[],s=r.length;s--;)o.test(r[s])&&a.push(r[s]);if(1===a.length)q.insert(a[0].replace(o,"")+" ");else if(a.length>1)if(Q>=2)M(e),q.echo(a.join("	")),Q=0;else{var l,u=!1;t:for(l=n.length;l<a[0].length;++l){for(s=1;s<a.length;++s)if(a[0].charAt(l)!==a[s].charAt(l))break t;u=!0}u&&q.insert(a[0].slice(0,l).replace(o,""))}}}function I(){return te||fe.mask()}function N(n){var r,i,o=ce.top();if("function"===t.type(o.keydown)&&(r=o.keydown(n,q),r!==e))return r;var a;if(a=re.completion&&"boolean"!=t.type(re.completion)&&!o.completion?re.completion:o.completion,q.oneTime(10,function(){se()}),"function"===t.type(re.keydown)&&(r=re.keydown(n,q),r!==e))return r;if(q.paused()){if(68===n.which&&n.ctrlKey){if(z.length){for(i=z.length;i--;){var s=z[i];if(4!==s.readyState)try{s.abort()}catch(l){q.error(f.ajaxAbortError)}}z=[],q.resume()}return!1}}else{if(9!==n.which&&(Q=0),68===n.which&&n.ctrlKey)return te||(""===fe.get()?ce.size()>1||re.login!==e?q.pop(""):(q.resume(),q.echo("")):q.set_command("")),!1;if(76===n.which&&n.ctrlKey)q.clear();else{if(a&&9===n.which){++Q;var u,c=fe.get().substring(0,fe.position()),f=c.split(" ");if(1==f.length)u=f[0];else for(u=f[f.length-1],i=f.length-1;i>0&&"\\"==f[i-1][f[i-1].length-1];i--)u=f[i-1]+" "+u;switch(t.type(a)){case"function":a(q,u,function(t){L(c,u,t)});break;case"array":L(c,u,a);break;default:throw new Error(t.terminal.defaults.strings.invalidCompletion)}return!1}if(86===n.which&&n.ctrlKey)return void q.oneTime(1,function(){$()});if(9===n.which&&n.ctrlKey){if(H.length()>1)return q.focus(!1),!1}else 34===n.which?q.scroll(q.height()):33===n.which?q.scroll(-q.height()):q.attr({scrollTop:q.attr("scrollHeight")})}}}var j=[],B=1,q=this;if(this.length>1)return this.each(function(){t.fn.terminal.call(t(this),n,t.extend({name:q.selector},r))});if(q.data("terminal"))return q.data("terminal");if(0===q.length)throw'Sorry, but terminal said that "'+q.selector+'" is not valid selector!';var W,V,U,Y,G,X,K,Q=0,Z=[],J=H.length(),te=!1,ee=t.noop,ne=[],re=t.extend({},t.terminal.defaults,{name:q.selector},r||{}),ie=t.terminal.defaults.strings,oe=re.enabled,ae=!1;t.extend(q,t.omap({clear:function(){U.html(""),fe.set(""),Z=[];try{re.onClear(q)}catch(t){throw x(t,"onClear"),t}return q.attr({scrollTop:0}),q},export_view:function(){if(te)throw new Exception(ie.notWhileLogin);return{prompt:q.get_prompt(),command:q.get_command(),position:fe.position(),lines:Z.slice(0)}},import_view:function(t){if(te)throw new Exception(ie.notWhileLogin);return q.set_prompt(t.prompt),q.set_command(t.command),fe.position(t.position),Z=t.lines,k(),q},exec:function(t,e){return ae?ne.push([t,e]):_(t,e,!0),q},login:function(e,n,r,i){if(te)throw new Error(ie.notWhileLogin);if("function"!=typeof e)throw new Error(ie.loginIsNotAFunction);if(q.token(!0)&&q.login_name(!0))return"function"==typeof r&&r(),q;return re.history&&fe.history().disable(),te=!0,q.push(function(o){q.set_mask(!0).push(function(a){try{e.call(q,o,a,function(e,a){if(e){q.pop().pop(),re.history&&fe.history().enable();var s=q.prefix_name(!0)+"_";t.Storage.set(s+"token",e),t.Storage.set(s+"login",o),te=!1,"function"==typeof r&&r()}else n?(a||q.error(ie.wrongPasswordTryAgain),q.pop().set_mask(!1)):(te=!1,a||q.error(ie.wrongPassword),q.pop().pop()),"function"==typeof i&&i()})}catch(s){x(s,"USER(authentication)")}},{prompt:ie.password+": "})},{prompt:ie.login+": "})},settings:re,commands:function(){return ce.top().interpreter},setInterpreter:function(e,n){function r(){q.pause(),h(e,n,function(e){q.resume();var n=ce.top();t.extend(n,e),F(!0)})}"string"==t.type(e)&&n?q.login(p(e,n),!0,r):r()},greetings:function(){return T(),q},paused:function(){return ae},pause:function(){return ee(),!ae&&fe&&(ae=!0,q.disable(),fe.hidden()),q},resume:function(){if(ae&&fe){ae=!1,q.enable(),fe.visible();var t=ne;for(ne=[];t.length;)q.exec.apply(q,t.shift());$()}return q},cols:function(){return Y},rows:function(){return G},history:function(){return fe.history()},next:function(){if(1===H.length())return q;{var e=q.offset().top;q.height(),q.scrollTop()}if(g(q)){H.front().disable();var n=H.rotate().enable(),r=n.offset().top-50;t("html,body").animate({scrollTop:r},500);try{re.onTerminalChange(n)}catch(i){throw x(i,"onTerminalChange"),i}return n}return q.enable(),t("html,body").animate({scrollTop:e-50},500),q},focus:function(t,e){return q.oneTime(1,function(){if(1===H.length())if(t===!1)try{e||re.onBlur(q)===!1||q.disable()}catch(n){throw x(n,"onBlur"),n}else try{e||re.onFocus(q)===!1||q.enable()}catch(n){throw x(n,"onFocus"),n}else if(t===!1)q.next();else{var r=H.front();if(r!=q&&(r.disable(),!e))try{re.onTerminalChange(q)}catch(n){throw x(n,"onTerminalChange"),n}H.set(q),q.enable()}}),q},enable:function(){return Y===e&&q.resize(),fe&&(fe.enable(),oe=!0),q},disable:function(){return fe&&(oe=!1,fe.disable()),q},enabled:function(){return oe},signature:function(){var t=q.cols(),e=15>t?null:35>t?0:55>t?1:64>t?2:75>t?3:4;return null!==e?R[e].join("\n")+"\n":""},version:function(){return P},cmd:function(){return fe},get_command:function(){return fe.get()},set_command:function(t){return fe.set(t),q},insert:function(t){if("string"==typeof t)return fe.insert(t),q;throw"insert function argument is not a string"},set_prompt:function(t){return C("prompt",t)&&(fe.prompt("function"==typeof t?function(e){t(e,q)}:t),ce.top().prompt=t),q},get_prompt:function(){return ce.top().prompt},set_mask:function(t){return fe.mask(t),q},get_output:function(e){return e?Z:t.map(Z,function(t){return"function"==typeof t[0]?t[0]():t[0]}).join("\n")},resize:function(t,e){t&&e&&(q.width(t),q.height(e)),t=q.width(),e=q.height();var n=v(q),r=y(q);return(n!==Y||r!==G)&&(Y=n,G=r,k(),"function"!=typeof re.onResize||K===e&&X===t||re.onResize(q),(K!==e||X!==t)&&(K=e,X=t)),q},flush:function(){try{var e;if(t.each(j,function(n,r){if(r===B)e=t("<div></div>");else if("function"==typeof r){e.appendTo(U);try{r(e)}catch(i){x(i,"USER:echo(finalize)")}}else t("<div/>").html(r).appendTo(e).width("100%")}),re.outputLimit>=0){var n=0===re.outputLimit?q.rows():re.outputLimit,r=U.find("div div");if(r.length>n){var i=r.slice(0,Z.length-n+1),o=i.parent();i.remove(),o.each(function(){var e=t(this);e.is(":empty")&&e.remove()})}}$(),j=[]}catch(a){alert("[Flush] "+m(a)+"\n"+a.stack)}return q},echo:function(e,n){try{e=e||"";var r=t.extend({flush:!0,raw:!1,finalize:t.noop},n||{});j=[],S(e,r),Z.push([e,r]),r.flush&&q.flush(),se()}catch(i){alert("[Terminal.echo] "+m(i)+"\n"+i.stack)}return q},error:function(e,n){return q.echo("[[;#f00;]"+t.terminal.escape_brackets(e).replace(/\\$/,"&#92;")+"]",n)},exception:function(e,n){var r=m(e);n&&(r="&#91;"+n+"&#93;: "+r),r&&q.error(r,{finalize:function(t){t.addClass("exception message")}}),"string"==typeof e.fileName&&(q.pause(),t.get(e.fileName,function(t){q.resume();var n=e.lineNumber-1,r=t.split("\n")[n];r&&q.error("&#91;"+e.lineNumber+"&#93;: "+r)})),e.stack&&q.error(e.stack,{finalize:function(t){t.addClass("exception stack-trace")}})},scroll:function(t){var e;return t=Math.round(t),W.prop?(t>W.prop("scrollTop")&&t>0&&W.prop("scrollTop",0),e=W.prop("scrollTop"),W.scrollTop(e+t)):(t>W.attr("scrollTop")&&t>0&&W.attr("scrollTop",0),e=W.attr("scrollTop"),W.scrollTop(e+t)),q},logout:re.login?function(){for(;ce.size()>1;)q.pop();return q.pop()}:function(){q.error(ie.loginFunctionMissing)},token:re.login?function(e){return t.Storage.get(q.prefix_name(e)+"_token")}:t.noop,login_name:re.login?function(e){return t.Storage.get(q.prefix_name(e)+"_login")}:t.noop,name:function(){return ce.top().name},prefix_name:function(t){var e=(re.name?re.name+"_":"")+J;return t&&ce.size()>1&&(e+="_"+ce.map(function(t){return t.name}).slice(1).join("_")),e},push:function(e,n){n=n||{},n.name=n.name||V,n.prompt=n.prompt||n.name+" ";var r=ce.top();return r&&(r.mask=fe.mask()),h(e,n.login,function(r){if(ce.push(t.extend({},r,n)),n.login){var i=t.type(n.login);"function"==i?q.login(n.login,!1,F,q.pop):("string"==t.type(e)&&"string"==i||"boolean"==i)&&q.login(p(e,n.login),!1,F,q.pop)}else F()}),q},pop:function(n){n!==e&&M(n);var r=q.token(!0);if(1==ce.size())if(re.login){if(A(),"function"===t.type(re.onExit))try{re.onExit(q)}catch(i){throw x(i,"onExit"),i}}else q.error(ie.canExitError);else{r&&E();var o=ce.pop();if(F(),"function"===t.type(o.onExit))try{o.onExit(q)}catch(i){throw x(i,"onExit"),i}q.set_mask(ce.top().mask)}return q},level:function(){return ce.size()},reset:function(){for(q.clear();ce.size()>1;)ce.pop();return O(),q},purge:function(){var e=q.prefix_name()+"_",n=t.Storage.get(e+"interpreters");return t.each(t.parseJSON(n),function(e,n){t.Storage.remove(n+"_commands"),t.Storage.remove(n+"_token"),t.Storage.remove(n+"_login")}),fe.purge(),t.Storage.remove(e+"interpreters"),q},destroy:function(){return fe.destroy().remove(),U.remove(),t(document).unbind(".terminal"),t(window).unbind(".terminal"),q.unbind("click, mousewheel"),q.removeData("terminal").removeClass("terminal"),re.width&&q.css("width",""),re.height&&q.css("height",""),q}},function(t,e){return function(){try{return e.apply(this,Array.prototype.slice.apply(arguments))}catch(n){throw"exec"!==t&&"resume"!==t&&x(n,"TERMINAL"),n}}}));var se=function(){var t=w(q);return function(){t!==w(q)&&(q.resize(),t=w(q))}}();if(re.width&&q.width(re.width),re.height&&q.height(re.height),W=navigator.userAgent.toLowerCase().match(/(webkit)[ \/]([\w.]+)/)||"body"!=q[0].tagName.toLowerCase()?q:t("html"),t(document).bind("ajaxSend.terminal",function(t,e){z.push(e)}),U=t("<div>").addClass("terminal-output").appendTo(q),q.addClass("terminal"),("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(q.click(function(){q.find("textarea").focus()}),q.find("textarea").focus()),re.login&&"function"==typeof re.onBeforeLogin)try{re.onBeforeLogin(q)}catch(le){throw x(le,"onBeforeLogin"),le}var ue=re.login;"string"!=typeof n||"string"!=typeof re.login&&!re.login||(re.login=p(n,re.login)),H.append(q);var ce,fe;return h(n,ue,function(n){if(ce=new c(t.extend({name:re.name,prompt:re.prompt,greetings:re.greetings},n)),fe=t("<div/>").appendTo(q).cmd({prompt:re.prompt,history:re.history,historyFilter:re.historyFilter,historySize:re.historySize,width:"100%",keydown:N,keypress:re.keypress?function(t){return re.keypress(t,q)}:null,onCommandChange:function(e){if("function"===t.type(re.onCommandChange))try{re.onCommandChange(e,q)}catch(n){throw x(n,"onCommandChange"),n}$()},commands:_}),oe?q.focus(e,!0):q.disable(),t(document).bind("click.terminal",function(e){t(e.target).closest(".terminal").hasClass("terminal")||re.onBlur(q)===!1||q.disable()}),q.click(function(){q.enabled()||q.focus()}).mousedown(function(t){2==t.which&&q.insert(b())}),re.login?q.login(re.login,!0,O):O(),q.is(":visible")&&(Y=v(q),fe.resize(Y),G=y(q)),q.oneTime(100,function(){t(window).bind("resize.terminal",function(){if(q.is(":visible")){var t=q.width(),e=q.height();(K!==e||X!==t)&&q.resize()}})}),t.event.special.mousewheel){var r=!1;t(document).bind("keydown.terminal",function(t){t.shiftKey&&(r=!0)}).bind("keyup.terminal",function(t){(t.shiftKey||16==t.which)&&(r=!1)}),q.mousewheel(function(t,e){r||q.scroll(e>0?-40:40)})}}),q.data("terminal",q),q}}(jQuery),function(t){t.fn.metrojs={capabilities:null,checkCapabilities:function(e,n){return(null==t.fn.metrojs.capabilities||"undefined"!=typeof n&&1==n)&&(t.fn.metrojs.capabilities=new t.fn.metrojs.MetroModernizr(e)),t.fn.metrojs.capabilities}};var e=t.fn.metrojs,n=window.console;"object"!=typeof n&&(n={},n.log=function(){},n.error=function(){});var r="function"==typeof t.error?t.error:n.error,i=99e3;t.fn.liveTile=function(e){if(o[e]){for(var n=[],r=1;r<=arguments.length;r++)n[r-1]=arguments[r];return o[e].apply(this,n)}return"object"!=typeof e&&e?(t.error("Method "+e+" does not exist on jQuery.liveTile"),null):o.init.apply(this,arguments)},t.fn.liveTile.contentModules={modules:[],addContentModule:function(t,e){this.modules instanceof Array||(this.modules=[]),this.modules.push(e)},hasContentModule:function(t){if("undefined"==typeof t||!(this.modules instanceof Array))return-1;for(var e=0;e<this.modules.length;e++)if("undefined"!=typeof this.modules[e].moduleName&&this.modules[e].moduleName==t)return e;return-1}},t.fn.liveTile.defaults={mode:"slide",speed:500,initDelay:-1,delay:5e3,stops:"100%",stack:!1,direction:"vertical",animationDirection:"forward",tileSelector:">div,>li,>p,>img,>a",tileFaceSelector:">div,>li,>p,>img,>a",ignoreDataAttributes:!1,click:null,link:"",newWindow:!1,bounce:!1,bounceDirections:"all",bounceFollowsMove:!0,pauseOnHover:!1,pauseOnHoverEvent:"both",playOnHover:!1,playOnHoverEvent:"both",onHoverDelay:0,onHoverOutDelay:200,repeatCount:-1,appendBack:!0,alwaysTrigger:!1,flipListOnHover:!1,flipListOnHoverEvent:"mouseout",noHAflipOpacity:"1",haTransFunc:"ease",noHaTransFunc:"linear",currentIndex:0,startNow:!0,useModernizr:"undefined"!=typeof window.Modernizr,useHardwareAccel:!0,useTranslate:!0,faces:{$front:null,$back:null},animationStarting:function(){},animationComplete:function(){},triggerDelay:function(){return 3e3*Math.random()},swap:"",swapFront:"-",swapBack:"-",contentModules:[],rebindMessage:"tile data is missing. Are you missing a call to rebind or destroy? You may also be able to avoid this error by calling stop or pause"};var o={init:function(n){var r=t.extend({},t.fn.liveTile.defaults,n);return e.checkCapabilities(r),s.getBrowserPrefix(),-1==t.fn.liveTile.contentModules.hasContentModule("image")&&t.fn.liveTile.contentModules.addContentModule("image",l.imageSwap),-1==t.fn.liveTile.contentModules.hasContentModule("html")&&t.fn.liveTile.contentModules.addContentModule("html",l.htmlSwap),t(this).each(function(e,n){var i=t(n),o=a.initTileData(i,r);o.faces=a.prepTile(i,o),o.fade=function(t){a.fade(i,t)},o.slide=function(t){a.slide(i,t)},o.carousel=function(t){a.carousel(i,t)},o.flip=function(t){a.flip(i,t)},o.flipList=function(t){a.flipList(i,t)};var s={fade:o.fade,slide:o.slide,carousel:o.carousel,flip:o.flip,"flip-list":o.flipList};o.doAction=function(t){var e=s[o.mode];"function"==typeof e&&(e(t),o.hasRun=!0),t==o.timer.repeatCount&&(o.runEvents=!1)},o.timer=new t.fn.metrojs.TileTimer(o.delay,o.doAction,o.repeatCount),i.data("LiveTile",o),("flip-list"!==o.mode||0==o.flipListOnHover)&&(o.pauseOnHover?a.bindPauseOnHover(i):o.playOnHover&&a.bindPlayOnHover(i,o)),(o.link.length>0||"function"==typeof o.click)&&i.css({cursor:"pointer"}).bind("click.liveTile",function(t){var e=!0;"function"==typeof o.click&&(e=o.click(i,o)||!1),e&&o.link.length>0&&(t.preventDefault(),o.newWindow?window.open(o.link):window.location=o.link)}),a.bindBounce(i,o),o.startNow&&"none"!=o.mode&&(o.runEvents=!0,o.timer.start(o.initDelay))})},"goto":function(e){var n,r=typeof e;if("undefined"===r&&(n={index:-99,delay:0,autoAniDirection:!1}),"number"!==r&&isNaN(e)){if("string"===r)if("next"==e)n={index:-99,delay:0};else{if(0!==e.indexOf("prev"))return t.error(e+' is not a recognized action for .liveTile("goto")'),t(this);n={index:-100,delay:0}}else if("object"===r){"undefined"==typeof e.delay&&(e.delay=0);var i=typeof e.index;"undefined"===i?e.index=0:"string"===i&&("next"===e.index?e.index=-99:0===e.index.indexOf("prev")&&(e.index=-100)),n=e}}else n={index:parseInt(e,10),delay:0};return t(this).each(function(e,r){var i=t(r),o=i.data("LiveTile"),a=i.data("metrojs.tile"),s=n.index;if(a.animating===!0)return t(this);if("carousel"===o.mode){var l=o.faces.$listTiles.filter(".active"),u=o.faces.$listTiles.index(l);if(-100===s?(("undefined"==typeof n.autoAniDirection||1==n.autoAniDirection)&&(o.tempValues.animationDirection="undefined"==typeof n.animationDirection?"backward":n.animationDirection),s=0===u?o.faces.$listTiles.length-1:u-1):-99===s&&(("undefined"==typeof n.autoAniDirection||1==n.autoAniDirection)&&(o.tempValues.animationDirection="undefined"==typeof n.animationDirection?"forward":n.animationDirection),s=u+1),u==s)return;"undefined"!=typeof n.direction&&(o.tempValues.direction=n.direction),"undefined"!=typeof n.animationDirection&&(o.tempValues.animationDirection=n.animationDirection),o.currentIndex=0==s?o.faces.$listTiles.length:s-1}else o.currentIndex=s;o.runEvents=!0,o.timer.start(n.delay>=0?n.delay:o.delay)})},play:function(e){var n,r=typeof e;return"undefined"===r?n={delay:-1}:"number"===r?n={delay:e}:"object"===r&&("undefined"==typeof e.delay&&(e.delay=-1),n=e),t(this).each(function(e,r){var i=t(r),o=i.data("LiveTile");o.runEvents=!0,n.delay<0&&!o.hasRun&&(n.delay=o.initDelay),o.timer.start(n.delay>=0?n.delay:o.delay)})},animate:function(){return t(this).each(function(e,n){var r=t(n),i=r.data("LiveTile");i.doAction()})},stop:function(){return t(this).each(function(e,n){var r=t(n),i=r.data("LiveTile");i.hasRun=!1,i.runEvents=!1,i.timer.stop(),window.clearTimeout(i.eventTimeout),window.clearTimeout(i.flCompleteTimeout),window.clearTimeout(i.completeTimeout),"flip-list"===i.mode&&i.faces.$listTiles.each(function(e,n){var r=t(n).data("metrojs.tile");window.clearTimeout(r.eventTimeout),window.clearTimeout(r.flCompleteTimeout),window.clearTimeout(r.completeTimeout)})})},pause:function(){return t(this).each(function(e,n){var r=t(n),i=r.data("LiveTile");i.timer.pause(),i.runEvents=!1,window.clearTimeout(i.eventTimeout),window.clearTimeout(i.flCompleteTimeout),window.clearTimeout(i.completeTimeout),"flip-list"===i.mode&&i.faces.$listTiles.each(function(e,n){var r=t(n).data("metrojs.tile");window.clearTimeout(r.eventTimeout),window.clearTimeout(r.flCompleteTimeout),window.clearTimeout(r.completeTimeout)})})},restart:function(e){var n,r=typeof e;return"undefined"===r?n={delay:-1}:"number"===r?n={delay:e}:"object"===r&&("undefined"==typeof e.delay&&(e.delay=-1),n=e),t(this).each(function(e,r){var i=t(r),o=i.data("LiveTile");n.delay<0&&!o.hasRun&&(n.delay=o.initDelay),o.hasRun=!1,o.runEvents=!0,o.timer.restart(n.delay>=0?n.delay:o.delay)})},rebind:function(e){return t(this).each(function(t,n){"undefined"!=typeof e?("undefined"!=typeof e.timer&&null!=e.timer&&e.timer.stop(),e.hasRun=!1,o.init.apply(n,[e])):o.init.apply(n,[{}])})},destroy:function(e){var n,r=typeof e;return"undefined"===r?n={removeCss:!1}:"boolean"===r?n={removeCss:e}:"object"===r&&("undefined"==typeof e.removeCss&&(e.removeCss=!1),n=e),t(this).each(function(e,r){var i=t(r),o=i.data("LiveTile");if("undefined"!=typeof o){i.unbind(".liveTile");var l=s.appendStyleProperties({margin:"",cursor:""},["transform","transition"],["",""]);o.timer.stop(),window.clearTimeout(o.eventTimeout),window.clearTimeout(o.flCompleteTimeout),window.clearTimeout(o.completeTimeout),null!=o.faces.$listTiles&&o.faces.$listTiles.each(function(e,r){var i=t(r);if("flip-list"===o.mode){var s=i.data("metrojs.tile");window.clearTimeout(s.eventTimeout),window.clearTimeout(s.flCompleteTimeout),window.clearTimeout(s.completeTimeout)}else if("carousel"===o.mode){var u=o.listData[e];u.bounce&&a.unbindMsBounce(i,u)}n.removeCss?(i.removeClass("ha"),i.find(o.tileFaceSelector).unbind(".liveTile").removeClass("bounce flip-front flip-back ha slide slide-front slide-back").css(l)):i.find(o.tileFaceSelector).unbind(".liveTile"),i.removeData("metrojs.tile")}).unbind(".liveTile"),null!=o.faces.$front&&n.removeCss&&o.faces.$front.removeClass("flip-front flip-back ha slide slide-front slide-back").css(l),null!=o.faces.$back&&n.removeCss&&o.faces.$back.removeClass("flip-front flip-back ha slide slide-front slide-back").css(l),o.bounce&&a.unbindMsBounce(i,o),o.playOnHover&&a.unbindMsPlayOnHover(i,o),o.pauseOnhover&&a.unbindMsPauseOnHover(i,o),i.removeClass("ha"),i.removeData("LiveTile"),i.removeData("metrojs.tile"),o=null}})}},a={dataAtr:function(t,e,n){return"undefined"!=typeof t.attr("data-"+e)?t.attr("data-"+e):n},dataMethod:function(t,e,n){return"undefined"!=typeof t.data(e)?t.data(e):n},getDataOrDefault:null,initTileData:function(n,r){var i=0==r.ignoreDataAttributes,o=null;null==this.getDataOrDefault&&(this.getDataOrDefault=e.capabilities.isOldJQuery?this.dataAtr:this.dataMethod),o=i?{speed:this.getDataOrDefault(n,"speed",r.speed),delay:this.getDataOrDefault(n,"delay",r.delay),stops:this.getDataOrDefault(n,"stops",r.stops),stack:this.getDataOrDefault(n,"stack",r.stack),mode:this.getDataOrDefault(n,"mode",r.mode),direction:this.getDataOrDefault(n,"direction",r.direction),useHardwareAccel:this.getDataOrDefault(n,"ha",r.useHardwareAccel),repeatCount:this.getDataOrDefault(n,"repeat",r.repeatCount),swap:this.getDataOrDefault(n,"swap",r.swap),appendBack:this.getDataOrDefault(n,"appendback",r.appendBack),currentIndex:this.getDataOrDefault(n,"start-index",r.currentIndex),animationDirection:this.getDataOrDefault(n,"ani-direction",r.animationDirection),startNow:this.getDataOrDefault(n,"start-now",r.startNow),tileSelector:this.getDataOrDefault(n,"tile-selector",r.tileSelector),tileFaceSelector:this.getDataOrDefault(n,"face-selector",r.tileFaceSelector),bounce:this.getDataOrDefault(n,"bounce",r.bounce),bounceDirections:this.getDataOrDefault(n,"bounce-dir",r.bounceDirections),bounceFollowsMove:this.getDataOrDefault(n,"bounce-follows",r.bounceFollowsMove),click:this.getDataOrDefault(n,"click",r.click),link:this.getDataOrDefault(n,"link",r.link),newWindow:this.getDataOrDefault(n,"new-window",r.newWindow),alwaysTrigger:this.getDataOrDefault(n,"always-trigger",r.alwaysTrigger),flipListOnHover:this.getDataOrDefault(n,"flip-onhover",r.flipListOnHover),pauseOnHover:this.getDataOrDefault(n,"pause-onhover",r.pauseOnHover),playOnHover:this.getDataOrDefault(n,"play-onhover",r.playOnHover),onHoverDelay:this.getDataOrDefault(n,"hover-delay",r.onHoverDelay),onHoverOutDelay:this.getDataOrDefault(n,"hoverout-delay",r.onHoverOutDelay),noHAflipOpacity:this.getDataOrDefault(n,"flip-opacity",r.noHAflipOpacity),useTranslate:this.getDataOrDefault(n,"use-translate",r.useTranslate),runEvents:!1,isReversed:!1,loopCount:0,contentModules:[],listData:[],height:n.height(),width:n.width(),tempValues:{}}:t.extend(!0,{runEvents:!1,isReversed:!1,loopCount:0,contentModules:[],listData:[],height:n.height(),width:n.width(),tempValues:{}},r),o.useTranslate=o.useTranslate&&o.useHardwareAccel&&e.capabilities.canTransform&&e.capabilities.canTransition,o.margin="vertical"===o.direction?o.height/2:o.width/2,o.stops="object"==typeof r.stops&&r.stops instanceof Array?r.stops:(""+o.stops).split(","),1===o.stops.length&&o.stops.push("0px");var s=o.swap instanceof Array?o.swap:o.swap.replace(" ","").split(","),l=i?this.getDataOrDefault(n,"swap-front",r.swapFront):r.swapFront,u=i?this.getDataOrDefault(n,"swap-back",r.swapBack):r.swapBack;o.swapFront=l instanceof Array?l:"-"===l?s:l.replace(" ","").split(","),o.swapBack=u instanceof Array?u:"-"===u?s:u.replace(" ","").split(",");var c;for(c=0;c<o.swapFront.length;c++)o.swapFront[c].length>0&&-1===t.inArray(o.swapFront[c],s)&&s.push(o.swapFront[c]);for(c=0;c<o.swapBack.length;c++)o.swapBack[c].length>0&&-1===t.inArray(o.swapBack[c],s)&&s.push(o.swapBack[c]);for(o.swap=s,c=0;c<s.length;c++)if(s[c].length>0){var f=t.fn.liveTile.contentModules.hasContentModule(s[c]);f>-1&&o.contentModules.push(t.fn.liveTile.contentModules.modules[f])}o.initDelay=i?this.getDataOrDefault(n,"initdelay",r.initDelay):r.initDelay,o.delay<-1?o.delay=r.triggerDelay(1):o.delay<0&&(o.delay=3500+4501*Math.random()),o.initDelay<0&&(o.initDelay=o.delay);var h={};for(c=0;c<o.contentModules.length;c++)t.extend(h,o.contentModules[c].data);t.extend(h,r,o);var p;for("flip-list"===h.mode?(p=n.find(h.tileSelector).not(".tile-title"),p.each(function(e,n){var r=t(n),o={direction:i?a.getDataOrDefault(r,"direction",h.direction):h.direction,newWindow:i?a.getDataOrDefault(r,"new-window",!1):!1,link:i?a.getDataOrDefault(r,"link",""):"",faces:{$front:null,$back:null},height:r.height(),width:r.width(),isReversed:!1};o.margin="vertical"===o.direction?o.height/2:o.width/2,h.listData.push(o)})):"carousel"===h.mode&&(h.stack=!0,p=n.find(h.tileSelector).not(".tile-title"),p.each(function(e,n){var r=t(n),o={bounce:i?a.getDataOrDefault(r,"bounce",!1):!1,bounceDirections:i?a.getDataOrDefault(r,"bounce-dir","all"):"all",link:i?a.getDataOrDefault(r,"link",""):"",newWindow:i?a.getDataOrDefault(r,"new-window",!1):!1,animationDirection:i?a.getDataOrDefault(r,"ani-direction",""):"",direction:i?a.getDataOrDefault(r,"direction",""):""};h.listData.push(o)})),c=0;c<o.contentModules.length;c++)"function"==typeof h.contentModules[c].initData&&h.contentModules[c].initData(h,n);return o=null,h},prepTile:function(n,r){n.addClass(r.mode);var o,l,u,c,f={$tileFaces:null,$listTiles:null,$front:null,$back:null};switch(r.mode){case"fade":f.$tileFaces=n.find(r.tileFaceSelector).not(".tile-title"),f.$front=null!=r.faces.$front&&r.faces.$front.length>0?r.faces.$front.addClass("fade-front"):f.$tileFaces.filter(":first").addClass("fade-front"),f.$back=null!=r.faces.$back&&r.faces.$back.length>0?r.faces.$back.addClass("fade-back"):f.$tileFaces.length>1?f.$tileFaces.filter(":last").addClass("fade-back"):r.appendBack?t('<div class="fade-back"></div>').appendTo(n):t("<div></div>");break;case"slide":if(f.$tileFaces=n.find(r.tileFaceSelector).not(".tile-title"),f.$front=null!=r.faces.$front&&r.faces.$front.length>0?r.faces.$front.addClass("slide-front"):f.$tileFaces.filter(":first").addClass("slide-front"),f.$back=null!=r.faces.$back&&r.faces.$back.length>0?r.faces.$back.addClass("slide-back"):f.$tileFaces.length>1?f.$tileFaces.filter(":last").addClass("slide-back"):r.appendBack?t('<div class="slide-back"></div>').appendTo(n):t("<div></div>"),1==r.stack){var h,p;"vertical"===r.direction?(h="top",p="translate(0%, -100%) translateZ(0)"):(h="left",p="translate(-100%, 0%) translateZ(0)"),u={},r.useTranslate?s.appendStyleProperties(u,["transform"],[p]):u[h]="-100%",f.$back.css(u)}n.data("metrojs.tile",{animating:!1}),e.capabilities.canTransition&&r.useHardwareAccel&&(n.addClass("ha"),f.$front.addClass("ha"),f.$back.addClass("ha"));break;case"carousel":f.$listTiles=n.find(r.tileSelector).not(".tile-title");var d=f.$listTiles.length;n.data("metrojs.tile",{animating:!1}),r.currentIndex=Math.min(r.currentIndex,d-1),f.$listTiles.each(function(n,i){var o=t(i).addClass("slide"),l=r.listData[n],u="string"==typeof l.animationDirection&&l.animationDirection.length>0?l.animationDirection:r.animationDirection,f="string"==typeof l.direction&&l.direction.length>0?l.direction:r.direction;n==r.currentIndex?o.addClass("active"):"forward"===u?"vertical"===f?(c=r.useTranslate?s.appendStyleProperties({},["transform"],["translate(0%, 100%) translateZ(0)"]):{left:"0%",top:"100%"},o.css(c)):(c=r.useTranslate?s.appendStyleProperties({},["transform"],["translate(100%, 0%) translateZ(0)"]):{left:"100%",top:"0%"},o.css(c)):"backward"===u&&("vertical"===f?(c=r.useTranslate?s.appendStyleProperties({},["transform"],["translate(0%, -100%) translateZ(0)"]):{left:"0%",top:"-100%"},o.css(c)):(c=r.useTranslate?s.appendStyleProperties({},["transform"],["translate(-100%, 0%) translateZ(0)"]):{left:"-100%",top:"0%"},o.css(c))),a.bindLink(o,l),r.useHardwareAccel&&e.capabilities.canTransition&&a.bindBounce(o,l),o=null,l=null}),e.capabilities.canFlip3d&&r.useHardwareAccel&&(n.addClass("ha"),f.$listTiles.addClass("ha"));break;case"flip-list":f.$listTiles=n.find(r.tileSelector).not(".tile-title"),f.$listTiles.each(function(n,c){var f=t(c).addClass("tile-"+(n+1)),h=f.find(r.tileFaceSelector).filter(":first").addClass("flip-front").css({margin:"0px"});1===f.find(r.tileFaceSelector).length&&1==r.appendBack&&f.append("<div></div>");var p=f.find(r.tileFaceSelector).filter(":last").addClass("flip-back").css({margin:"0px"});r.listData[n].faces.$front=h,r.listData[n].faces.$back=p,f.data("metrojs.tile",{animating:!1,count:1,completeTimeout:null,flCompleteTimeout:null,index:n});var d=f.data("metrojs.tile");e.capabilities.canFlip3d&&r.useHardwareAccel?(f.addClass("ha"),h.addClass("ha"),p.addClass("ha"),o="vertical"===r.listData[n].direction?"rotateX(180deg)":"rotateY(180deg)",u=s.appendStyleProperties({},["transform"],[o]),p.css(u)):(l="vertical"===r.listData[n].direction?{height:"100%",width:"100%",marginTop:"0px",opacity:"1"}:{height:"100%",width:"100%",marginLeft:"0px",opacity:"1"},u="vertical"===r.listData[n].direction?{height:"0px",width:"100%",marginTop:r.listData[n].margin+"px",opacity:r.noHAflipOpacity}:{height:"100%",width:"0px",marginLeft:r.listData[n].margin+"px",opacity:r.noHAflipOpacity},h.css(l),p.css(u));var g=function(){d.count++,d.count>=i&&(d.count=1)};if(r.flipListOnHover){var m=r.flipListOnHoverEvent+".liveTile";h.bind(m,function(){a.flip(f,d.count,r,g)}),p.bind(m,function(){a.flip(f,d.count,r,g)})}r.listData[n].link.length>0&&f.css({cursor:"pointer"}).bind("click.liveTile",function(){r.listData[n].newWindow?window.open(r.listData[n].link):window.location=r.listData[n].link})});break;case"flip":f.$tileFaces=n.find(r.tileFaceSelector).not(".tile-title"),f.$front=null!=r.faces.$front&&r.faces.$front.length>0?r.faces.$front.addClass("flip-front"):f.$tileFaces.filter(":first").addClass("flip-front"),f.$back=null!=r.faces.$back&&r.faces.$back.length>0?r.faces.$back.addClass("flip-back"):f.$tileFaces.length>1?f.$tileFaces.filter(":last").addClass("flip-back"):r.appendBack?t('<div class="flip-back"></div>').appendTo(n):t("<div></div>"),n.data("metrojs.tile",{animating:!1}),e.capabilities.canFlip3d&&r.useHardwareAccel?(n.addClass("ha"),f.$front.addClass("ha"),f.$back.addClass("ha"),o="vertical"===r.direction?"rotateX(180deg)":"rotateY(180deg)",u=s.appendStyleProperties({},["transform"],[o]),f.$back.css(u)):(l="vertical"===r.direction?{height:"100%",width:"100%",marginTop:"0px",opacity:"1"}:{height:"100%",width:"100%",marginLeft:"0px",opacity:"1"},u="vertical"===r.direction?{height:"0%",width:"100%",marginTop:r.margin+"px",opacity:"0"}:{height:"100%",width:"0%",marginLeft:r.margin+"px",opacity:"0"},f.$front.css(l),f.$back.css(u))
}return f},bindPauseOnHover:function(n){!function(){var r=n.data("LiveTile"),i=!1,o=!1,a=!1,s=!1,l="both"==r.pauseOnHoverEvent||"mouseover"==r.pauseOnHoverEvent||"mouseenter"==r.pauseOnHoverEvent,u="both"==r.pauseOnHoverEvent||"mouseout"==r.pauseOnHoverEvent||"mouseleave"==r.pauseOnHoverEvent;if(r.pOnHoverMethods={pause:function(){r.timer.pause(),"flip-list"===r.mode&&r.faces.$listTiles.each(function(e,n){window.clearTimeout(t(n).data("metrojs.tile").completeTimeout)})},over:function(t,e){e="undefined"==typeof e?!1:e,(e||!a)&&(i||o||r.runEvents&&(o=!0,r.eventTimeout=window.setTimeout(function(){o=!1,u&&(i=!0),a=!1,r.pOnHoverMethods.pause()},r.onHoverDelay)))},out:function(t,e){if(e="undefined"==typeof e?!1:e,e||1!=s){if(o)return window.clearTimeout(r.eventTimeout),void(o=!1);if(l){if(!i&&!o)return;r.runEvents&&r.timer.start(r.hasRun?r.delay:r.initDelay)}else r.pOnHoverMethods.pause();i=!1,s=!1}}},e.capabilities.canTouch)if(window.PointerEvent||window.MSPointerEvent){var c=window.MSPointerEvent?"MS":"";l&&n[0].addEventListener(c+"PointerOver",r.pOnHoverMethods.over,!1),u&&n[0].addEventListener(c+"PointerOut",r.pOnHoverMethods.out,!1)}else l&&(n.bind("mouseover.liveTile",r.pOnHoverMethods.over),n.bind("touchstart.liveTile",function(t){a=!1,r.pOnHoverMethods.over.apply(n[0],[t,!0])})),u&&(n.bind("mouseout.liveTile",r.pOnHoverMethods.out),n.bind("touchend.liveTile",function(t){s=!1,r.pOnHoverMethods.out.apply(n[0],[t,!0])}));else l&&n.bind("mouseover.liveTile",r.pOnHoverMethods.over),u&&n.bind("mouseout.liveTile",r.pOnHoverMethods.out)}()},unbindMsPauseOnHover:function(t,e){if("undefined"!=typeof e.pOnHoverMethods&&(window.PointerEvent||window.MSPointerEvent)){var n=window.MSPointerEvent?"MS":"";t[0].removeEventListener(n+"PointerOver",e.pOnHoverMethods.over,!1),t[0].removeEventListener(n+"PointerOut",e.pOnHoverMethods.out,!1)}},bindPlayOnHover:function(t,n){!function(){var r=!1,i=!1,a=!1,s=!1,l="both"==n.playOnHoverEvent||"mouseover"==n.playOnHoverEvent||"mouseenter"==n.playOnHoverEvent,u="both"==n.playOnHoverEvent||"mouseout"==n.playOnHoverEvent||"mouseleave"==n.playOnHoverEvent;if(n.onHoverMethods={over:function(e,s){if(s="undefined"==typeof s?!1:s,(s||!a)&&!(r||i||n.bounce&&"no"!=n.bounceMethods.down)){var l="flip"==n.mode||(n.startNow?!n.isReversed:n.isReversed);window.clearTimeout(n.eventTimeout),(n.runEvents&&l||!n.hasRun)&&(i=!0,n.eventTimeout=window.setTimeout(function(){i=!1,u&&(r=!0),o.play.apply(t[0],[0]),a=!1},n.onHoverDelay))}},out:function(e,a){return a="undefined"==typeof a?!1:a,a||1!=s?i?(window.clearTimeout(n.eventTimeout),void(i=!1)):void((!l||r||i)&&(window.clearTimeout(n.eventTimeout),n.eventTimeout=window.setTimeout(function(){var e="flip"==n.mode||(n.startNow?n.isReversed:!n.isReversed);n.runEvents&&e&&o.play.apply(t[0],[0]),s=!1,r=!1},n.speed+n.onHoverOutDelay))):void 0}},e.capabilities.canTouch)if(window.PointerEvent||window.MSPointerEvent){var c=window.MSPointerEvent?"MS":"";l&&t[0].addEventListener(c+"PointerEnter",n.onHoverMethods.over,!1),u&&t[0].addEventListener(c+"PointerLeave",n.onHoverMethods.out,!1)}else l&&(t.bind("touchstart.liveTile",function(e){a=!0,n.onHoverMethods.over.apply(t[0],[e,!0])}),t.bind("mouseenter.liveTile",n.onHoverMethods.over)),u&&(t.bind("touchend.liveTile,touchcancel.liveTile",function(e){s=!1,n.onHoverMethods.out.apply(t[0],[e,!0])}),t.bind("mouseleave.liveTile",n.onHoverMethods.out));else l&&t.bind("mouseenter.liveTile",n.onHoverMethods.over),u&&t.bind("mouseleave.liveTile",n.onHoverMethods.out)}()},unbindMsPlayOnHover:function(t,e){if("undefined"!=typeof e.onHoverMethods&&(window.PointerEvent||window.MSPointerEvent)){var n=window.MSPointerEvent?"MS":"";t[0].removeEventListener(n+"PointerOver",e.onHoverMethods.over,!1)}},bindBounce:function(n,r){r.bounce&&(n.addClass("bounce"),n.addClass("noselect"),function(){if(r.bounceMethods={down:"no",threshold:30,zeroPos:{x:0,y:0},eventPos:{x:0,y:0},inTilePos:{x:0,y:0},pointPos:{x:0,y:0},regions:{c:[0,0],tl:[-1,-1],tr:[1,-1],bl:[-1,1],br:[1,1],t:[null,-1],r:[1,null],b:[null,1],l:[-1,null]},targets:{all:["c","t","r","b","l","tl","tr","bl","br"],edges:["c","t","r","b","l"],corners:["c","tl","tr","bl","br"]},hitTest:function(n,i,o,a){var s=r.bounceMethods.regions,l=r.bounceMethods.targets[o],u=0,c=null,f=null,h={hit:[0,0],name:"c"};if(e.capabilities.isOldAndroid||!e.capabilities.canTransition)return h;"undefined"==typeof l&&("string"==typeof o&&(l=o.split(",")),t.isArray(l)&&-1==t.inArray("c")&&(a=0,h=null));for(var p=n.width(),d=n.height(),g=[p*a,d*a],m=i.x-.5*p,v=i.y-.5*d,y=[m>0?Math.abs(m)<=g[0]?0:1:Math.abs(m)<=g[0]?0:-1,v>0?Math.abs(v)<=g[1]?0:1:Math.abs(v)<=g[1]?0:-1];u<l.length;u++){if(null!=c)return c;var b=l[u],w=s[b];if("*"==b)return b=l[u+1],{region:s[b],name:b};y[0]==w[0]&&y[1]==w[1]?c={hit:w,name:b}:y[0]!=w[0]&&null!=w[0]||y[1]!=w[1]&&null!=w[1]||(f={hit:w,name:b})}return null!=c?c:null!=f?f:h},bounceDown:function(e){if("A"!=e.target.tagName||t(e).is(".bounce")){{var i=e.originalEvent&&e.originalEvent.touches?e.originalEvent.touches[0]:e,o=n.offset();window.pageXOffset,window.pageYOffset}r.bounceMethods.pointPos={x:i.pageX,y:i.pageY},r.bounceMethods.inTilePos={x:i.pageX-o.left,y:i.pageY-o.top},r.$tileParent||(r.$tileParent=n.parent());var a=r.$tileParent.offset();r.bounceMethods.eventPos={x:o.left-a.left+n.width()/2,y:o.top-a.top+n.height()/2};var l=r.bounceMethods.hitTest(n,r.bounceMethods.inTilePos,r.bounceDirections,.25);if(null==l)r.bounceMethods.down="no";else{if(window.PointerEvent||window.MSPointerEvent){var u=window.MSPointerEvent?"MS":"";document.addEventListener(u+"PointerUp",r.bounceMethods.bounceUp,!1),n[0].addEventListener(u+"PointerUp",r.bounceMethods.bounceUp,!1),document.addEventListener(u+"PointerCancel",r.bounceMethods.bounceUp,!1),r.bounceFollowsMove&&n[0].addEventListener(u+"PointerMove",r.bounceMethods.bounceMove,!1)}else t(document).bind("mouseup.liveTile, touchend.liveTile, touchcancel.liveTile, dragstart.liveTile",r.bounceMethods.bounceUp),r.bounceFollowsMove&&(n.bind("touchmove.liveTile",r.bounceMethods.bounceMove),n.bind("mousemove.liveTile",r.bounceMethods.bounceMove));var c="bounce-"+l.name;n.addClass(c),r.bounceMethods.down=c,r.bounceMethods.downPcss=s.appendStyleProperties({},["perspective-origin"],[r.bounceMethods.eventPos.x+"px "+r.bounceMethods.eventPos.y+"px"]),r.$tileParent.css(r.bounceMethods.downPcss)}}},bounceUp:function(){if("no"!=r.bounceMethods.down){if(r.bounceMethods.unBounce(),window.PointerEvent||window.MSPointerEvent){var e=window.MSPointerEvent?"MS":"";document.removeEventListener(e+"PointerUp",r.bounceMethods.bounceUp,!1),n[0].removeEventListener(e+"PointerUp",r.bounceMethods.bounceUp,!1),document.removeEventListener(e+"PointerCancel",r.bounceMethods.bounceUp,!1),r.bounceFollowsMove&&n[0].removeEventListener(e+"PointerMove",r.bounceMethods.bounceMove,!1)}else t(document).unbind("mouseup.liveTile, touchend.liveTile, touchcancel.liveTile, dragstart.liveTile",r.bounceMethods.bounceUp);r.bounceFollowsMove&&(n.unbind("touchmove.liveTile",r.bounceMethods.bounceMove),n.unbind("mousemove.liveTile",r.bounceMethods.bounceMove))}},bounceMove:function(t){if("no"!=r.bounceMethods.down){var e=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0]:t,i=Math.abs(e.pageX-r.bounceMethods.pointPos.x),o=Math.abs(e.pageY-r.bounceMethods.pointPos.y);if(i>r.bounceMethods.threshold||o>r.bounceMethods.threshold){var a=r.bounceMethods.down;r.bounceMethods.bounceDown(t),a!=r.bounceMethods.down&&n.removeClass(a)}}},unBounce:function(){if(n.removeClass(r.bounceMethods.down),"object"==typeof r.bounceMethods.downPcss){var t=["perspective-origin","perspective-origin-x","perspective-origin-y"],e=["","",""];r.bounceMethods.downPcss=s.appendStyleProperties({},t,e),window.setTimeout(function(){r.$tileParent.css(r.bounceMethods.downPcss)},200)}r.bounceMethods.down="no",r.bounceMethods.inTilePos=r.bounceMethods.zeroPos,r.bounceMethods.eventPos=r.bounceMethods.zeroPos}},window.PointerEvent||window.MSPointerEvent){var i=window.MSPointerEvent?"MS":"";n[0].addEventListener(i+"PointerDown",r.bounceMethods.bounceDown,!1)}else e.capabilities.canTouch?(n.bind("touchstart.liveTile",r.bounceMethods.bounceDown),n.bind("mousedown.liveTile",r.bounceMethods.bounceDown)):n.bind("mousedown.liveTile",r.bounceMethods.bounceDown)}())},unbindMsBounce:function(t,e){if(e.bounce&&(window.PointerEvent||window.MSPointerEvent)){var n=window.MSPointerEvent?"MS":"";t[0].removeEventListener(n+"PointerDown",e.bounceMethods.bounceDown,!1),t[0].removeEventListener(n+"PointerCancel",e.bounceMethods.bounceUp,!1),t[0].removeEventListener(n+"PointerOut",e.bounceMethods.bounceUp,!1)}},bindLink:function(e,n){n.link.length>0&&e.css({cursor:"pointer"}).bind("click.liveTile",function(e){("A"!=e.target.tagName||t(e).is(".live-tile,.slide,.flip"))&&(n.newWindow?window.open(n.link):window.location=n.link)})},runContenModules:function(t,e,n,r){for(var i=0;i<t.contentModules.length;i++){var o=t.contentModules[i];"function"==typeof o.action&&o.action(t,e,n,r)}},fade:function(e,n,i){var o="object"==typeof i?i:e.data("LiveTile"),s=function(){(o.timer.repeatCount>0||-1==o.timer.repeatCount)&&o.timer.count!=o.timer.repeatCount&&o.timer.start(o.delay)};if("undefined"==typeof o)return void r(t.fn.liveTile.defaults.rebindMessage);if(!o.faces.$front.is(":animated")){o.timer.pause();var l=o.loopCount+1;o.isReversed=l%2===0;var u=o.animationStarting.call(e[0],o,o.faces.$front,o.faces.$back);if("undefined"!=typeof u&&0==u)return void s();o.loopCount=l;var c=function(){s(),a.runContenModules(o,o.faces.$front,o.faces.$back),o.animationComplete.call(e[0],o,o.faces.$front,o.faces.$back)};o.isReversed?o.faces.$front.fadeIn(o.speed,o.noHaTransFunc,c):o.faces.$front.fadeOut(o.speed,o.noHaTransFunc,c)}},slide:function(n,i,o,l,u){var c="object"==typeof o?o:n.data("LiveTile"),f=n.data("metrojs.tile");if("undefined"==typeof c)return void r(t.fn.liveTile.defaults.rebindMessage);if(1==f.animating||n.is(":animated"))return c=null,void(f=null);var h=function(){(c.timer.repeatCount>0||-1==c.timer.repeatCount)&&c.timer.count!=c.timer.repeatCount&&c.timer.start(c.delay)};if("carousel"!==c.mode){c.isReversed=c.currentIndex%2!==0,c.timer.pause();var p=c.animationStarting.call(n[0],c,c.faces.$front,c.faces.$back);if("undefined"!=typeof p&&0==p)return void h();c.loopCount=c.loopCount+1}else c.isReversed=!0;var d;d="string"==typeof c.tempValues.direction&&c.tempValues.direction.length>0?c.tempValues.direction:c.direction,c.tempValues.direction=null;var g={},m={},v="undefined"==typeof l?c.currentIndex:l,y=t.trim(c.stops[Math.min(v,c.stops.length-1)]),b=y.indexOf("px"),w=0,x=0,$="vertical"===d?c.height:c.width,C="vertical"===d?"top":"left",S=1==c.stack,k=function(){"undefined"==typeof u?(c.currentIndex=c.currentIndex+1,c.currentIndex>c.stops.length-1&&(c.currentIndex=0)):u(),"carousel"!=c.mode&&h(),a.runContenModules(c,c.faces.$front,c.faces.$back,c.currentIndex),c.animationComplete.call(n[0],c,c.faces.$front,c.faces.$back),c=null,f=null};if(b>0?(x=parseInt(y.substring(0,b),10),w=x-$+"px"):(x=parseInt(y.replace("%",""),10),w=x-100+"%"),e.capabilities.canTransition&&c.useHardwareAccel){if("undefined"!=typeof f.animating&&1==f.animating)return;f.animating=!0;var T=["transition-property","transition-duration","transition-timing-function"],M=[c.useTranslate?"transform":C,c.speed+"ms",c.haTransFunc];M[s.browserPrefix+"transition-property"]=s.browserPrefix+"transform",g=s.appendStyleProperties(g,T,M),m=s.appendStyleProperties(m,T,M);var _,A="vertical"===d,E=A?"top":"left";c.useTranslate?(_=A?"translate(0%, "+y+")":"translate("+y+", 0%)",g=s.appendStyleProperties(g,["transform"],[_+"translateZ(0)"]),S&&(_=A?"translate(0%, "+w+")":"translate("+w+", 0%)",m=s.appendStyleProperties(m,["transform"],[_+"translateZ(0)"]))):(g[E]=y,S&&(m[E]=w)),c.faces.$front.css(g),S&&c.faces.$back.css(m),window.clearTimeout(c.completeTimeout),c.completeTimeout=window.setTimeout(function(){f.animating=!1,k()},c.speed)}else{g[C]=y,m[C]=w,f.animating=!0;var D=c.faces.$front.stop(),F=c.faces.$back.stop();D.animate(g,c.speed,c.noHaTransFunc,function(){f.animating=!1,k()}),S&&F.animate(m,c.speed,c.noHaTransFunc,function(){})}},carousel:function(n,i){var o=n.data("LiveTile");if("undefined"==typeof o)return void r(t.fn.liveTile.defaults.rebindMessage);var l=n.data("metrojs.tile");if(1==l.animating||o.faces.$listTiles.length<=1)return void(l=null);var u=function(){(o.timer.repeatCount>0||-1==o.timer.repeatCount)&&o.timer.count!=o.timer.repeatCount&&o.timer.start(o.delay)};o.timer.pause();var c=o.faces.$listTiles.filter(".active"),f=o.faces.$listTiles.index(c),h=o.currentIndex,p=h!=f?h:f,d=p+1>=o.faces.$listTiles.length?0:p+1,g=o.listData[d];if(f==d)return l=null,void(c=null);var m;m="string"==typeof o.tempValues.animationDirection&&o.tempValues.animationDirection.length>0?o.tempValues.animationDirection:"string"==typeof g.animationDirection&&g.animationDirection.length>0?g.animationDirection:o.animationDirection,o.tempValues.animationDirection=null;var v;"string"==typeof o.tempValues.direction&&o.tempValues.direction.length>0?v=o.tempValues.direction:"string"==typeof g.direction&&g.direction.length>0?(v=g.direction,o.tempValues.direction=v):v=o.direction;var y=o.faces.$listTiles.eq(d),b=o.animationStarting.call(n[0],o,c,y);if("undefined"!=typeof b&&0==b)return void u();o.loopCount=o.loopCount+1;var w,x=s.appendStyleProperties({},["transition-duration"],["0s"]),$="vertical"===v;"backward"===m?(o.useTranslate&&e.capabilities.canTransition?(w=$?"translate(0%, -100%)":"translate(-100%, 0%)",x=s.appendStyleProperties(x,["transform"],[w+" translateZ(0)"]),o.stops=["100%"]):($?(x.top="-100%",x.left="0%"):(x.top="0%",x.left="-100%"),o.stops=["100%"]),o.faces.$front=c,o.faces.$back=y):(o.useTranslate&&e.capabilities.canTransition?(w=$?"translate(0%, 100%)":"translate(100%, 0%)",x=s.appendStyleProperties(x,["transform"],[w+" translateZ(0)"])):$?(x.top="100%",x.left="0%"):(x.top="0%",x.left="100%"),o.faces.$front=y,o.faces.$back=c,o.stops=["0%"]),y.css(x),window.setTimeout(function(){c.removeClass("active"),y.addClass("active"),a.slide(n,i,o,0,function(){o.currentIndex=d,l=null,c=null,y=null,u()})},150)},flip:function(n,i,o,l){var u=n.data("metrojs.tile");if("undefined"!=typeof u&&1==u.animating)return void(u=null);var c="object"==typeof o?o:n.data("LiveTile");if("undefined"==typeof c)return void r(t.fn.liveTile.defaults.rebindMessage);var f,h,p,d,g,m,v,y="undefined"==typeof l,b=0,w=function(){(c.timer.repeatCount>0||-1==c.timer.repeatCount)&&c.timer.count!=c.timer.repeatCount&&c.timer.start(c.delay)};if(y){c.timer.pause();var x=c.loopCount+1;v=x%2===0,c.isReversed=v,f=c.faces.$front,h=c.faces.$back;var $=v?[c,h,f]:[c,f,h],C=c.animationStarting.apply(n[0],$);if("undefined"!=typeof C&&0==C)return void w();p=c.direction,height=c.height,width=c.width,margin=c.margin,c.loopCount=x}else v=i%2===0,b=u.index,f=c.listData[b].faces.$front,h=c.listData[b].faces.$back,c.listData[b].isReversed=v,p=c.listData[b].direction,height=c.listData[b].height,width=c.listData[b].width,margin=c.listData[b].margin;if(e.capabilities.canFlip3d&&c.useHardwareAccel){d=v?"360deg":"180deg",g="vertical"===p?"rotateX("+d+")":"rotateY("+d+")",m=s.appendStyleProperties({},["transform","transition"],[g,"all "+c.speed+"ms "+c.haTransFunc+" 0s"]);var S=v?"540deg":"360deg",k="vertical"===p?"rotateX("+S+")":"rotateY("+S+")",T=s.appendStyleProperties({},["transform","transition"],[k,"all "+c.speed+"ms "+c.haTransFunc+" 0s"]);f.css(m),h.css(T);var M=function(){u.animating=!1;var t,e;v?(t="vertical"===p?"rotateX(0deg)":"rotateY(0deg)",e=s.appendStyleProperties({},["transform","transition"],[t,"all 0s "+c.haTransFunc+" 0s"]),f.css(e),a.runContenModules(c,f,h,b),y?(w(),c.animationComplete.call(n[0],c,f,h)):l(c,f,h),f=null,h=null,c=null,u=null):(a.runContenModules(c,h,f,b),y?(w(),c.animationComplete.call(n[0],c,h,f)):l(c,h,f))};"flip-list"===c.mode?(window.clearTimeout(c.listData[b].completeTimeout),c.listData[b].completeTimeout=window.setTimeout(M,c.speed)):(window.clearTimeout(c.completeTimeout),c.completeTimeout=window.setTimeout(M,c.speed))}else{var _,A=c.speed/2,E="vertical"===p?{height:"0px",width:"100%",marginTop:margin+"px",opacity:c.noHAflipOpacity}:{height:"100%",width:"0px",marginLeft:margin+"px",opacity:c.noHAflipOpacity},D="vertical"===p?{height:"100%",width:"100%",marginTop:"0px",opacity:"1"}:{height:"100%",width:"100%",marginLeft:"0px",opacity:"1"};v?(u.animating=!0,h.stop().animate(E,{duration:A}),_=function(){u.animating=!1,f.stop().animate(D,{duration:A,complete:function(){a.runContenModules(c,f,h,b),y?(w(),c.animationComplete.call(n[0],c,f,h)):l(c,f,h),u=null,f=null,h=null}})},"flip-list"===c.mode?(window.clearTimeout(c.listData[u.index].completeTimeout),c.listData[u.index].completeTimeout=window.setTimeout(_,A)):(window.clearTimeout(c.completeTimeout),c.completeTimeout=window.setTimeout(_,A))):(u.animating=!0,f.stop().animate(E,{duration:A}),_=function(){u.animating=!1,h.stop().animate(D,{duration:A,complete:function(){a.runContenModules(c,h,f,b),y?(w(),c.animationComplete.call(n[0],c,h,f)):l(c,h,f),f=null,h=null,c=null,u=null}})},"flip-list"===c.mode?(window.clearTimeout(c.listData[u.index].completeTimeout),c.listData[u.index].completeTimeout=window.setTimeout(_,A)):(window.clearTimeout(c.completeTimeout),c.completeTimeout=window.setTimeout(_,A)))}},flipList:function(e){var n=e.data("LiveTile"),o=n.speed,s=!1,l=function(){(n.timer.repeatCount>0||-1==n.timer.repeatCount)&&n.timer.count!=n.timer.repeatCount&&n.timer.start(n.delay)};if("undefined"==typeof n)return void r(t.fn.liveTile.defaults.rebindMessage);n.timer.pause();var u=n.animationStarting.call(e[0],n,null,null);return"undefined"!=typeof u&&0==u?void l():(n.loopCount=n.loopCount+1,n.faces.$listTiles.each(function(e,r){var l=t(r),u=l.data("metrojs.tile"),c=n.triggerDelay(e),f=n.speed+Math.max(c,0),h=n.alwaysTrigger;h||(h=351*Math.random()>150?!0:!1),h&&(s=!0,o=Math.max(f+n.speed,o),window.clearTimeout(u.flCompleteTimeout),u.flCompleteTimeout=window.setTimeout(function(){a.flip(l,u.count,n,function(){u.count++,u.count>=i&&(u.count=1),l=null,u=null})},f))}),void(s&&(window.clearTimeout(n.flCompleteTimeout),n.flCompleteTimeout=window.setTimeout(function(){a.runContenModules(n,null,null,-1),n.animationComplete.call(e[0],n,null,null),l()},o+n.speed))))}},s={stylePrefixes:"Webkit Moz O ms Khtml ".split(" "),domPrefixes:"-webkit- -moz- -o- -ms- -khtml- ".split(" "),browserPrefix:null,appendStyleProperties:function(e,n,r){for(var i=0;i<=n.length-1;i++)e[t.trim(this.browserPrefix+n[i])]=r[i],e[t.trim(n[i])]=r[i];return e},applyStyleValue:function(e,n,r){return e[t.trim(this.browserPrefix+n)]=r,e[n]=r,e},getBrowserPrefix:function(){if(null==this.browserPrefix){for(var t="",e=0;e<=this.domPrefixes.length-1;e++)"undefined"!=typeof document.body.style[this.domPrefixes[e]+"transform"]&&(t=this.domPrefixes[e]);return this.browserPrefix=t}return this.browserPrefix},shuffleArray:function(t){for(var e=[];t.length;)e.push(t.splice(Math.random()*t.length,1));for(;e.length;)t.push(e.pop());return t}},l={moduleName:"custom",customSwap:{data:{customDoSwapFront:function(){return!1},customDoSwapBack:function(){return!1},customGetContent:function(){return null}},initData:function(e){var n={};n.doSwapFront=t.inArray("custom",e.swapFront)>-1&&e.customDoSwapFront(),n.doSwapBack=t.inArray("custom",e.swapBack)>-1&&e.customDoSwapBack(),e.customSwap="undefined"!=typeof e.customSwap?t.extend(n,e.customSwap):n},action:function(){}},htmlSwap:{moduleName:"html",data:{frontContent:[],frontIsRandom:!0,frontIsInGrid:!1,backContent:[],backIsRandom:!0,backIsInGrid:!1},initData:function(e,n){var r={backBag:[],backIndex:0,backStaticIndex:0,backStaticRndm:-1,prevBackIndex:-1,frontBag:[],frontIndex:0,frontStaticIndex:0,frontStaticRndm:-1,prevFrontIndex:-1};e.ignoreDataAttributes?(r.frontIsRandom=e.frontIsRandom,r.frontIsInGrid=e.frontIsInGrid,r.backIsRandom=e.backIsRandom,r.backIsInGrid=e.backIsInGrid):(r.frontIsRandom=a.getDataOrDefault(n,"front-israndom",e.frontIsRandom),r.frontIsInGrid=a.getDataOrDefault(n,"front-isingrid",e.frontIsInGrid),r.backIsRandom=a.getDataOrDefault(n,"back-israndom",e.backIsRandom),r.backIsInGrid=a.getDataOrDefault(n,"back-isingrid",e.backIsInGrid)),r.doSwapFront=t.inArray("html",e.swapFront)>-1&&e.frontContent instanceof Array&&e.frontContent.length>0,r.doSwapBack=t.inArray("html",e.swapBack)>-1&&e.backContent instanceof Array&&e.backContent.length>0,e.htmlSwap="undefined"!=typeof e.htmlSwap?t.extend(r,e.htmlSwap):r,e.htmlSwap.doSwapFront&&(e.htmlSwap.frontBag=this.prepBag(e.htmlSwap.frontBag,e.frontContent,e.htmlSwap.prevFrontIndex),e.htmlSwap.frontStaticRndm=e.htmlSwap.frontBag.pop()),e.htmlSwap.doSwapBack&&(e.htmlSwap.backBag=this.prepBag(e.htmlSwap.backBag,e.backContent,e.htmlSwap.prevBackIndex),e.htmlSwap.backStaticRndm=e.htmlSwap.backBag.pop())},prepBag:function(t,e,n){t=t||[];for(var r=0,i=0;i<e.length;i++)(i!=n||1===t.length)&&(t[r]=i,r++);return s.shuffleArray(t)},getFrontSwapIndex:function(t){var e=0;return t.htmlSwap.frontIsRandom?(0===t.htmlSwap.frontBag.length&&(t.htmlSwap.frontBag=this.prepBag(t.htmlSwap.frontBag,t.frontContent,t.htmlSwap.prevFrontIndex)),e=t.htmlSwap.frontIsInGrid?t.htmlSwap.frontStaticRndm:t.htmlSwap.frontBag.pop()):e=t.htmlSwap.frontIsInGrid?t.htmlSwap.frontStaticIndex:t.htmlSwap.frontIndex,e},getBackSwapIndex:function(t){var e=0;return t.htmlSwap.backIsRandom?(0===t.htmlSwap.backBag.length&&(t.htmlSwap.backBag=this.prepBag(t.htmlSwap.backBag,t.backContent,t.htmlSwap.prevBackIndex)),e=t.htmlSwap.backIsInGrid?t.htmlSwap.backStaticRndm:t.htmlSwap.backBag.pop()):e=t.htmlSwap.backIsInGrid?t.htmlSwap.backStaticIndex:t.htmlSwap.backIndex,e},action:function(t,e,n,r){if(t.htmlSwap.doSwapFront||t.htmlSwap.doSwapBack){var i="flip-list"===t.mode,o=0,a=i?t.listData[Math.max(r,0)].isReversed:t.isReversed;if(i&&-1==r)return void(a?t.htmlSwap.doSwapBack&&(0===t.htmlSwap.backBag.length&&(t.htmlSwap.backBag=this.prepBag(t.htmlSwap.backBag,t.backContent,t.htmlSwap.backStaticRndm)),t.htmlSwap.backStaticRndm=t.htmlSwap.backBag.pop(),t.htmlSwap.backStaticIndex++,t.htmlSwap.backStaticIndex>=t.backContent.length&&(t.htmlSwap.backStaticIndex=0)):t.htmlSwap.doSwapFront&&(0===t.htmlSwap.frontBag.length&&(t.htmlSwap.frontBag=this.prepBag(t.htmlSwap.frontBag,t.frontContent,t.htmlSwap.frontStaticRndm)),t.htmlSwap.frontStaticRndm=t.htmlSwap.frontBag.pop(),t.htmlSwap.frontStaticIndex++,t.htmlSwap.frontStaticIndex>=t.frontContent.length&&(t.htmlSwap.frontStaticIndex=0)));if(a){if(!t.htmlSwap.doSwapBack)return;o=this.getBackSwapIndex(t),t.htmlSwap.prevBackIndex=o,n.html(t.backContent[t.htmlSwap.backIndex]),t.htmlSwap.backIndex++,t.htmlSwap.backIndex>=t.backContent.length&&(t.htmlSwap.backIndex=0),i||(t.htmlSwap.backStaticIndex++,t.htmlSwap.backStaticIndex>=t.backContent.length&&(t.htmlSwap.backStaticIndex=0))}else{if(!t.htmlSwap.doSwapFront)return;o=this.getFrontSwapIndex(t),t.htmlSwap.prevFrontIndex=o,"slide"===t.mode?t.startNow?n.html(t.frontContent[o]):e.html(t.frontContent[o]):n.html(t.frontContent[o]),t.htmlSwap.frontIndex++,t.htmlSwap.frontIndex>=t.frontContent.length&&(t.htmlSwap.frontIndex=0),i||(t.htmlSwap.frontStaticIndex++,t.htmlSwap.frontStaticIndex>=t.frontContent.length&&(t.htmlSwap.frontStaticIndex=0))}}}},imageSwap:{moduleName:"image",data:{preloadImages:!1,imageCssSelector:">img,>a>img",fadeSwap:!1,frontImages:[],frontIsRandom:!0,frontIsBackgroundImage:!1,frontIsInGrid:!1,backImages:null,backIsRandom:!0,backIsBackgroundImage:!1,backIsInGrid:!1},initData:function(e,n){var r={backBag:[],backIndex:0,backStaticIndex:0,backStaticRndm:-1,frontBag:[],frontIndex:0,frontStaticIndex:0,frontStaticRndm:-1,prevBackIndex:-1,prevFrontIndex:-1},i=e.ignoreDataAttributes;i?(r.imageCssSelector=a.getDataOrDefault(n,"image-css",e.imageCssSelector),r.fadeSwap=a.getDataOrDefault(n,"fadeswap",e.fadeSwap),r.frontIsRandom=a.getDataOrDefault(n,"front-israndom",e.frontIsRandom),r.frontIsInGrid=a.getDataOrDefault(n,"front-isingrid",e.frontIsInGrid),r.frontIsBackgroundImage=a.getDataOrDefault(n,"front-isbg",e.frontIsBackgroundImage),r.backIsRandom=a.getDataOrDefault(n,"back-israndom",e.backIsRandom),r.backIsInGrid=a.getDataOrDefault(n,"back-isingrid",e.backIsInGrid),r.backIsBackgroundImage=a.getDataOrDefault(n,"back-isbg",e.backIsBackgroundImage),r.doSwapFront=t.inArray("image",e.swapFront)>-1&&e.frontImages instanceof Array&&e.frontImages.length>0,r.doSwapBack=t.inArray("image",e.swapBack)>-1&&e.backImages instanceof Array&&e.backImages.length>0,r.alwaysSwapFront=a.getDataOrDefault(n,"front-alwaysswap",e.alwaysSwapFront),r.alwaysSwapBack=a.getDataOrDefault(n,"back-alwaysswap",e.alwaysSwapBack)):(r.imageCssSelector=e.imageCssSelector,r.fadeSwap=e.fadeSwap,r.frontIsRandom=e.frontIsRandom,r.frontIsInGrid=e.frontIsInGrid,r.frontIsBackgroundImage=e.frontIsBackgroundImage,r.backIsRandom=e.backIsRandom,r.backIsInGrid=e.backIsInGrid,r.backIsBackgroundImage=e.backIsBackgroundImage,r.doSwapFront=t.inArray("image",e.swapFront)>-1&&e.frontImages instanceof Array&&e.frontImages.length>0,r.doSwapBack=t.inArray("image",e.swapBack)>-1&&e.backImages instanceof Array&&e.backImages.length>0,r.alwaysSwapFront=e.alwaysSwapFront,r.alwaysSwapBack=e.alwaysSwapBack),e.imgSwap="undefined"!=typeof e.imgSwap?t.extend(r,e.imgSwap):r,e.imgSwap.doSwapFront&&(e.imgSwap.frontBag=this.prepBag(e.imgSwap.frontBag,e.frontImages,e.imgSwap.prevFrontIndex),e.imgSwap.frontStaticRndm=e.imgSwap.frontBag.pop(),e.preloadImages&&t(e.frontImages).metrojs.preloadImages(function(){})),e.imgSwap.doSwapBack&&(e.imgSwap.backBag=this.prepBag(e.imgSwap.backBag,e.backImages,e.imgSwap.prevBackIndex),e.imgSwap.backStaticRndm=e.imgSwap.backBag.pop(),e.preloadImages&&t(e.backImages).metrojs.preloadImages(function(){}))},prepBag:function(t,e,n){t=t||[];for(var r=0,i=0;i<e.length;i++)(i!=n||1===e.length)&&(t[r]=i,r++);return s.shuffleArray(t)},getFrontSwapIndex:function(t){var e=0;return t.imgSwap.frontIsRandom?(0===t.imgSwap.frontBag.length&&(t.imgSwap.frontBag=this.prepBag(t.imgSwap.frontBag,t.frontImages,t.imgSwap.prevFrontIndex)),e=t.imgSwap.frontIsInGrid?t.imgSwap.frontStaticRndm:t.imgSwap.frontBag.pop()):e=t.imgSwap.frontIsInGrid?t.imgSwap.frontStaticIndex:t.imgSwap.frontIndex,e},getBackSwapIndex:function(t){var e=0;return t.imgSwap.backIsRandom?(0===t.imgSwap.backBag.length&&(t.imgSwap.backBag=this.prepBag(t.imgSwap.backBag,t.backImages,t.imgSwap.prevBackIndex)),e=t.imgSwap.backIsInGrid?t.imgSwap.backStaticRndm:t.imgSwap.backBag.pop()):e=t.imgSwap.backIsInGrid?t.imgSwap.backStaticIndex:t.imgSwap.backIndex,e},setImageProperties:function(e,n,r){var i={},o={};"undefined"!=typeof n.src&&(r?i.backgroundImage="url('"+n.src+"')":o.src=n.src),"undefined"!=typeof n.alt&&(o.alt=n.alt),e.css("object"==typeof n.css?t.extend(i,n.css):i),e.attr("object"==typeof n.attr?t.extend(o,n.attr):o)},action:function(t,e,n,r){if(t.imgSwap.doSwapFront||t.imgSwap.doSwapBack){var i="flip-list"===t.mode,o=("slide"==t.mode,0),a=i?t.listData[Math.max(r,0)].isReversed:t.isReversed;if(i&&-1==r)return(t.alwaysSwapFront||!a)&&t.imgSwap.doSwapFront&&(0===t.imgSwap.frontBag.length&&(t.imgSwap.frontBag=this.prepBag(t.imgSwap.frontBag,t.frontImages,t.imgSwap.frontStaticRndm)),t.imgSwap.frontStaticRndm=t.imgSwap.frontBag.pop(),t.imgSwap.frontStaticIndex++,t.imgSwap.frontStaticIndex>=t.frontImages.length&&(t.imgSwap.frontStaticIndex=0)),void((t.alwaysSwapBack||a)&&t.imgSwap.doSwapBack&&(0===t.imgSwap.backBag.length&&(t.imgSwap.backBag=this.prepBag(t.imgSwap.backBag,t.backImages,t.imgSwap.backStaticRndm)),t.imgSwap.backStaticRndm=t.imgSwap.backBag.pop(),t.imgSwap.backStaticIndex++,t.imgSwap.backStaticIndex>=t.backImages.length&&(t.imgSwap.backStaticIndex=0)));var s,u,c,f;if(t.alwaysSwapFront||!a){if(!t.imgSwap.doSwapFront)return;o=this.getFrontSwapIndex(t),t.imgSwap.prevFrontIndex=o,s="slide"===t.mode?e:n,u=s.find(t.imgSwap.imageCssSelector),c="object"==typeof t.frontImages[o]?t.frontImages[o]:{src:t.frontImages[o]},f=function(e){var n=t.imgSwap.frontIsBackgroundImage;"function"==typeof e&&(n?window.setTimeout(e,100):u[0].onload=e),l.imageSwap.setImageProperties(u,c,n)},t.fadeSwap?u.fadeOut(function(){f(function(){u.fadeIn()})}):f(),t.imgSwap.frontIndex++,t.imgSwap.frontIndex>=t.frontImages.length&&(t.imgSwap.frontIndex=0),i||(t.imgSwap.frontStaticIndex++,t.imgSwap.frontStaticIndex>=t.frontImages.length&&(t.imgSwap.frontStaticIndex=0))}if(t.alwaysSwapBack||a){if(!t.imgSwap.doSwapBack)return;o=this.getBackSwapIndex(t),t.imgSwap.prevBackIndex=o,s=n,u=s.find(t.imgSwap.imageCssSelector),c="object"==typeof t.backImages[o]?t.backImages[o]:{src:t.backImages[o]},f=function(){l.imageSwap.setImageProperties(u,c,t.imgSwap.backIsBackgroundImage)},t.fadeSwap?u.fadeOut(function(){f(function(){u.fadeIn()})}):f(),t.imgSwap.backIndex++,t.imgSwap.backIndex>=t.backImages.length&&(t.imgSwap.backIndex=0),i||(t.imgSwap.backStaticIndex++,t.imgSwap.backStaticIndex>=t.backImages.length&&(t.imgSwap.backStaticIndex=0))}}}}};t.fn.metrojs.TileTimer=function(t,e,n){this.timerId=null,this.interval=t,this.action=e,this.count=0,this.repeatCount="undefined"==typeof n?0:n,this.start=function(e){window.clearTimeout(this.timerId);var n=this;this.timerId=window.setTimeout(function(){n.tick.call(n,t)},e)},this.tick=function(t){this.action(this.count+1),this.count++,this.count>=i&&(this.count=0),(this.repeatCount>0||-1==this.repeatCount)&&(this.count!=this.repeatCount?this.start(t):this.stop())},this.stop=function(){this.timerId=window.clearTimeout(this.timerId),this.reset()},this.resume=function(){(this.repeatCount>0||-1==this.repeatCount)&&this.count!=this.repeatCount&&this.start(t)},this.pause=function(){this.timerId=window.clearTimeout(this.timerId)},this.reset=function(){this.count=0},this.restart=function(t){this.stop(),this.start(t)}},jQuery.fn.metrojs.theme={loadDefaultTheme:function(t){if("undefined"==typeof t||null==t)t=jQuery.fn.metrojs.theme.defaults;else{var e=jQuery.fn.metrojs.theme.defaults;jQuery.extend(e,t),t=e}var n="undefined"!=typeof window.localStorage,r=function(t){return"undefined"!=typeof window.localStorage[t]&&null!=window.localStorage[t]};!n||r("Metro.JS.AccentColor")&&r("Metro.JS.BaseAccentColor")?n?(t.accentColor=window.localStorage["Metro.JS.AccentColor"],t.baseTheme=window.localStorage["Metro.JS.BaseAccentColor"],jQuery(t.accentCssSelector).addClass(t.accentColor).data("accent",t.accentColor),jQuery(t.baseThemeCssSelector).addClass(t.baseTheme),"function"==typeof t.loaded&&t.loaded(t.baseTheme,t.accentColor)):(jQuery(t.accentCssSelector).addClass(t.accentColor).data("accent",t.accentColor),jQuery(t.baseThemeCssSelector).addClass(t.baseTheme),"function"==typeof t.loaded&&t.loaded(t.baseTheme,t.accentColor),"undefined"!=typeof t.preloadAltBaseTheme&&t.preloadAltBaseTheme&&jQuery(["dark"==t.baseTheme?t.metroLightUrl:t.metroDarkUrl]).metrojs.preloadImages(function(){})):(window.localStorage["Metro.JS.AccentColor"]=t.accentColor,window.localStorage["Metro.JS.BaseAccentColor"]=t.baseTheme,jQuery(t.accentCssSelector).addClass(t.accentColor).data("accent",t.accentColor),jQuery(t.baseThemeCssSelector).addClass(t.baseTheme),"function"==typeof t.loaded&&t.loaded(t.baseTheme,t.accentColor),"undefined"!=typeof t.preloadAltBaseTheme&&t.preloadAltBaseTheme&&jQuery(["dark"==t.baseTheme?t.metroLightUrl:t.metroDarkUrl]).metrojs.preloadImages(function(){}))},applyTheme:function(t,e,n){if("undefined"==typeof n||null==n)n=jQuery.fn.metrojs.theme.defaults;else{var r=jQuery.fn.metrojs.theme.defaults;n=jQuery.extend({},r,n)}if("undefined"!=typeof t&&null!=t){"undefined"!=typeof window.localStorage&&(window.localStorage["Metro.JS.BaseAccentColor"]=t);var i=jQuery(n.baseThemeCssSelector);i.length>0&&("dark"==t?i.addClass("dark").removeClass("light"):"light"==t&&i.addClass("light").removeClass("dark"))}if("undefined"!=typeof e&&null!=e){"undefined"!=typeof window.localStorage&&(window.localStorage["Metro.JS.AccentColor"]=e);var o=jQuery(n.accentCssSelector);if(o.length>0){var a=!1;o.each(function(){jQuery(this).addClass(e);
var t=jQuery(this).data("accent");if(t!=e){var n=jQuery(this).attr("class").replace(t,"");n=n.replace(/(\s)+/," "),jQuery(this).attr("class",n),jQuery(this).data("accent",e),a=!0}}),a&&"function"==typeof n.accentPicked&&n.accentPicked(e)}}},appendAccentColors:function(e){if("undefined"==typeof e||null==e)e=jQuery.fn.metrojs.theme.defaults;else{var n=jQuery.fn.metrojs.theme.defaults;e=jQuery.extend({},n,e)}for(var r="",i=e.accentColors,o=e.accentListTemplate,a=0;a<i.length;a++)r+=o.replace(/\{0\}/g,i[a]);t(r).appendTo(e.accentListContainer)},appendBaseThemes:function(e){if("undefined"==typeof e||null==e)e=jQuery.fn.metrojs.theme.defaults;else{var n=jQuery.fn.metrojs.theme.defaults;e=jQuery.extend({},n,e)}for(var r="",i=e.baseThemes,o=e.baseThemeListTemplate,a=0;a<i.length;a++)r+=o.replace(/\{0\}/g,i[a]);t(r).appendTo(e.baseThemeListContainer)},defaults:{baseThemeCssSelector:"body",accentCssSelector:".tiles",accentColor:"blue",baseTheme:"dark",accentColors:["amber","blue","brown","cobalt","crimson","cyan","magenta","lime","indigo","green","emerald","mango","mauve","olive","orange","pink","red","sienna","steel","teal","violet","yellow"],baseThemes:["light","dark"],accentListTemplate:"<li><a href='javascript:;' title='{0}' class='accent {0}'></a></li>",accentListContainer:"ul.theme-options,.theme-options>ul",baseThemeListTemplate:"<li><a href='javascript:;' title='{0}' class='accent {0}'></a></li>",baseThemeListContainer:"ul.base-theme-options,.base-theme-options>ul"}},jQuery.fn.applicationBar=function(e){var n="undefined"!=typeof jQuery.fn.metrojs.theme?jQuery.fn.metrojs.theme.defaults:{};if(jQuery.extend(n,jQuery.fn.applicationBar.defaults,e),"undefined"!=typeof jQuery.fn.metrojs.theme){var r=jQuery.fn.metrojs.theme;n.shouldApplyTheme&&r.loadDefaultTheme(n);var i=n.accentListContainer.replace(","," a,")+" a",o=function(){var t=jQuery(this).attr("class").replace("accent","").replace(" ","");r.applyTheme(null,t,n),"function"==typeof n.accentPicked&&n.accentPicked(t)},a=n.baseThemeListContainer.replace(","," a,")+" a",s=function(){var t=jQuery(this).attr("class").replace("accent","").replace(" ","");r.applyTheme(t,null,n),"function"==typeof n.themePicked&&n.themePicked(t)};"function"==typeof t.fn.on?(t(this).on("click.appBar",i,o),t(this).on("click.appBar",a,s)):(t(i).live("click.appBar",o),t(a).live("click.appBar",s))}return t(this).each(function(e,r){var i=t(r),o=t.extend({},n);"auto"==o.collapseHeight&&(o.collapseHeight=t(this).outerHeight()),navigator.userAgent.match(/(Android|webOS|iPhone|iPod|BlackBerry|PIE|IEMobile)/i)&&(navigator.userAgent.match(/(IEMobile\/1)/i)||navigator.userAgent.match(/(iPhone OS [56789])/i)||i.css({position:"absolute",bottom:"0px"})),o.slideOpen=function(){i.hasClass("expanded")||o.animateAppBar(!1)},o.slideClosed=function(){i.hasClass("expanded")&&o.animateAppBar(!0)},o.animateAppBar=function(t){var e,r=t?o.collapseHeight:o.expandHeight;if(t){if(e=n.collapse(),"undefined"!=typeof e&&e===!1)return;i.removeClass("expanded")}else{if(e=n.expand(),"undefined"!=typeof e&&e===!1)return;i.hasClass("expanded")||i.addClass("expanded")}i.stop().animate({height:r},{duration:o.duration},function(){t?n.collapsed():n.expanded()})},i.data("ApplicationBar",o),i.find(n.handleSelector).click(function(){o.animateAppBar(i.hasClass("expanded"))}),1==o.bindKeyboard&&jQuery(document.documentElement).keyup(function(t){38==t.keyCode?t.target&&null==t.target.tagName.match(/INPUT|TEXTAREA|SELECT/i)&&(i.hasClass("expanded")||o.animateAppBar(!1)):40==t.keyCode&&t.target&&null==t.target.tagName.match(/INPUT|TEXTAREA|SELECT/i)&&i.hasClass("expanded")&&o.animateAppBar(!0)})})},jQuery.fn.applicationBar.defaults={applyTheme:!0,themePicked:function(){},accentPicked:function(){},loaded:function(){},duration:300,expandHeight:"320px",collapseHeight:"auto",bindKeyboard:!0,handleSelector:"a.etc",metroLightUrl:"images/metroIcons_light.jpg",metroDarkUrl:"images/metroIcons.jpg",preloadAltBaseTheme:!1,expand:function(){},collapse:function(){},expanded:function(){},collapsed:function(){}},t.fn.metrojs.preloadImages=function(e){var n=t(this).toArray(),r=t("<img style='display:none;' />").appendTo("body");t(this).each(function(){var t=this;"object"==typeof this&&(t=this.src),r.attr({src:t}).load(function(){for(var t=0;t<n.length;t++)n[t]==element&&n.splice(t,1);0==n.length&&e()})}),r.remove()},t.fn.metrojs.MetroModernizr=function(e){if("undefined"==typeof e&&(e={useHardwareAccel:!0,useModernizr:"undefined"!=typeof window.Modernizr}),this.isOldJQuery=/^1\.[0123]/.test(t.fn.jquery),this.isOldAndroid=function(){try{var e=navigator.userAgent;if(e.indexOf("Android")>=0){var n=parseFloat(e.slice(e.indexOf("Android")+8));if(2.3>n)return!0}}catch(r){t.error(r)}return!1}(),this.canTransform=!1,this.canTransition=!1,this.canTransform3d=!1,this.canAnimate=!1,this.canTouch=!1,this.canFlip3d=e.useHardwareAccel,1==e.useHardwareAccel)if(0==e.useModernizr)if("undefined"!=typeof window.MetroModernizr)this.canTransform=window.MetroModernizr.canTransform,this.canTransition=window.MetroModernizr.canTransition,this.canTransform3d=window.MetroModernizr.canTransform3d,this.canAnimate=window.MetroModernizr.canAnimate,this.canTouch=window.MetroModernizr.canTouch;else{window.MetroModernizr={};var n="metromodernizr",r=document.documentElement,i=document.head||document.getElementsByTagName("head")[0],o=document.createElement(n),a=o.style,s=" -webkit- -moz- -o- -ms- ".split(" "),l="Webkit Moz O ms Khtml".split(" "),u=function(t,e){for(var n in t)if(void 0!==a[t[n]]&&(!e||e(t[n],o)))return!0},c=function(t,e){var n=t.charAt(0).toUpperCase()+t.substr(1),r=(t+" "+l.join(n+" ")+n).split(" ");return!!u(r,e)},f=function(){var t=!!u(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);return t&&"webkitPerspective"in r.style&&(t=h(["@media (",s.join("transform-3d),("),n,")","{#metromodernizr{left:9px;position:absolute;height:3px;}}"].join(""),function(t){return 3===t.offsetHeight&&9===t.offsetLeft})),t},h=function(t,e){var o,a=document.createElement("style"),s=document.createElement("div");return a.textContent=t,i.appendChild(a),s.id=n,r.appendChild(s),o=e(s),a.parentNode.removeChild(a),s.parentNode.removeChild(s),!!o},p=function(){return canTouch="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||window.PointerEvent&&window.navigator.maxTouchPoints>0||window.MSPointerEvent&&window.navigator.msMaxTouchPoints>0||h(["@media (",s.join("touch-enabled),("),n,")","{#metromodernizr{top:9px;position:absolute}}"].join(""),function(t){return 9===t.offsetTop})};this.canTransform=!!u(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"]),this.canTransition=c("transitionProperty"),this.canTransform3d=f(),this.canAnimate=c("animationName"),this.canTouch=p(),window.MetroModernizr.canTransform=this.canTransform,window.MetroModernizr.canTransition=this.canTransition,window.MetroModernizr.canTransform3d=this.canTransform3d,window.MetroModernizr.canAnimate=this.canAnimate,window.MetroModernizr.canTouch=this.canTouch,r=null,i=null,o=null,a=null}else this.canTransform=t("html").hasClass("csstransforms"),this.canTransition=t("html").hasClass("csstransitions"),this.canTransform3d=t("html").hasClass("csstransforms3d"),this.canAnimate=t("html").hasClass("cssanimations"),this.canTouch=t("html").hasClass("touch")||"undefined"!=typeof window.navigator.msMaxTouchPoints&&window.navigator.msMaxTouchPoints>0;this.canFlip3d=this.canFlip3d&&this.canAnimate&&this.canTransform&&this.canTransform3d}}(jQuery);